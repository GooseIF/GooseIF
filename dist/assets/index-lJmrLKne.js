var b0=Object.defineProperty;var q0=(i,e,n)=>e in i?b0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var jf=(i,e,n)=>q0(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Pu={exports:{}},cs={},Au={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function Q0(){if(Xf)return we;Xf=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function L(T,O,q){this.props=T,this.context=O,this.refs=S,this.updater=q||x}L.prototype.isReactComponent={},L.prototype.setState=function(T,O){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,O,"setState")},L.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function N(){}N.prototype=L.prototype;function A(T,O,q){this.props=T,this.context=O,this.refs=S,this.updater=q||x}var Y=A.prototype=new N;Y.constructor=A,E(Y,L.prototype),Y.isPureReactComponent=!0;var D=Array.isArray,k=Object.prototype.hasOwnProperty,K={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function X(T,O,q){var oe,le={},ae=null,me=null;if(O!=null)for(oe in O.ref!==void 0&&(me=O.ref),O.key!==void 0&&(ae=""+O.key),O)k.call(O,oe)&&!J.hasOwnProperty(oe)&&(le[oe]=O[oe]);var ve=arguments.length-2;if(ve===1)le.children=q;else if(1<ve){for(var xe=Array(ve),Fe=0;Fe<ve;Fe++)xe[Fe]=arguments[Fe+2];le.children=xe}if(T&&T.defaultProps)for(oe in ve=T.defaultProps,ve)le[oe]===void 0&&(le[oe]=ve[oe]);return{$$typeof:i,type:T,key:ae,ref:me,props:le,_owner:K.current}}function Z(T,O){return{$$typeof:i,type:T.type,key:O,ref:T.ref,props:T.props,_owner:T._owner}}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function de(T){var O={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(q){return O[q]})}var se=/\/+/g;function ue(T,O){return typeof T=="object"&&T!==null&&T.key!=null?de(""+T.key):O.toString(36)}function pe(T,O,q,oe,le){var ae=typeof T;(ae==="undefined"||ae==="boolean")&&(T=null);var me=!1;if(T===null)me=!0;else switch(ae){case"string":case"number":me=!0;break;case"object":switch(T.$$typeof){case i:case e:me=!0}}if(me)return me=T,le=le(me),T=oe===""?"."+ue(me,0):oe,D(le)?(q="",T!=null&&(q=T.replace(se,"$&/")+"/"),pe(le,O,q,"",function(Fe){return Fe})):le!=null&&(B(le)&&(le=Z(le,q+(!le.key||me&&me.key===le.key?"":(""+le.key).replace(se,"$&/")+"/")+T)),O.push(le)),1;if(me=0,oe=oe===""?".":oe+":",D(T))for(var ve=0;ve<T.length;ve++){ae=T[ve];var xe=oe+ue(ae,ve);me+=pe(ae,O,q,xe,le)}else if(xe=v(T),typeof xe=="function")for(T=xe.call(T),ve=0;!(ae=T.next()).done;)ae=ae.value,xe=oe+ue(ae,ve++),me+=pe(ae,O,q,xe,le);else if(ae==="object")throw O=String(T),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return me}function re(T,O,q){if(T==null)return T;var oe=[],le=0;return pe(T,oe,"","",function(ae){return O.call(q,ae,le++)}),oe}function Ee(T){if(T._status===-1){var O=T._result;O=O(),O.then(function(q){(T._status===0||T._status===-1)&&(T._status=1,T._result=q)},function(q){(T._status===0||T._status===-1)&&(T._status=2,T._result=q)}),T._status===-1&&(T._status=0,T._result=O)}if(T._status===1)return T._result.default;throw T._result}var ee={current:null},V={transition:null},H={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function z(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:re,forEach:function(T,O,q){re(T,function(){O.apply(this,arguments)},q)},count:function(T){var O=0;return re(T,function(){O++}),O},toArray:function(T){return re(T,function(O){return O})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},we.Component=L,we.Fragment=n,we.Profiler=o,we.PureComponent=A,we.StrictMode=s,we.Suspense=f,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,we.act=z,we.cloneElement=function(T,O,q){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var oe=E({},T.props),le=T.key,ae=T.ref,me=T._owner;if(O!=null){if(O.ref!==void 0&&(ae=O.ref,me=K.current),O.key!==void 0&&(le=""+O.key),T.type&&T.type.defaultProps)var ve=T.type.defaultProps;for(xe in O)k.call(O,xe)&&!J.hasOwnProperty(xe)&&(oe[xe]=O[xe]===void 0&&ve!==void 0?ve[xe]:O[xe])}var xe=arguments.length-2;if(xe===1)oe.children=q;else if(1<xe){ve=Array(xe);for(var Fe=0;Fe<xe;Fe++)ve[Fe]=arguments[Fe+2];oe.children=ve}return{$$typeof:i,type:T.type,key:le,ref:ae,props:oe,_owner:me}},we.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:a,_context:T},T.Consumer=T},we.createElement=X,we.createFactory=function(T){var O=X.bind(null,T);return O.type=T,O},we.createRef=function(){return{current:null}},we.forwardRef=function(T){return{$$typeof:h,render:T}},we.isValidElement=B,we.lazy=function(T){return{$$typeof:p,_payload:{_status:-1,_result:T},_init:Ee}},we.memo=function(T,O){return{$$typeof:m,type:T,compare:O===void 0?null:O}},we.startTransition=function(T){var O=V.transition;V.transition={};try{T()}finally{V.transition=O}},we.unstable_act=z,we.useCallback=function(T,O){return ee.current.useCallback(T,O)},we.useContext=function(T){return ee.current.useContext(T)},we.useDebugValue=function(){},we.useDeferredValue=function(T){return ee.current.useDeferredValue(T)},we.useEffect=function(T,O){return ee.current.useEffect(T,O)},we.useId=function(){return ee.current.useId()},we.useImperativeHandle=function(T,O,q){return ee.current.useImperativeHandle(T,O,q)},we.useInsertionEffect=function(T,O){return ee.current.useInsertionEffect(T,O)},we.useLayoutEffect=function(T,O){return ee.current.useLayoutEffect(T,O)},we.useMemo=function(T,O){return ee.current.useMemo(T,O)},we.useReducer=function(T,O,q){return ee.current.useReducer(T,O,q)},we.useRef=function(T){return ee.current.useRef(T)},we.useState=function(T){return ee.current.useState(T)},we.useSyncExternalStore=function(T,O,q){return ee.current.useSyncExternalStore(T,O,q)},we.useTransition=function(){return ee.current.useTransition()},we.version="18.3.1",we}var Gf;function mc(){return Gf||(Gf=1,Au.exports=Q0()),Au.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function J0(){if(Vf)return cs;Vf=1;var i=mc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var p,y={},v=null,x=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(x=f.ref);for(p in f)s.call(f,p)&&!a.hasOwnProperty(p)&&(y[p]=f[p]);if(h&&h.defaultProps)for(p in f=h.defaultProps,f)y[p]===void 0&&(y[p]=f[p]);return{$$typeof:e,type:h,key:v,ref:x,props:y,_owner:o.current}}return cs.Fragment=n,cs.jsx=c,cs.jsxs=c,cs}var Bf;function e_(){return Bf||(Bf=1,Pu.exports=J0()),Pu.exports}var Me=e_(),kt=mc(),bo={},ku={exports:{}},Tt={},Du={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function t_(){return Wf||(Wf=1,function(i){function e(V,H){var z=V.length;V.push(H);e:for(;0<z;){var T=z-1>>>1,O=V[T];if(0<o(O,H))V[T]=H,V[z]=O,z=T;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var H=V[0],z=V.pop();if(z!==H){V[0]=z;e:for(var T=0,O=V.length,q=O>>>1;T<q;){var oe=2*(T+1)-1,le=V[oe],ae=oe+1,me=V[ae];if(0>o(le,z))ae<O&&0>o(me,le)?(V[T]=me,V[ae]=z,T=ae):(V[T]=le,V[oe]=z,T=oe);else if(ae<O&&0>o(me,z))V[T]=me,V[ae]=z,T=ae;else break e}}return H}function o(V,H){var z=V.sortIndex-H.sortIndex;return z!==0?z:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],m=[],p=1,y=null,v=3,x=!1,E=!1,S=!1,L=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(V){for(var H=n(m);H!==null;){if(H.callback===null)s(m);else if(H.startTime<=V)s(m),H.sortIndex=H.expirationTime,e(f,H);else break;H=n(m)}}function D(V){if(S=!1,Y(V),!E)if(n(f)!==null)E=!0,Ee(k);else{var H=n(m);H!==null&&ee(D,H.startTime-V)}}function k(V,H){E=!1,S&&(S=!1,N(X),X=-1),x=!0;var z=v;try{for(Y(H),y=n(f);y!==null&&(!(y.expirationTime>H)||V&&!de());){var T=y.callback;if(typeof T=="function"){y.callback=null,v=y.priorityLevel;var O=T(y.expirationTime<=H);H=i.unstable_now(),typeof O=="function"?y.callback=O:y===n(f)&&s(f),Y(H)}else s(f);y=n(f)}if(y!==null)var q=!0;else{var oe=n(m);oe!==null&&ee(D,oe.startTime-H),q=!1}return q}finally{y=null,v=z,x=!1}}var K=!1,J=null,X=-1,Z=5,B=-1;function de(){return!(i.unstable_now()-B<Z)}function se(){if(J!==null){var V=i.unstable_now();B=V;var H=!0;try{H=J(!0,V)}finally{H?ue():(K=!1,J=null)}}else K=!1}var ue;if(typeof A=="function")ue=function(){A(se)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,re=pe.port2;pe.port1.onmessage=se,ue=function(){re.postMessage(null)}}else ue=function(){L(se,0)};function Ee(V){J=V,K||(K=!0,ue())}function ee(V,H){X=L(function(){V(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){E||x||(E=!0,Ee(k))},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return n(f)},i.unstable_next=function(V){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var z=v;v=H;try{return V()}finally{v=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var z=v;v=V;try{return H()}finally{v=z}},i.unstable_scheduleCallback=function(V,H,z){var T=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?T+z:T):z=T,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,V={id:p++,callback:H,priorityLevel:V,startTime:z,expirationTime:O,sortIndex:-1},z>T?(V.sortIndex=z,e(m,V),n(f)===null&&V===n(m)&&(S?(N(X),X=-1):S=!0,ee(D,z-T))):(V.sortIndex=O,e(f,V),E||x||(E=!0,Ee(k))),V},i.unstable_shouldYield=de,i.unstable_wrapCallback=function(V){var H=v;return function(){var z=v;v=H;try{return V.apply(this,arguments)}finally{v=z}}}}(Ou)),Ou}var Yf;function n_(){return Yf||(Yf=1,Du.exports=t_()),Du.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function r_(){if(Kf)return Tt;Kf=1;var i=mc(),e=n_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(o[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function v(t){return f.call(y,t)?!0:f.call(p,t)?!1:m.test(t)?y[t]=!0:(p[t]=!0,!1)}function x(t,r,l,u){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,r,l,u){if(r===null||typeof r>"u"||x(t,r,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function S(t,r,l,u,d,g,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=t,this.type=r,this.sanitizeURL=g,this.removeEmptyString=_}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){L[t]=new S(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];L[r]=new S(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){L[t]=new S(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){L[t]=new S(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){L[t]=new S(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){L[t]=new S(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){L[t]=new S(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){L[t]=new S(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){L[t]=new S(t,5,!1,t.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(N,A);L[r]=new S(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(N,A);L[r]=new S(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(N,A);L[r]=new S(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){L[t]=new S(t,1,!1,t.toLowerCase(),null,!1,!1)}),L.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){L[t]=new S(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y(t,r,l,u){var d=L.hasOwnProperty(r)?L[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,l,d,u)&&(l=null),u||d===null?v(r)&&(l===null?t.removeAttribute(r):t.setAttribute(r,""+l)):d.mustUseProperty?t[d.propertyName]=l===null?d.type===3?!1:"":l:(r=d.attributeName,u=d.attributeNamespace,l===null?t.removeAttribute(r):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,u?t.setAttributeNS(u,r,l):t.setAttribute(r,l))))}var D=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),de=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),V=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var z=Object.assign,T;function O(t){if(T===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);T=r&&r[1]||""}return`
`+T+t}var q=!1;function oe(t,r){if(!t||q)return"";q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(P){var u=P}Reflect.construct(t,[],r)}else{try{r.call()}catch(P){u=P}t.call(r.prototype)}else{try{throw Error()}catch(P){u=P}t()}}catch(P){if(P&&u&&typeof P.stack=="string"){for(var d=P.stack.split(`
`),g=u.stack.split(`
`),_=d.length-1,w=g.length-1;1<=_&&0<=w&&d[_]!==g[w];)w--;for(;1<=_&&0<=w;_--,w--)if(d[_]!==g[w]){if(_!==1||w!==1)do if(_--,w--,0>w||d[_]!==g[w]){var R=`
`+d[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=w);break}}}finally{q=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?O(t):""}function le(t){switch(t.tag){case 5:return O(t.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case K:return"Portal";case Z:return"Profiler";case X:return"StrictMode";case ue:return"Suspense";case pe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case de:return(t.displayName||"Context")+".Consumer";case B:return(t._context.displayName||"Context")+".Provider";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case re:return r=t.displayName||null,r!==null?r:ae(t.type)||"Memo";case Ee:r=t._payload,t=t._init;try{return ae(t(r))}catch{}}return null}function me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(r);case 8:return r===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fe(t){var r=xe(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,g=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,g.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ot(t){t._valueTracker||(t._valueTracker=Fe(t))}function sr(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return t&&(u=xe(t)?t.checked?"true":"false":t.value),t=u,t!==l?(r.setValue(t),!0):!1}function gn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function or(t,r){var l=r.checked;return z({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function lr(t,r){var l=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;l=ve(r.value!=null?r.value:l),t._wrapperState={initialChecked:u,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ar(t,r){r=r.checked,r!=null&&Y(t,"checked",r,!1)}function Nt(t,r){Ar(t,r);var l=ve(r.value),u=r.type;if(l!=null)u==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Pn(t,r.type,l):r.hasOwnProperty("defaultValue")&&Pn(t,r.type,ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Kt(t,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,l||r===t.value||(t.value=r),t.defaultValue=r}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Pn(t,r,l){(r!=="number"||gn(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var sn=Array.isArray;function mn(t,r,l,u){if(t=t.options,r){r={};for(var d=0;d<l.length;d++)r["$"+l[d]]=!0;for(l=0;l<t.length;l++)d=r.hasOwnProperty("$"+t[l].value),t[l].selected!==d&&(t[l].selected=d),d&&u&&(t[l].defaultSelected=!0)}else{for(l=""+ve(l),r=null,d=0;d<t.length;d++){if(t[d].value===l){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function ar(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ur(t,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(n(92));if(sn(l)){if(1<l.length)throw Error(n(93));l=l[0]}r=l}r==null&&(r=""),l=r}t._wrapperState={initialValue:ve(l)}}function Xs(t,r){var l=ve(r.value),u=ve(r.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),r.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),u!=null&&(t.defaultValue=""+u)}function ft(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function qc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?qc(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gs,Qc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,l,u,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Gs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Si(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ep=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(t){ep.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ii[r]=Ii[t]})});function Jc(t,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||Ii.hasOwnProperty(t)&&Ii[t]?(""+r).trim():r+"px"}function eh(t,r){t=t.style;for(var l in r)if(r.hasOwnProperty(l)){var u=l.indexOf("--")===0,d=Jc(l,r[l],u);l==="float"&&(l="cssFloat"),u?t.setProperty(l,d):t[l]=d}}var tp=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(t,r){if(r){if(tp[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Bl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function Yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kl=null,kr=null,Dr=null;function th(t){if(t=$i(t)){if(typeof Kl!="function")throw Error(n(280));var r=t.stateNode;r&&(r=co(r),Kl(t.stateNode,t.type,r))}}function nh(t){kr?Dr?Dr.push(t):Dr=[t]:kr=t}function rh(){if(kr){var t=kr,r=Dr;if(Dr=kr=null,th(t),r)for(t=0;t<r.length;t++)th(r[t])}}function ih(t,r){return t(r)}function sh(){}var Zl=!1;function oh(t,r,l){if(Zl)return t(r,l);Zl=!0;try{return ih(t,r,l)}finally{Zl=!1,(kr!==null||Dr!==null)&&(sh(),rh())}}function Li(t,r){var l=t.stateNode;if(l===null)return null;var u=co(l);if(u===null)return null;l=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(n(231,r,typeof l));return l}var Hl=!1;if(h)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Hl=!1}function np(t,r,l,u,d,g,_,w,R){var P=Array.prototype.slice.call(arguments,3);try{r.apply(l,P)}catch(j){this.onError(j)}}var Pi=!1,Vs=null,Bs=!1,$l=null,rp={onError:function(t){Pi=!0,Vs=t}};function ip(t,r,l,u,d,g,_,w,R){Pi=!1,Vs=null,np.apply(rp,arguments)}function sp(t,r,l,u,d,g,_,w,R){if(ip.apply(this,arguments),Pi){if(Pi){var P=Vs;Pi=!1,Vs=null}else throw Error(n(198));Bs||(Bs=!0,$l=P)}}function cr(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function lh(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function ah(t){if(cr(t)!==t)throw Error(n(188))}function op(t){var r=t.alternate;if(!r){if(r=cr(t),r===null)throw Error(n(188));return r!==t?null:t}for(var l=t,u=r;;){var d=l.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===l)return ah(d),t;if(g===u)return ah(d),r;g=g.sibling}throw Error(n(188))}if(l.return!==u.return)l=d,u=g;else{for(var _=!1,w=d.child;w;){if(w===l){_=!0,l=d,u=g;break}if(w===u){_=!0,u=d,l=g;break}w=w.sibling}if(!_){for(w=g.child;w;){if(w===l){_=!0,l=g,u=d;break}if(w===u){_=!0,u=g,l=d;break}w=w.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?t:r}function uh(t){return t=op(t),t!==null?ch(t):null}function ch(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ch(t);if(r!==null)return r;t=t.sibling}return null}var hh=e.unstable_scheduleCallback,dh=e.unstable_cancelCallback,lp=e.unstable_shouldYield,ap=e.unstable_requestPaint,Ye=e.unstable_now,up=e.unstable_getCurrentPriorityLevel,bl=e.unstable_ImmediatePriority,fh=e.unstable_UserBlockingPriority,Ws=e.unstable_NormalPriority,cp=e.unstable_LowPriority,gh=e.unstable_IdlePriority,Ys=null,on=null;function hp(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ys,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:gp,dp=Math.log,fp=Math.LN2;function gp(t){return t>>>=0,t===0?32:31-(dp(t)/fp|0)|0}var Ks=64,Zs=4194304;function Ai(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hs(t,r){var l=t.pendingLanes;if(l===0)return 0;var u=0,d=t.suspendedLanes,g=t.pingedLanes,_=l&268435455;if(_!==0){var w=_&~d;w!==0?u=Ai(w):(g&=_,g!==0&&(u=Ai(g)))}else _=l&~d,_!==0?u=Ai(_):g!==0&&(u=Ai(g));if(u===0)return 0;if(r!==0&&r!==u&&!(r&d)&&(d=u&-u,g=r&-r,d>=g||d===16&&(g&4194240)!==0))return r;if(u&4&&(u|=l&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)l=31-Zt(r),d=1<<l,u|=t[l],r&=~d;return u}function mp(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pp(t,r){for(var l=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes;0<g;){var _=31-Zt(g),w=1<<_,R=d[_];R===-1?(!(w&l)||w&u)&&(d[_]=mp(w,r)):R<=r&&(t.expiredLanes|=w),g&=~w}}function ql(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mh(){var t=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),t}function Ql(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function ki(t,r,l){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Zt(r),t[r]=l}function _p(t,r){var l=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<l;){var d=31-Zt(l),g=1<<d;r[d]=0,u[d]=-1,t[d]=-1,l&=~g}}function Jl(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var u=31-Zt(l),d=1<<u;d&r|t[u]&r&&(t[u]|=r),l&=~d}}var Ae=0;function ph(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _h,ea,yh,vh,Eh,ta=!1,$s=[],An=null,kn=null,Dn=null,Di=new Map,Oi=new Map,On=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(t,r){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Di.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(r.pointerId)}}function Ni(t,r,l,u,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=$i(r),r!==null&&ea(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function vp(t,r,l,u,d){switch(r){case"focusin":return An=Ni(An,t,r,l,u,d),!0;case"dragenter":return kn=Ni(kn,t,r,l,u,d),!0;case"mouseover":return Dn=Ni(Dn,t,r,l,u,d),!0;case"pointerover":var g=d.pointerId;return Di.set(g,Ni(Di.get(g)||null,t,r,l,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Oi.set(g,Ni(Oi.get(g)||null,t,r,l,u,d)),!0}return!1}function Rh(t){var r=hr(t.target);if(r!==null){var l=cr(r);if(l!==null){if(r=l.tag,r===13){if(r=lh(l),r!==null){t.blockedOn=r,Eh(t.priority,function(){yh(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bs(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=ra(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);Wl=u,l.target.dispatchEvent(u),Wl=null}else return r=$i(l),r!==null&&ea(r),t.blockedOn=l,!1;r.shift()}return!0}function Th(t,r,l){bs(t)&&l.delete(r)}function Ep(){ta=!1,An!==null&&bs(An)&&(An=null),kn!==null&&bs(kn)&&(kn=null),Dn!==null&&bs(Dn)&&(Dn=null),Di.forEach(Th),Oi.forEach(Th)}function Fi(t,r){t.blockedOn===r&&(t.blockedOn=null,ta||(ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ep)))}function zi(t){function r(d){return Fi(d,t)}if(0<$s.length){Fi($s[0],t);for(var l=1;l<$s.length;l++){var u=$s[l];u.blockedOn===t&&(u.blockedOn=null)}}for(An!==null&&Fi(An,t),kn!==null&&Fi(kn,t),Dn!==null&&Fi(Dn,t),Di.forEach(r),Oi.forEach(r),l=0;l<On.length;l++)u=On[l],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(l=On[0],l.blockedOn===null);)Rh(l),l.blockedOn===null&&On.shift()}var Or=D.ReactCurrentBatchConfig,qs=!0;function wp(t,r,l,u){var d=Ae,g=Or.transition;Or.transition=null;try{Ae=1,na(t,r,l,u)}finally{Ae=d,Or.transition=g}}function Rp(t,r,l,u){var d=Ae,g=Or.transition;Or.transition=null;try{Ae=4,na(t,r,l,u)}finally{Ae=d,Or.transition=g}}function na(t,r,l,u){if(qs){var d=ra(t,r,l,u);if(d===null)Ea(t,r,u,Qs,l),wh(t,u);else if(vp(d,t,r,l,u))u.stopPropagation();else if(wh(t,u),r&4&&-1<yp.indexOf(t)){for(;d!==null;){var g=$i(d);if(g!==null&&_h(g),g=ra(t,r,l,u),g===null&&Ea(t,r,u,Qs,l),g===d)break;d=g}d!==null&&u.stopPropagation()}else Ea(t,r,u,null,l)}}var Qs=null;function ra(t,r,l,u){if(Qs=null,t=Yl(u),t=hr(t),t!==null)if(r=cr(t),r===null)t=null;else if(l=r.tag,l===13){if(t=lh(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Qs=t,null}function xh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(up()){case bl:return 1;case fh:return 4;case Ws:case cp:return 16;case gh:return 536870912;default:return 16}default:return 16}}var Nn=null,ia=null,Js=null;function Ch(){if(Js)return Js;var t,r=ia,l=r.length,u,d="value"in Nn?Nn.value:Nn.textContent,g=d.length;for(t=0;t<l&&r[t]===d[t];t++);var _=l-t;for(u=1;u<=_&&r[l-u]===d[g-u];u++);return Js=d.slice(t,1<u?1-u:void 0)}function eo(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function to(){return!0}function Sh(){return!1}function Lt(t){function r(l,u,d,g,_){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(l=t[w],this[w]=l?l(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?to:Sh,this.isPropagationStopped=Sh,this}return z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),r}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Lt(Nr),Ui=z({},Nr,{view:0,detail:0}),Tp=Lt(Ui),oa,la,ji,no=z({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(oa=t.screenX-ji.screenX,la=t.screenY-ji.screenY):la=oa=0,ji=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:la}}),Ih=Lt(no),xp=z({},no,{dataTransfer:0}),Cp=Lt(xp),Sp=z({},Ui,{relatedTarget:0}),aa=Lt(Sp),Ip=z({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=Lt(Ip),Mp=z({},Nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pp=Lt(Mp),Ap=z({},Nr,{data:0}),Lh=Lt(Ap),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Np(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Op[t])?!!r[t]:!1}function ua(){return Np}var Fp=z({},Ui,{key:function(t){if(t.key){var r=kp[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=eo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(t){return t.type==="keypress"?eo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zp=Lt(Fp),Up=z({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=Lt(Up),jp=z({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),Xp=Lt(jp),Gp=z({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vp=Lt(Gp),Bp=z({},no,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wp=Lt(Bp),Yp=[9,13,27,32],ca=h&&"CompositionEvent"in window,Xi=null;h&&"documentMode"in document&&(Xi=document.documentMode);var Kp=h&&"TextEvent"in window&&!Xi,Ph=h&&(!ca||Xi&&8<Xi&&11>=Xi),Ah=" ",kh=!1;function Dh(t,r){switch(t){case"keyup":return Yp.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fr=!1;function Zp(t,r){switch(t){case"compositionend":return Oh(r);case"keypress":return r.which!==32?null:(kh=!0,Ah);case"textInput":return t=r.data,t===Ah&&kh?null:t;default:return null}}function Hp(t,r){if(Fr)return t==="compositionend"||!ca&&Dh(t,r)?(t=Ch(),Js=ia=Nn=null,Fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ph&&r.locale!=="ko"?null:r.data;default:return null}}var $p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!$p[t.type]:r==="textarea"}function Fh(t,r,l,u){nh(u),r=lo(r,"onChange"),0<r.length&&(l=new sa("onChange","change",null,l,u),t.push({event:l,listeners:r}))}var Gi=null,Vi=null;function bp(t){ed(t,0)}function ro(t){var r=Gr(t);if(sr(r))return t}function qp(t,r){if(t==="change")return r}var zh=!1;if(h){var ha;if(h){var da="oninput"in document;if(!da){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),da=typeof Uh.oninput=="function"}ha=da}else ha=!1;zh=ha&&(!document.documentMode||9<document.documentMode)}function jh(){Gi&&(Gi.detachEvent("onpropertychange",Xh),Vi=Gi=null)}function Xh(t){if(t.propertyName==="value"&&ro(Vi)){var r=[];Fh(r,Vi,t,Yl(t)),oh(bp,r)}}function Qp(t,r,l){t==="focusin"?(jh(),Gi=r,Vi=l,Gi.attachEvent("onpropertychange",Xh)):t==="focusout"&&jh()}function Jp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ro(Vi)}function e0(t,r){if(t==="click")return ro(r)}function t0(t,r){if(t==="input"||t==="change")return ro(r)}function n0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ht=typeof Object.is=="function"?Object.is:n0;function Bi(t,r){if(Ht(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!f.call(r,d)||!Ht(t[d],r[d]))return!1}return!0}function Gh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vh(t,r){var l=Gh(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=r&&u>=r)return{node:l,offset:r-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gh(l)}}function Bh(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bh(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Wh(){for(var t=window,r=gn();r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=gn(t.document)}return r}function fa(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function r0(t){var r=Wh(),l=t.focusedElem,u=t.selectionRange;if(r!==l&&l&&l.ownerDocument&&Bh(l.ownerDocument.documentElement,l)){if(u!==null&&fa(l)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(t,l.value.length);else if(t=(r=l.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=l.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!t.extend&&g>u&&(d=u,u=g,g=d),d=Vh(l,g);var _=Vh(l,u);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),g>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=l;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)t=r[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i0=h&&"documentMode"in document&&11>=document.documentMode,zr=null,ga=null,Wi=null,ma=!1;function Yh(t,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ma||zr==null||zr!==gn(u)||(u=zr,"selectionStart"in u&&fa(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wi&&Bi(Wi,u)||(Wi=u,u=lo(ga,"onSelect"),0<u.length&&(r=new sa("onSelect","select",null,r,l),t.push({event:r,listeners:u}),r.target=zr)))}function io(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var Ur={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},pa={},Kh={};h&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function so(t){if(pa[t])return pa[t];if(!Ur[t])return t;var r=Ur[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in Kh)return pa[t]=r[l];return t}var Zh=so("animationend"),Hh=so("animationiteration"),$h=so("animationstart"),bh=so("transitionend"),qh=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(t,r){qh.set(t,r),a(r,[t])}for(var _a=0;_a<Qh.length;_a++){var ya=Qh[_a],s0=ya.toLowerCase(),o0=ya[0].toUpperCase()+ya.slice(1);Fn(s0,"on"+o0)}Fn(Zh,"onAnimationEnd"),Fn(Hh,"onAnimationIteration"),Fn($h,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(bh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function Jh(t,r,l){var u=t.type||"unknown-event";t.currentTarget=l,sp(u,r,void 0,t),t.currentTarget=null}function ed(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var _=u.length-1;0<=_;_--){var w=u[_],R=w.instance,P=w.currentTarget;if(w=w.listener,R!==g&&d.isPropagationStopped())break e;Jh(d,w,P),g=R}else for(_=0;_<u.length;_++){if(w=u[_],R=w.instance,P=w.currentTarget,w=w.listener,R!==g&&d.isPropagationStopped())break e;Jh(d,w,P),g=R}}}if(Bs)throw t=$l,Bs=!1,$l=null,t}function ze(t,r){var l=r[Sa];l===void 0&&(l=r[Sa]=new Set);var u=t+"__bubble";l.has(u)||(td(r,t,2,!1),l.add(u))}function va(t,r,l){var u=0;r&&(u|=4),td(l,t,u,r)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Ki(t){if(!t[oo]){t[oo]=!0,s.forEach(function(l){l!=="selectionchange"&&(l0.has(l)||va(l,!1,t),va(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[oo]||(r[oo]=!0,va("selectionchange",!1,r))}}function td(t,r,l,u){switch(xh(r)){case 1:var d=wp;break;case 4:d=Rp;break;default:d=na}l=d.bind(null,r,l,t),d=void 0,!Hl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,l,{capture:!0,passive:d}):t.addEventListener(r,l,!0):d!==void 0?t.addEventListener(r,l,{passive:d}):t.addEventListener(r,l,!1)}function Ea(t,r,l,u,d){var g=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;_=_.return}for(;w!==null;){if(_=hr(w),_===null)return;if(R=_.tag,R===5||R===6){u=g=_;continue e}w=w.parentNode}}u=u.return}oh(function(){var P=g,j=Yl(l),G=[];e:{var U=qh.get(t);if(U!==void 0){var $=sa,te=t;switch(t){case"keypress":if(eo(l)===0)break e;case"keydown":case"keyup":$=zp;break;case"focusin":te="focus",$=aa;break;case"focusout":te="blur",$=aa;break;case"beforeblur":case"afterblur":$=aa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Xp;break;case Zh:case Hh:case $h:$=Lp;break;case bh:$=Vp;break;case"scroll":$=Tp;break;case"wheel":$=Wp;break;case"copy":case"cut":case"paste":$=Pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Mh}var ne=(r&4)!==0,Ke=!ne&&t==="scroll",I=ne?U!==null?U+"Capture":null:U;ne=[];for(var C=P,M;C!==null;){M=C;var W=M.stateNode;if(M.tag===5&&W!==null&&(M=W,I!==null&&(W=Li(C,I),W!=null&&ne.push(Zi(C,W,M)))),Ke)break;C=C.return}0<ne.length&&(U=new $(U,te,null,l,j),G.push({event:U,listeners:ne}))}}if(!(r&7)){e:{if(U=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",U&&l!==Wl&&(te=l.relatedTarget||l.fromElement)&&(hr(te)||te[pn]))break e;if(($||U)&&(U=j.window===j?j:(U=j.ownerDocument)?U.defaultView||U.parentWindow:window,$?(te=l.relatedTarget||l.toElement,$=P,te=te?hr(te):null,te!==null&&(Ke=cr(te),te!==Ke||te.tag!==5&&te.tag!==6)&&(te=null)):($=null,te=P),$!==te)){if(ne=Ih,W="onMouseLeave",I="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ne=Mh,W="onPointerLeave",I="onPointerEnter",C="pointer"),Ke=$==null?U:Gr($),M=te==null?U:Gr(te),U=new ne(W,C+"leave",$,l,j),U.target=Ke,U.relatedTarget=M,W=null,hr(j)===P&&(ne=new ne(I,C+"enter",te,l,j),ne.target=M,ne.relatedTarget=Ke,W=ne),Ke=W,$&&te)t:{for(ne=$,I=te,C=0,M=ne;M;M=jr(M))C++;for(M=0,W=I;W;W=jr(W))M++;for(;0<C-M;)ne=jr(ne),C--;for(;0<M-C;)I=jr(I),M--;for(;C--;){if(ne===I||I!==null&&ne===I.alternate)break t;ne=jr(ne),I=jr(I)}ne=null}else ne=null;$!==null&&nd(G,U,$,ne,!1),te!==null&&Ke!==null&&nd(G,Ke,te,ne,!0)}}e:{if(U=P?Gr(P):window,$=U.nodeName&&U.nodeName.toLowerCase(),$==="select"||$==="input"&&U.type==="file")var ie=qp;else if(Nh(U))if(zh)ie=t0;else{ie=Jp;var ce=Qp}else($=U.nodeName)&&$.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ie=e0);if(ie&&(ie=ie(t,P))){Fh(G,ie,l,j);break e}ce&&ce(t,U,P),t==="focusout"&&(ce=U._wrapperState)&&ce.controlled&&U.type==="number"&&Pn(U,"number",U.value)}switch(ce=P?Gr(P):window,t){case"focusin":(Nh(ce)||ce.contentEditable==="true")&&(zr=ce,ga=P,Wi=null);break;case"focusout":Wi=ga=zr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Yh(G,l,j);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":Yh(G,l,j)}var he;if(ca)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Fr?Dh(t,l)&&(fe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(fe="onCompositionStart");fe&&(Ph&&l.locale!=="ko"&&(Fr||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Fr&&(he=Ch()):(Nn=j,ia="value"in Nn?Nn.value:Nn.textContent,Fr=!0)),ce=lo(P,fe),0<ce.length&&(fe=new Lh(fe,t,null,l,j),G.push({event:fe,listeners:ce}),he?fe.data=he:(he=Oh(l),he!==null&&(fe.data=he)))),(he=Kp?Zp(t,l):Hp(t,l))&&(P=lo(P,"onBeforeInput"),0<P.length&&(j=new Lh("onBeforeInput","beforeinput",null,l,j),G.push({event:j,listeners:P}),j.data=he))}ed(G,r)})}function Zi(t,r,l){return{instance:t,listener:r,currentTarget:l}}function lo(t,r){for(var l=r+"Capture",u=[];t!==null;){var d=t,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Li(t,l),g!=null&&u.unshift(Zi(t,g,d)),g=Li(t,r),g!=null&&u.push(Zi(t,g,d))),t=t.return}return u}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nd(t,r,l,u,d){for(var g=r._reactName,_=[];l!==null&&l!==u;){var w=l,R=w.alternate,P=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&P!==null&&(w=P,d?(R=Li(l,g),R!=null&&_.unshift(Zi(l,R,w))):d||(R=Li(l,g),R!=null&&_.push(Zi(l,R,w)))),l=l.return}_.length!==0&&t.push({event:r,listeners:_})}var a0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function rd(t){return(typeof t=="string"?t:""+t).replace(a0,`
`).replace(u0,"")}function ao(t,r,l){if(r=rd(r),rd(t)!==r&&l)throw Error(n(425))}function uo(){}var wa=null,Ra=null;function Ta(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,c0=typeof clearTimeout=="function"?clearTimeout:void 0,id=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof id<"u"?function(t){return id.resolve(null).then(t).catch(d0)}:xa;function d0(t){setTimeout(function(){throw t})}function Ca(t,r){var l=r,u=0;do{var d=l.nextSibling;if(t.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(u===0){t.removeChild(d),zi(r);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=d}while(l);zi(r)}function zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function sd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),ln="__reactFiber$"+Xr,Hi="__reactProps$"+Xr,pn="__reactContainer$"+Xr,Sa="__reactEvents$"+Xr,f0="__reactListeners$"+Xr,g0="__reactHandles$"+Xr;function hr(t){var r=t[ln];if(r)return r;for(var l=t.parentNode;l;){if(r=l[pn]||l[ln]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=sd(t);t!==null;){if(l=t[ln])return l;t=sd(t)}return r}t=l,l=t.parentNode}return null}function $i(t){return t=t[ln]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function co(t){return t[Hi]||null}var Ia=[],Vr=-1;function Un(t){return{current:t}}function Ue(t){0>Vr||(t.current=Ia[Vr],Ia[Vr]=null,Vr--)}function Ne(t,r){Vr++,Ia[Vr]=t.current,t.current=r}var jn={},ot=Un(jn),yt=Un(!1),dr=jn;function Br(t,r){var l=t.type.contextTypes;if(!l)return jn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in l)d[g]=r[g];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function vt(t){return t=t.childContextTypes,t!=null}function ho(){Ue(yt),Ue(ot)}function od(t,r,l){if(ot.current!==jn)throw Error(n(168));Ne(ot,r),Ne(yt,l)}function ld(t,r,l){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,me(t)||"Unknown",d));return z({},l,u)}function fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,dr=ot.current,Ne(ot,t),Ne(yt,yt.current),!0}function ad(t,r,l){var u=t.stateNode;if(!u)throw Error(n(169));l?(t=ld(t,r,dr),u.__reactInternalMemoizedMergedChildContext=t,Ue(yt),Ue(ot),Ne(ot,t)):Ue(yt),Ne(yt,l)}var _n=null,go=!1,La=!1;function ud(t){_n===null?_n=[t]:_n.push(t)}function m0(t){go=!0,ud(t)}function Xn(){if(!La&&_n!==null){La=!0;var t=0,r=Ae;try{var l=_n;for(Ae=1;t<l.length;t++){var u=l[t];do u=u(!0);while(u!==null)}_n=null,go=!1}catch(d){throw _n!==null&&(_n=_n.slice(t+1)),hh(bl,Xn),d}finally{Ae=r,La=!1}}return null}var Wr=[],Yr=0,mo=null,po=0,Ft=[],zt=0,fr=null,yn=1,vn="";function gr(t,r){Wr[Yr++]=po,Wr[Yr++]=mo,mo=t,po=r}function cd(t,r,l){Ft[zt++]=yn,Ft[zt++]=vn,Ft[zt++]=fr,fr=t;var u=yn;t=vn;var d=32-Zt(u)-1;u&=~(1<<d),l+=1;var g=32-Zt(r)+d;if(30<g){var _=d-d%5;g=(u&(1<<_)-1).toString(32),u>>=_,d-=_,yn=1<<32-Zt(r)+d|l<<d|u,vn=g+t}else yn=1<<g|l<<d|u,vn=t}function Ma(t){t.return!==null&&(gr(t,1),cd(t,1,0))}function Pa(t){for(;t===mo;)mo=Wr[--Yr],Wr[Yr]=null,po=Wr[--Yr],Wr[Yr]=null;for(;t===fr;)fr=Ft[--zt],Ft[zt]=null,vn=Ft[--zt],Ft[zt]=null,yn=Ft[--zt],Ft[zt]=null}var Mt=null,Pt=null,je=!1,$t=null;function hd(t,r){var l=Gt(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=t,r=t.deletions,r===null?(t.deletions=[l],t.flags|=16):r.push(l)}function dd(t,r){switch(t.tag){case 5:var l=t.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Mt=t,Pt=zn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Mt=t,Pt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=fr!==null?{id:yn,overflow:vn}:null,t.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=Gt(18,null,null,0),l.stateNode=r,l.return=t,t.child=l,Mt=t,Pt=null,!0):!1;default:return!1}}function Aa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ka(t){if(je){var r=Pt;if(r){var l=r;if(!dd(t,r)){if(Aa(t))throw Error(n(418));r=zn(l.nextSibling);var u=Mt;r&&dd(t,r)?hd(u,l):(t.flags=t.flags&-4097|2,je=!1,Mt=t)}}else{if(Aa(t))throw Error(n(418));t.flags=t.flags&-4097|2,je=!1,Mt=t}}}function fd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function _o(t){if(t!==Mt)return!1;if(!je)return fd(t),je=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ta(t.type,t.memoizedProps)),r&&(r=Pt)){if(Aa(t))throw gd(),Error(n(418));for(;r;)hd(t,r),r=zn(r.nextSibling)}if(fd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(r===0){Pt=zn(t.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}t=t.nextSibling}Pt=null}}else Pt=Mt?zn(t.stateNode.nextSibling):null;return!0}function gd(){for(var t=Pt;t;)t=zn(t.nextSibling)}function Kr(){Pt=Mt=null,je=!1}function Da(t){$t===null?$t=[t]:$t.push(t)}var p0=D.ReactCurrentBatchConfig;function bi(t,r,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var u=l.stateNode}if(!u)throw Error(n(147,t));var d=u,g=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(_){var w=d.refs;_===null?delete w[g]:w[g]=_},r._stringRef=g,r)}if(typeof t!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,t))}return t}function yo(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function md(t){var r=t._init;return r(t._payload)}function pd(t){function r(I,C){if(t){var M=I.deletions;M===null?(I.deletions=[C],I.flags|=16):M.push(C)}}function l(I,C){if(!t)return null;for(;C!==null;)r(I,C),C=C.sibling;return null}function u(I,C){for(I=new Map;C!==null;)C.key!==null?I.set(C.key,C):I.set(C.index,C),C=C.sibling;return I}function d(I,C){return I=Hn(I,C),I.index=0,I.sibling=null,I}function g(I,C,M){return I.index=M,t?(M=I.alternate,M!==null?(M=M.index,M<C?(I.flags|=2,C):M):(I.flags|=2,C)):(I.flags|=1048576,C)}function _(I){return t&&I.alternate===null&&(I.flags|=2),I}function w(I,C,M,W){return C===null||C.tag!==6?(C=xu(M,I.mode,W),C.return=I,C):(C=d(C,M),C.return=I,C)}function R(I,C,M,W){var ie=M.type;return ie===J?j(I,C,M.props.children,W,M.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ee&&md(ie)===C.type)?(W=d(C,M.props),W.ref=bi(I,C,M),W.return=I,W):(W=Vo(M.type,M.key,M.props,null,I.mode,W),W.ref=bi(I,C,M),W.return=I,W)}function P(I,C,M,W){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=Cu(M,I.mode,W),C.return=I,C):(C=d(C,M.children||[]),C.return=I,C)}function j(I,C,M,W,ie){return C===null||C.tag!==7?(C=Rr(M,I.mode,W,ie),C.return=I,C):(C=d(C,M),C.return=I,C)}function G(I,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return C=xu(""+C,I.mode,M),C.return=I,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case k:return M=Vo(C.type,C.key,C.props,null,I.mode,M),M.ref=bi(I,null,C),M.return=I,M;case K:return C=Cu(C,I.mode,M),C.return=I,C;case Ee:var W=C._init;return G(I,W(C._payload),M)}if(sn(C)||H(C))return C=Rr(C,I.mode,M,null),C.return=I,C;yo(I,C)}return null}function U(I,C,M,W){var ie=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ie!==null?null:w(I,C,""+M,W);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return M.key===ie?R(I,C,M,W):null;case K:return M.key===ie?P(I,C,M,W):null;case Ee:return ie=M._init,U(I,C,ie(M._payload),W)}if(sn(M)||H(M))return ie!==null?null:j(I,C,M,W,null);yo(I,M)}return null}function $(I,C,M,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number")return I=I.get(M)||null,w(C,I,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return I=I.get(W.key===null?M:W.key)||null,R(C,I,W,ie);case K:return I=I.get(W.key===null?M:W.key)||null,P(C,I,W,ie);case Ee:var ce=W._init;return $(I,C,M,ce(W._payload),ie)}if(sn(W)||H(W))return I=I.get(M)||null,j(C,I,W,ie,null);yo(C,W)}return null}function te(I,C,M,W){for(var ie=null,ce=null,he=C,fe=C=0,et=null;he!==null&&fe<M.length;fe++){he.index>fe?(et=he,he=null):et=he.sibling;var Se=U(I,he,M[fe],W);if(Se===null){he===null&&(he=et);break}t&&he&&Se.alternate===null&&r(I,he),C=g(Se,C,fe),ce===null?ie=Se:ce.sibling=Se,ce=Se,he=et}if(fe===M.length)return l(I,he),je&&gr(I,fe),ie;if(he===null){for(;fe<M.length;fe++)he=G(I,M[fe],W),he!==null&&(C=g(he,C,fe),ce===null?ie=he:ce.sibling=he,ce=he);return je&&gr(I,fe),ie}for(he=u(I,he);fe<M.length;fe++)et=$(he,I,fe,M[fe],W),et!==null&&(t&&et.alternate!==null&&he.delete(et.key===null?fe:et.key),C=g(et,C,fe),ce===null?ie=et:ce.sibling=et,ce=et);return t&&he.forEach(function($n){return r(I,$n)}),je&&gr(I,fe),ie}function ne(I,C,M,W){var ie=H(M);if(typeof ie!="function")throw Error(n(150));if(M=ie.call(M),M==null)throw Error(n(151));for(var ce=ie=null,he=C,fe=C=0,et=null,Se=M.next();he!==null&&!Se.done;fe++,Se=M.next()){he.index>fe?(et=he,he=null):et=he.sibling;var $n=U(I,he,Se.value,W);if($n===null){he===null&&(he=et);break}t&&he&&$n.alternate===null&&r(I,he),C=g($n,C,fe),ce===null?ie=$n:ce.sibling=$n,ce=$n,he=et}if(Se.done)return l(I,he),je&&gr(I,fe),ie;if(he===null){for(;!Se.done;fe++,Se=M.next())Se=G(I,Se.value,W),Se!==null&&(C=g(Se,C,fe),ce===null?ie=Se:ce.sibling=Se,ce=Se);return je&&gr(I,fe),ie}for(he=u(I,he);!Se.done;fe++,Se=M.next())Se=$(he,I,fe,Se.value,W),Se!==null&&(t&&Se.alternate!==null&&he.delete(Se.key===null?fe:Se.key),C=g(Se,C,fe),ce===null?ie=Se:ce.sibling=Se,ce=Se);return t&&he.forEach(function($0){return r(I,$0)}),je&&gr(I,fe),ie}function Ke(I,C,M,W){if(typeof M=="object"&&M!==null&&M.type===J&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case k:e:{for(var ie=M.key,ce=C;ce!==null;){if(ce.key===ie){if(ie=M.type,ie===J){if(ce.tag===7){l(I,ce.sibling),C=d(ce,M.props.children),C.return=I,I=C;break e}}else if(ce.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ee&&md(ie)===ce.type){l(I,ce.sibling),C=d(ce,M.props),C.ref=bi(I,ce,M),C.return=I,I=C;break e}l(I,ce);break}else r(I,ce);ce=ce.sibling}M.type===J?(C=Rr(M.props.children,I.mode,W,M.key),C.return=I,I=C):(W=Vo(M.type,M.key,M.props,null,I.mode,W),W.ref=bi(I,C,M),W.return=I,I=W)}return _(I);case K:e:{for(ce=M.key;C!==null;){if(C.key===ce)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){l(I,C.sibling),C=d(C,M.children||[]),C.return=I,I=C;break e}else{l(I,C);break}else r(I,C);C=C.sibling}C=Cu(M,I.mode,W),C.return=I,I=C}return _(I);case Ee:return ce=M._init,Ke(I,C,ce(M._payload),W)}if(sn(M))return te(I,C,M,W);if(H(M))return ne(I,C,M,W);yo(I,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,C!==null&&C.tag===6?(l(I,C.sibling),C=d(C,M),C.return=I,I=C):(l(I,C),C=xu(M,I.mode,W),C.return=I,I=C),_(I)):l(I,C)}return Ke}var Zr=pd(!0),_d=pd(!1),vo=Un(null),Eo=null,Hr=null,Oa=null;function Na(){Oa=Hr=Eo=null}function Fa(t){var r=vo.current;Ue(vo),t._currentValue=r}function za(t,r,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===l)break;t=t.return}}function $r(t,r){Eo=t,Oa=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Et=!0),t.firstContext=null)}function Ut(t){var r=t._currentValue;if(Oa!==t)if(t={context:t,memoizedValue:r,next:null},Hr===null){if(Eo===null)throw Error(n(308));Hr=t,Eo.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return r}var mr=null;function Ua(t){mr===null?mr=[t]:mr.push(t)}function yd(t,r,l,u){var d=r.interleaved;return d===null?(l.next=l,Ua(r)):(l.next=d.next,d.next=l),r.interleaved=l,En(t,u)}function En(t,r){t.lanes|=r;var l=t.alternate;for(l!==null&&(l.lanes|=r),l=t,t=t.return;t!==null;)t.childLanes|=r,l=t.alternate,l!==null&&(l.childLanes|=r),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Gn=!1;function ja(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Vn(t,r,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ce&2){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,En(t,l)}return d=u.interleaved,d===null?(r.next=r,Ua(u)):(r.next=d.next,d.next=r),u.interleaved=r,En(t,l)}function wo(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,l|=u,r.lanes=l,Jl(t,l)}}function Ed(t,r){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?d=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?d=g=r:g=g.next=r}else d=g=r;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,effects:u.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}function Ro(t,r,l,u){var d=t.updateQueue;Gn=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var R=w,P=R.next;R.next=null,_===null?g=P:_.next=P,_=R;var j=t.alternate;j!==null&&(j=j.updateQueue,w=j.lastBaseUpdate,w!==_&&(w===null?j.firstBaseUpdate=P:w.next=P,j.lastBaseUpdate=R))}if(g!==null){var G=d.baseState;_=0,j=P=R=null,w=g;do{var U=w.lane,$=w.eventTime;if((u&U)===U){j!==null&&(j=j.next={eventTime:$,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var te=t,ne=w;switch(U=r,$=l,ne.tag){case 1:if(te=ne.payload,typeof te=="function"){G=te.call($,G,U);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ne.payload,U=typeof te=="function"?te.call($,G,U):te,U==null)break e;G=z({},G,U);break e;case 2:Gn=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,U=d.effects,U===null?d.effects=[w]:U.push(w))}else $={eventTime:$,lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},j===null?(P=j=$,R=G):j=j.next=$,_|=U;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;U=w,w=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(j===null&&(R=G),d.baseState=R,d.firstBaseUpdate=P,d.lastBaseUpdate=j,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else g===null&&(d.shared.lanes=0);yr|=_,t.lanes=_,t.memoizedState=G}}function wd(t,r,l){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=l,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var qi={},an=Un(qi),Qi=Un(qi),Ji=Un(qi);function pr(t){if(t===qi)throw Error(n(174));return t}function Xa(t,r){switch(Ne(Ji,r),Ne(Qi,t),Ne(an,qi),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Gl(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Gl(r,t)}Ue(an),Ne(an,r)}function br(){Ue(an),Ue(Qi),Ue(Ji)}function Rd(t){pr(Ji.current);var r=pr(an.current),l=Gl(r,t.type);r!==l&&(Ne(Qi,t),Ne(an,l))}function Ga(t){Qi.current===t&&(Ue(an),Ue(Qi))}var Xe=Un(0);function To(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Va=[];function Ba(){for(var t=0;t<Va.length;t++)Va[t]._workInProgressVersionPrimary=null;Va.length=0}var xo=D.ReactCurrentDispatcher,Wa=D.ReactCurrentBatchConfig,_r=0,Ge=null,$e=null,Qe=null,Co=!1,es=!1,ts=0,_0=0;function lt(){throw Error(n(321))}function Ya(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!Ht(t[l],r[l]))return!1;return!0}function Ka(t,r,l,u,d,g){if(_r=g,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,xo.current=t===null||t.memoizedState===null?w0:R0,t=l(u,d),es){g=0;do{if(es=!1,ts=0,25<=g)throw Error(n(301));g+=1,Qe=$e=null,r.updateQueue=null,xo.current=T0,t=l(u,d)}while(es)}if(xo.current=Lo,r=$e!==null&&$e.next!==null,_r=0,Qe=$e=Ge=null,Co=!1,r)throw Error(n(300));return t}function Za(){var t=ts!==0;return ts=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ge.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function jt(){if($e===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=Qe===null?Ge.memoizedState:Qe.next;if(r!==null)Qe=r,$e=t;else{if(t===null)throw Error(n(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Qe===null?Ge.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function ns(t,r){return typeof r=="function"?r(t):r}function Ha(t){var r=jt(),l=r.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=t;var u=$e,d=u.baseQueue,g=l.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}u.baseQueue=d=g,l.pending=null}if(d!==null){g=d.next,u=u.baseState;var w=_=null,R=null,P=g;do{var j=P.lane;if((_r&j)===j)R!==null&&(R=R.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),u=P.hasEagerState?P.eagerState:t(u,P.action);else{var G={lane:j,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};R===null?(w=R=G,_=u):R=R.next=G,Ge.lanes|=j,yr|=j}P=P.next}while(P!==null&&P!==g);R===null?_=u:R.next=w,Ht(u,r.memoizedState)||(Et=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,l.lastRenderedState=u}if(t=l.interleaved,t!==null){d=t;do g=d.lane,Ge.lanes|=g,yr|=g,d=d.next;while(d!==t)}else d===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function $a(t){var r=jt(),l=r.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=t;var u=l.dispatch,d=l.pending,g=r.memoizedState;if(d!==null){l.pending=null;var _=d=d.next;do g=t(g,_.action),_=_.next;while(_!==d);Ht(g,r.memoizedState)||(Et=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),l.lastRenderedState=g}return[g,u]}function Td(){}function xd(t,r){var l=Ge,u=jt(),d=r(),g=!Ht(u.memoizedState,d);if(g&&(u.memoizedState=d,Et=!0),u=u.queue,ba(Id.bind(null,l,u,t),[t]),u.getSnapshot!==r||g||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,rs(9,Sd.bind(null,l,u,d,r),void 0,null),Je===null)throw Error(n(349));_r&30||Cd(l,r,d)}return d}function Cd(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function Sd(t,r,l,u){r.value=l,r.getSnapshot=u,Ld(r)&&Md(t)}function Id(t,r,l){return l(function(){Ld(r)&&Md(t)})}function Ld(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!Ht(t,l)}catch{return!0}}function Md(t){var r=En(t,1);r!==null&&Jt(r,t,1,-1)}function Pd(t){var r=un();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},r.queue=t,t=t.dispatch=E0.bind(null,Ge,t),[r.memoizedState,t]}function rs(t,r,l,u){return t={tag:t,create:r,destroy:l,deps:u,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=t.next=t):(l=r.lastEffect,l===null?r.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,r.lastEffect=t)),t}function Ad(){return jt().memoizedState}function So(t,r,l,u){var d=un();Ge.flags|=t,d.memoizedState=rs(1|r,l,void 0,u===void 0?null:u)}function Io(t,r,l,u){var d=jt();u=u===void 0?null:u;var g=void 0;if($e!==null){var _=$e.memoizedState;if(g=_.destroy,u!==null&&Ya(u,_.deps)){d.memoizedState=rs(r,l,g,u);return}}Ge.flags|=t,d.memoizedState=rs(1|r,l,g,u)}function kd(t,r){return So(8390656,8,t,r)}function ba(t,r){return Io(2048,8,t,r)}function Dd(t,r){return Io(4,2,t,r)}function Od(t,r){return Io(4,4,t,r)}function Nd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Fd(t,r,l){return l=l!=null?l.concat([t]):null,Io(4,4,Nd.bind(null,r,t),l)}function qa(){}function zd(t,r){var l=jt();r=r===void 0?null:r;var u=l.memoizedState;return u!==null&&r!==null&&Ya(r,u[1])?u[0]:(l.memoizedState=[t,r],t)}function Ud(t,r){var l=jt();r=r===void 0?null:r;var u=l.memoizedState;return u!==null&&r!==null&&Ya(r,u[1])?u[0]:(t=t(),l.memoizedState=[t,r],t)}function jd(t,r,l){return _r&21?(Ht(l,r)||(l=mh(),Ge.lanes|=l,yr|=l,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=l)}function y0(t,r){var l=Ae;Ae=l!==0&&4>l?l:4,t(!0);var u=Wa.transition;Wa.transition={};try{t(!1),r()}finally{Ae=l,Wa.transition=u}}function Xd(){return jt().memoizedState}function v0(t,r,l){var u=Kn(t);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Gd(t))Vd(r,l);else if(l=yd(t,r,l,u),l!==null){var d=mt();Jt(l,t,u,d),Bd(l,r,u)}}function E0(t,r,l){var u=Kn(t),d={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gd(t))Vd(r,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,w=g(_,l);if(d.hasEagerState=!0,d.eagerState=w,Ht(w,_)){var R=r.interleaved;R===null?(d.next=d,Ua(r)):(d.next=R.next,R.next=d),r.interleaved=d;return}}catch{}finally{}l=yd(t,r,d,u),l!==null&&(d=mt(),Jt(l,t,u,d),Bd(l,r,u))}}function Gd(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function Vd(t,r){es=Co=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function Bd(t,r,l){if(l&4194240){var u=r.lanes;u&=t.pendingLanes,l|=u,r.lanes=l,Jl(t,l)}}var Lo={readContext:Ut,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},w0={readContext:Ut,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:Ut,useEffect:kd,useImperativeHandle:function(t,r,l){return l=l!=null?l.concat([t]):null,So(4194308,4,Nd.bind(null,r,t),l)},useLayoutEffect:function(t,r){return So(4194308,4,t,r)},useInsertionEffect:function(t,r){return So(4,2,t,r)},useMemo:function(t,r){var l=un();return r=r===void 0?null:r,t=t(),l.memoizedState=[t,r],t},useReducer:function(t,r,l){var u=un();return r=l!==void 0?l(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=v0.bind(null,Ge,t),[u.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:Pd,useDebugValue:qa,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=Pd(!1),r=t[0];return t=y0.bind(null,t[1]),un().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,l){var u=Ge,d=un();if(je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=r(),Je===null)throw Error(n(349));_r&30||Cd(u,r,l)}d.memoizedState=l;var g={value:l,getSnapshot:r};return d.queue=g,kd(Id.bind(null,u,g,t),[t]),u.flags|=2048,rs(9,Sd.bind(null,u,g,l,r),void 0,null),l},useId:function(){var t=un(),r=Je.identifierPrefix;if(je){var l=vn,u=yn;l=(u&~(1<<32-Zt(u)-1)).toString(32)+l,r=":"+r+"R"+l,l=ts++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=_0++,r=":"+r+"r"+l.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},R0={readContext:Ut,useCallback:zd,useContext:Ut,useEffect:ba,useImperativeHandle:Fd,useInsertionEffect:Dd,useLayoutEffect:Od,useMemo:Ud,useReducer:Ha,useRef:Ad,useState:function(){return Ha(ns)},useDebugValue:qa,useDeferredValue:function(t){var r=jt();return jd(r,$e.memoizedState,t)},useTransition:function(){var t=Ha(ns)[0],r=jt().memoizedState;return[t,r]},useMutableSource:Td,useSyncExternalStore:xd,useId:Xd,unstable_isNewReconciler:!1},T0={readContext:Ut,useCallback:zd,useContext:Ut,useEffect:ba,useImperativeHandle:Fd,useInsertionEffect:Dd,useLayoutEffect:Od,useMemo:Ud,useReducer:$a,useRef:Ad,useState:function(){return $a(ns)},useDebugValue:qa,useDeferredValue:function(t){var r=jt();return $e===null?r.memoizedState=t:jd(r,$e.memoizedState,t)},useTransition:function(){var t=$a(ns)[0],r=jt().memoizedState;return[t,r]},useMutableSource:Td,useSyncExternalStore:xd,useId:Xd,unstable_isNewReconciler:!1};function bt(t,r){if(t&&t.defaultProps){r=z({},r),t=t.defaultProps;for(var l in t)r[l]===void 0&&(r[l]=t[l]);return r}return r}function Qa(t,r,l,u){r=t.memoizedState,l=l(u,r),l=l==null?r:z({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Mo={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,r,l){t=t._reactInternals;var u=mt(),d=Kn(t),g=wn(u,d);g.payload=r,l!=null&&(g.callback=l),r=Vn(t,g,d),r!==null&&(Jt(r,t,d,u),wo(r,t,d))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var u=mt(),d=Kn(t),g=wn(u,d);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Vn(t,g,d),r!==null&&(Jt(r,t,d,u),wo(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=mt(),u=Kn(t),d=wn(l,u);d.tag=2,r!=null&&(d.callback=r),r=Vn(t,d,u),r!==null&&(Jt(r,t,u,l),wo(r,t,u))}};function Wd(t,r,l,u,d,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,_):r.prototype&&r.prototype.isPureReactComponent?!Bi(l,u)||!Bi(d,g):!0}function Yd(t,r,l){var u=!1,d=jn,g=r.contextType;return typeof g=="object"&&g!==null?g=Ut(g):(d=vt(r)?dr:ot.current,u=r.contextTypes,g=(u=u!=null)?Br(t,d):jn),r=new r(l,g),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Mo,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=g),r}function Kd(t,r,l,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==t&&Mo.enqueueReplaceState(r,r.state,null)}function Ja(t,r,l,u){var d=t.stateNode;d.props=l,d.state=t.memoizedState,d.refs={},ja(t);var g=r.contextType;typeof g=="object"&&g!==null?d.context=Ut(g):(g=vt(r)?dr:ot.current,d.context=Br(t,g)),d.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Qa(t,r,g,l),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Mo.enqueueReplaceState(d,d.state,null),Ro(t,l,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,r){try{var l="",u=r;do l+=le(u),u=u.return;while(u);var d=l}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:r,stack:d,digest:null}}function eu(t,r,l){return{value:t,source:null,stack:l??null,digest:r??null}}function tu(t,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function Zd(t,r,l){l=wn(-1,l),l.tag=3,l.payload={element:null};var u=r.value;return l.callback=function(){Fo||(Fo=!0,pu=u),tu(t,r)},l}function Hd(t,r,l){l=wn(-1,l),l.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;l.payload=function(){return u(d)},l.callback=function(){tu(t,r)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){tu(t,r),typeof u!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),l}function $d(t,r,l){var u=t.pingCache;if(u===null){u=t.pingCache=new x0;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(l)||(d.add(l),t=U0.bind(null,t,r,l),r.then(t,t))}function bd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function qd(t,r,l,u,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=wn(-1,1),r.tag=2,Vn(l,r,1))),l.lanes|=1),t)}var C0=D.ReactCurrentOwner,Et=!1;function gt(t,r,l,u){r.child=t===null?_d(r,null,l,u):Zr(r,t.child,l,u)}function Qd(t,r,l,u,d){l=l.render;var g=r.ref;return $r(r,d),u=Ka(t,r,l,u,g,d),l=Za(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,Rn(t,r,d)):(je&&l&&Ma(r),r.flags|=1,gt(t,r,u,d),r.child)}function Jd(t,r,l,u,d){if(t===null){var g=l.type;return typeof g=="function"&&!Tu(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=g,ef(t,r,g,u,d)):(t=Vo(l.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!(t.lanes&d)){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:Bi,l(_,u)&&t.ref===r.ref)return Rn(t,r,d)}return r.flags|=1,t=Hn(g,u),t.ref=r.ref,t.return=r,r.child=t}function ef(t,r,l,u,d){if(t!==null){var g=t.memoizedProps;if(Bi(g,u)&&t.ref===r.ref)if(Et=!1,r.pendingProps=u=g,(t.lanes&d)!==0)t.flags&131072&&(Et=!0);else return r.lanes=t.lanes,Rn(t,r,d)}return nu(t,r,l,u,d)}function tf(t,r,l){var u=r.pendingProps,d=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Jr,At),At|=l;else{if(!(l&1073741824))return t=g!==null?g.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ne(Jr,At),At|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:l,Ne(Jr,At),At|=u}else g!==null?(u=g.baseLanes|l,r.memoizedState=null):u=l,Ne(Jr,At),At|=u;return gt(t,r,d,l),r.child}function nf(t,r){var l=r.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function nu(t,r,l,u,d){var g=vt(l)?dr:ot.current;return g=Br(r,g),$r(r,d),l=Ka(t,r,l,u,g,d),u=Za(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,Rn(t,r,d)):(je&&u&&Ma(r),r.flags|=1,gt(t,r,l,d),r.child)}function rf(t,r,l,u,d){if(vt(l)){var g=!0;fo(r)}else g=!1;if($r(r,d),r.stateNode===null)Ao(t,r),Yd(r,l,u),Ja(r,l,u,d),u=!0;else if(t===null){var _=r.stateNode,w=r.memoizedProps;_.props=w;var R=_.context,P=l.contextType;typeof P=="object"&&P!==null?P=Ut(P):(P=vt(l)?dr:ot.current,P=Br(r,P));var j=l.getDerivedStateFromProps,G=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function";G||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||R!==P)&&Kd(r,_,u,P),Gn=!1;var U=r.memoizedState;_.state=U,Ro(r,u,_,d),R=r.memoizedState,w!==u||U!==R||yt.current||Gn?(typeof j=="function"&&(Qa(r,l,j,u),R=r.memoizedState),(w=Gn||Wd(r,l,w,u,U,R,P))?(G||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=P,u=w):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,vd(t,r),w=r.memoizedProps,P=r.type===r.elementType?w:bt(r.type,w),_.props=P,G=r.pendingProps,U=_.context,R=l.contextType,typeof R=="object"&&R!==null?R=Ut(R):(R=vt(l)?dr:ot.current,R=Br(r,R));var $=l.getDerivedStateFromProps;(j=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==G||U!==R)&&Kd(r,_,u,R),Gn=!1,U=r.memoizedState,_.state=U,Ro(r,u,_,d);var te=r.memoizedState;w!==G||U!==te||yt.current||Gn?(typeof $=="function"&&(Qa(r,l,$,u),te=r.memoizedState),(P=Gn||Wd(r,l,P,u,U,te,R)||!1)?(j||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,te,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,te,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),_.props=u,_.state=te,_.context=R,u=P):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),u=!1)}return ru(t,r,l,u,g,d)}function ru(t,r,l,u,d,g){nf(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return d&&ad(r,l,!1),Rn(t,r,g);u=r.stateNode,C0.current=r;var w=_&&typeof l.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Zr(r,t.child,null,g),r.child=Zr(r,null,w,g)):gt(t,r,w,g),r.memoizedState=u.state,d&&ad(r,l,!0),r.child}function sf(t){var r=t.stateNode;r.pendingContext?od(t,r.pendingContext,r.pendingContext!==r.context):r.context&&od(t,r.context,!1),Xa(t,r.containerInfo)}function of(t,r,l,u,d){return Kr(),Da(d),r.flags|=256,gt(t,r,l,u),r.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function su(t){return{baseLanes:t,cachePool:null,transitions:null}}function lf(t,r,l){var u=r.pendingProps,d=Xe.current,g=!1,_=(r.flags&128)!==0,w;if((w=_)||(w=t!==null&&t.memoizedState===null?!1:(d&2)!==0),w?(g=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Ne(Xe,d&1),t===null)return ka(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,g?(u=r.mode,g=r.child,_={mode:"hidden",children:_},!(u&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Bo(_,u,0,null),t=Rr(t,u,l,null),g.return=r,t.return=r,g.sibling=t,r.child=g,r.child.memoizedState=su(l),r.memoizedState=iu,t):ou(r,_));if(d=t.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return S0(t,r,_,u,w,d,l);if(g){g=u.fallback,_=r.mode,d=t.child,w=d.sibling;var R={mode:"hidden",children:u.children};return!(_&1)&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Hn(d,R),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?g=Hn(w,g):(g=Rr(g,_,l,null),g.flags|=2),g.return=r,u.return=r,u.sibling=g,r.child=u,u=g,g=r.child,_=t.child.memoizedState,_=_===null?su(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=t.childLanes&~l,r.memoizedState=iu,u}return g=t.child,t=g.sibling,u=Hn(g,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=l),u.return=r,u.sibling=null,t!==null&&(l=r.deletions,l===null?(r.deletions=[t],r.flags|=16):l.push(t)),r.child=u,r.memoizedState=null,u}function ou(t,r){return r=Bo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Po(t,r,l,u){return u!==null&&Da(u),Zr(r,t.child,null,l),t=ou(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function S0(t,r,l,u,d,g,_){if(l)return r.flags&256?(r.flags&=-257,u=eu(Error(n(422))),Po(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(g=u.fallback,d=r.mode,u=Bo({mode:"visible",children:u.children},d,0,null),g=Rr(g,d,_,null),g.flags|=2,u.return=r,g.return=r,u.sibling=g,r.child=u,r.mode&1&&Zr(r,t.child,null,_),r.child.memoizedState=su(_),r.memoizedState=iu,g);if(!(r.mode&1))return Po(t,r,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,g=Error(n(419)),u=eu(g,u,void 0),Po(t,r,_,u)}if(w=(_&t.childLanes)!==0,Et||w){if(u=Je,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(u.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,En(t,d),Jt(u,t,d,-1))}return Ru(),u=eu(Error(n(421))),Po(t,r,_,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=j0.bind(null,t),d._reactRetry=r,null):(t=g.treeContext,Pt=zn(d.nextSibling),Mt=r,je=!0,$t=null,t!==null&&(Ft[zt++]=yn,Ft[zt++]=vn,Ft[zt++]=fr,yn=t.id,vn=t.overflow,fr=r),r=ou(r,u.children),r.flags|=4096,r)}function af(t,r,l){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),za(t.return,r,l)}function lu(t,r,l,u,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=d)}function uf(t,r,l){var u=r.pendingProps,d=u.revealOrder,g=u.tail;if(gt(t,r,u.children,l),u=Xe.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&af(t,l,r);else if(t.tag===19)af(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ne(Xe,u),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(l=r.child,d=null;l!==null;)t=l.alternate,t!==null&&To(t)===null&&(d=l),l=l.sibling;l=d,l===null?(d=r.child,r.child=null):(d=l.sibling,l.sibling=null),lu(r,!1,d,l,g);break;case"backwards":for(l=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&To(t)===null){r.child=d;break}t=d.sibling,d.sibling=l,l=d,d=t}lu(r,!0,l,null,g);break;case"together":lu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ao(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Rn(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),yr|=r.lanes,!(l&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,l=Hn(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=Hn(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function I0(t,r,l){switch(r.tag){case 3:sf(r),Kr();break;case 5:Rd(r);break;case 1:vt(r.type)&&fo(r);break;case 4:Xa(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;Ne(vo,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ne(Xe,Xe.current&1),r.flags|=128,null):l&r.child.childLanes?lf(t,r,l):(Ne(Xe,Xe.current&1),t=Rn(t,r,l),t!==null?t.sibling:null);Ne(Xe,Xe.current&1);break;case 19:if(u=(l&r.childLanes)!==0,t.flags&128){if(u)return uf(t,r,l);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ne(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,tf(t,r,l)}return Rn(t,r,l)}var cf,au,hf,df;cf=function(t,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},au=function(){},hf=function(t,r,l,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,pr(an.current);var g=null;switch(l){case"input":d=or(t,d),u=or(t,u),g=[];break;case"select":d=z({},d,{value:void 0}),u=z({},u,{value:void 0}),g=[];break;case"textarea":d=ar(t,d),u=ar(t,u),g=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=uo)}Vl(l,u);var _;l=null;for(P in d)if(!u.hasOwnProperty(P)&&d.hasOwnProperty(P)&&d[P]!=null)if(P==="style"){var w=d[P];for(_ in w)w.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?g||(g=[]):(g=g||[]).push(P,null));for(P in u){var R=u[P];if(w=d!=null?d[P]:void 0,u.hasOwnProperty(P)&&R!==w&&(R!=null||w!=null))if(P==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in R)R.hasOwnProperty(_)&&w[_]!==R[_]&&(l||(l={}),l[_]=R[_])}else l||(g||(g=[]),g.push(P,l)),l=R;else P==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(g=g||[]).push(P,R)):P==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(P,""+R):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(o.hasOwnProperty(P)?(R!=null&&P==="onScroll"&&ze("scroll",t),g||w===R||(g=[])):(g=g||[]).push(P,R))}l&&(g=g||[]).push("style",l);var P=g;(r.updateQueue=P)&&(r.flags|=4)}},df=function(t,r,l,u){l!==u&&(r.flags|=4)};function is(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(r)for(var d=t.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=l,r}function L0(t,r,l){var u=r.pendingProps;switch(Pa(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return vt(r.type)&&ho(),at(r),null;case 3:return u=r.stateNode,br(),Ue(yt),Ue(ot),Ba(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(_o(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,$t!==null&&(vu($t),$t=null))),au(t,r),at(r),null;case 5:Ga(r);var d=pr(Ji.current);if(l=r.type,t!==null&&r.stateNode!=null)hf(t,r,l,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return at(r),null}if(t=pr(an.current),_o(r)){u=r.stateNode,l=r.type;var g=r.memoizedProps;switch(u[ln]=r,u[Hi]=g,t=(r.mode&1)!==0,l){case"dialog":ze("cancel",u),ze("close",u);break;case"iframe":case"object":case"embed":ze("load",u);break;case"video":case"audio":for(d=0;d<Yi.length;d++)ze(Yi[d],u);break;case"source":ze("error",u);break;case"img":case"image":case"link":ze("error",u),ze("load",u);break;case"details":ze("toggle",u);break;case"input":lr(u,g),ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},ze("invalid",u);break;case"textarea":ur(u,g),ze("invalid",u)}Vl(l,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var w=g[_];_==="children"?typeof w=="string"?u.textContent!==w&&(g.suppressHydrationWarning!==!0&&ao(u.textContent,w,t),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(g.suppressHydrationWarning!==!0&&ao(u.textContent,w,t),d=["children",""+w]):o.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&ze("scroll",u)}switch(l){case"input":Ot(u),Kt(u,g,!0);break;case"textarea":Ot(u),ft(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=uo)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qc(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(l,{is:u.is}):(t=_.createElement(l),l==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,l),t[ln]=r,t[Hi]=u,cf(t,r,!1,!1),r.stateNode=t;e:{switch(_=Bl(l,u),l){case"dialog":ze("cancel",t),ze("close",t),d=u;break;case"iframe":case"object":case"embed":ze("load",t),d=u;break;case"video":case"audio":for(d=0;d<Yi.length;d++)ze(Yi[d],t);d=u;break;case"source":ze("error",t),d=u;break;case"img":case"image":case"link":ze("error",t),ze("load",t),d=u;break;case"details":ze("toggle",t),d=u;break;case"input":lr(t,u),d=or(t,u),ze("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=z({},u,{value:void 0}),ze("invalid",t);break;case"textarea":ur(t,u),d=ar(t,u),ze("invalid",t);break;default:d=u}Vl(l,d),w=d;for(g in w)if(w.hasOwnProperty(g)){var R=w[g];g==="style"?eh(t,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Qc(t,R)):g==="children"?typeof R=="string"?(l!=="textarea"||R!=="")&&Si(t,R):typeof R=="number"&&Si(t,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?R!=null&&g==="onScroll"&&ze("scroll",t):R!=null&&Y(t,g,R,_))}switch(l){case"input":Ot(t),Kt(t,u,!1);break;case"textarea":Ot(t),ft(t);break;case"option":u.value!=null&&t.setAttribute("value",""+ve(u.value));break;case"select":t.multiple=!!u.multiple,g=u.value,g!=null?mn(t,!!u.multiple,g,!1):u.defaultValue!=null&&mn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=uo)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return at(r),null;case 6:if(t&&r.stateNode!=null)df(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(l=pr(Ji.current),pr(an.current),_o(r)){if(u=r.stateNode,l=r.memoizedProps,u[ln]=r,(g=u.nodeValue!==l)&&(t=Mt,t!==null))switch(t.tag){case 3:ao(u.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(u.nodeValue,l,(t.mode&1)!==0)}g&&(r.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[ln]=r,r.stateNode=u}return at(r),null;case 13:if(Ue(Xe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Pt!==null&&r.mode&1&&!(r.flags&128))gd(),Kr(),r.flags|=98560,g=!1;else if(g=_o(r),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(n(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[ln]=r}else Kr(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;at(r),g=!1}else $t!==null&&(vu($t),$t=null),g=!0;if(!g)return r.flags&65536?r:null}return r.flags&128?(r.lanes=l,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Xe.current&1?be===0&&(be=3):Ru())),r.updateQueue!==null&&(r.flags|=4),at(r),null);case 4:return br(),au(t,r),t===null&&Ki(r.stateNode.containerInfo),at(r),null;case 10:return Fa(r.type._context),at(r),null;case 17:return vt(r.type)&&ho(),at(r),null;case 19:if(Ue(Xe),g=r.memoizedState,g===null)return at(r),null;if(u=(r.flags&128)!==0,_=g.rendering,_===null)if(u)is(g,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=To(t),_!==null){for(r.flags|=128,is(g,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=l,l=r.child;l!==null;)g=l,t=u,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,t=_.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Ne(Xe,Xe.current&1|2),r.child}t=t.sibling}g.tail!==null&&Ye()>ei&&(r.flags|=128,u=!0,is(g,!1),r.lanes=4194304)}else{if(!u)if(t=To(_),t!==null){if(r.flags|=128,u=!0,l=t.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),is(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!je)return at(r),null}else 2*Ye()-g.renderingStartTime>ei&&l!==1073741824&&(r.flags|=128,u=!0,is(g,!1),r.lanes=4194304);g.isBackwards?(_.sibling=r.child,r.child=_):(l=g.last,l!==null?l.sibling=_:r.child=_,g.last=_)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Ye(),r.sibling=null,l=Xe.current,Ne(Xe,u?l&1|2:l&1),r):(at(r),null);case 22:case 23:return wu(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?At&1073741824&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function M0(t,r){switch(Pa(r),r.tag){case 1:return vt(r.type)&&ho(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return br(),Ue(yt),Ue(ot),Ba(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ga(r),null;case 13:if(Ue(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Kr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ue(Xe),null;case 4:return br(),null;case 10:return Fa(r.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var ko=!1,ut=!1,P0=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Qr(t,r){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){Be(t,r,u)}else l.current=null}function uu(t,r,l){try{l()}catch(u){Be(t,r,u)}}var ff=!1;function A0(t,r){if(wa=qs,t=Wh(),fa(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,w=-1,R=-1,P=0,j=0,G=t,U=null;t:for(;;){for(var $;G!==l||d!==0&&G.nodeType!==3||(w=_+d),G!==g||u!==0&&G.nodeType!==3||(R=_+u),G.nodeType===3&&(_+=G.nodeValue.length),($=G.firstChild)!==null;)U=G,G=$;for(;;){if(G===t)break t;if(U===l&&++P===d&&(w=_),U===g&&++j===u&&(R=_),($=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=$}l=w===-1||R===-1?null:{start:w,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ra={focusedElem:t,selectionRange:l},qs=!1,Q=r;Q!==null;)if(r=Q,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Q=t;else for(;Q!==null;){r=Q;try{var te=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var ne=te.memoizedProps,Ke=te.memoizedState,I=r.stateNode,C=I.getSnapshotBeforeUpdate(r.elementType===r.type?ne:bt(r.type,ne),Ke);I.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Be(r,r.return,W)}if(t=r.sibling,t!==null){t.return=r.return,Q=t;break}Q=r.return}return te=ff,ff=!1,te}function ss(t,r,l){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var g=d.destroy;d.destroy=void 0,g!==void 0&&uu(r,l,g)}d=d.next}while(d!==u)}}function Do(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var u=l.create;l.destroy=u()}l=l.next}while(l!==r)}}function cu(t){var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof r=="function"?r(t):r.current=t}}function gf(t){var r=t.alternate;r!==null&&(t.alternate=null,gf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[ln],delete r[Hi],delete r[Sa],delete r[f0],delete r[g0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mf(t){return t.tag===5||t.tag===3||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hu(t,r,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(t,r):l.insertBefore(t,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(t,l)):(r=l,r.appendChild(t)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=uo));else if(u!==4&&(t=t.child,t!==null))for(hu(t,r,l),t=t.sibling;t!==null;)hu(t,r,l),t=t.sibling}function du(t,r,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(du(t,r,l),t=t.sibling;t!==null;)du(t,r,l),t=t.sibling}var tt=null,qt=!1;function Bn(t,r,l){for(l=l.child;l!==null;)_f(t,r,l),l=l.sibling}function _f(t,r,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ys,l)}catch{}switch(l.tag){case 5:ut||Qr(l,r);case 6:var u=tt,d=qt;tt=null,Bn(t,r,l),tt=u,qt=d,tt!==null&&(qt?(t=tt,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):tt.removeChild(l.stateNode));break;case 18:tt!==null&&(qt?(t=tt,l=l.stateNode,t.nodeType===8?Ca(t.parentNode,l):t.nodeType===1&&Ca(t,l),zi(t)):Ca(tt,l.stateNode));break;case 4:u=tt,d=qt,tt=l.stateNode.containerInfo,qt=!0,Bn(t,r,l),tt=u,qt=d;break;case 0:case 11:case 14:case 15:if(!ut&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&uu(l,r,_),d=d.next}while(d!==u)}Bn(t,r,l);break;case 1:if(!ut&&(Qr(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(w){Be(l,r,w)}Bn(t,r,l);break;case 21:Bn(t,r,l);break;case 22:l.mode&1?(ut=(u=ut)||l.memoizedState!==null,Bn(t,r,l),ut=u):Bn(t,r,l);break;default:Bn(t,r,l)}}function yf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new P0),r.forEach(function(u){var d=X0.bind(null,t,u);l.has(u)||(l.add(u),u.then(d,d))})}}function Qt(t,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];try{var g=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 5:tt=w.stateNode,qt=!1;break e;case 3:tt=w.stateNode.containerInfo,qt=!0;break e;case 4:tt=w.stateNode.containerInfo,qt=!0;break e}w=w.return}if(tt===null)throw Error(n(160));_f(g,_,d),tt=null,qt=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(P){Be(d,r,P)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)vf(r,t),r=r.sibling}function vf(t,r){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(r,t),cn(t),u&4){try{ss(3,t,t.return),Do(3,t)}catch(ne){Be(t,t.return,ne)}try{ss(5,t,t.return)}catch(ne){Be(t,t.return,ne)}}break;case 1:Qt(r,t),cn(t),u&512&&l!==null&&Qr(l,l.return);break;case 5:if(Qt(r,t),cn(t),u&512&&l!==null&&Qr(l,l.return),t.flags&32){var d=t.stateNode;try{Si(d,"")}catch(ne){Be(t,t.return,ne)}}if(u&4&&(d=t.stateNode,d!=null)){var g=t.memoizedProps,_=l!==null?l.memoizedProps:g,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&g.type==="radio"&&g.name!=null&&Ar(d,g),Bl(w,_);var P=Bl(w,g);for(_=0;_<R.length;_+=2){var j=R[_],G=R[_+1];j==="style"?eh(d,G):j==="dangerouslySetInnerHTML"?Qc(d,G):j==="children"?Si(d,G):Y(d,j,G,P)}switch(w){case"input":Nt(d,g);break;case"textarea":Xs(d,g);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var $=g.value;$!=null?mn(d,!!g.multiple,$,!1):U!==!!g.multiple&&(g.defaultValue!=null?mn(d,!!g.multiple,g.defaultValue,!0):mn(d,!!g.multiple,g.multiple?[]:"",!1))}d[Hi]=g}catch(ne){Be(t,t.return,ne)}}break;case 6:if(Qt(r,t),cn(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,g=t.memoizedProps;try{d.nodeValue=g}catch(ne){Be(t,t.return,ne)}}break;case 3:if(Qt(r,t),cn(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{zi(r.containerInfo)}catch(ne){Be(t,t.return,ne)}break;case 4:Qt(r,t),cn(t);break;case 13:Qt(r,t),cn(t),d=t.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(mu=Ye())),u&4&&yf(t);break;case 22:if(j=l!==null&&l.memoizedState!==null,t.mode&1?(ut=(P=ut)||j,Qt(r,t),ut=P):Qt(r,t),cn(t),u&8192){if(P=t.memoizedState!==null,(t.stateNode.isHidden=P)&&!j&&t.mode&1)for(Q=t,j=t.child;j!==null;){for(G=Q=j;Q!==null;){switch(U=Q,$=U.child,U.tag){case 0:case 11:case 14:case 15:ss(4,U,U.return);break;case 1:Qr(U,U.return);var te=U.stateNode;if(typeof te.componentWillUnmount=="function"){u=U,l=U.return;try{r=u,te.props=r.memoizedProps,te.state=r.memoizedState,te.componentWillUnmount()}catch(ne){Be(u,l,ne)}}break;case 5:Qr(U,U.return);break;case 22:if(U.memoizedState!==null){Rf(G);continue}}$!==null?($.return=U,Q=$):Rf(G)}j=j.sibling}e:for(j=null,G=t;;){if(G.tag===5){if(j===null){j=G;try{d=G.stateNode,P?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(w=G.stateNode,R=G.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Jc("display",_))}catch(ne){Be(t,t.return,ne)}}}else if(G.tag===6){if(j===null)try{G.stateNode.nodeValue=P?"":G.memoizedProps}catch(ne){Be(t,t.return,ne)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;j===G&&(j=null),G=G.return}j===G&&(j=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Qt(r,t),cn(t),u&4&&yf(t);break;case 21:break;default:Qt(r,t),cn(t)}}function cn(t){var r=t.flags;if(r&2){try{e:{for(var l=t.return;l!==null;){if(mf(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Si(d,""),u.flags&=-33);var g=pf(t);du(t,g,d);break;case 3:case 4:var _=u.stateNode.containerInfo,w=pf(t);hu(t,w,_);break;default:throw Error(n(161))}}catch(R){Be(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function k0(t,r,l){Q=t,Ef(t)}function Ef(t,r,l){for(var u=(t.mode&1)!==0;Q!==null;){var d=Q,g=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||ko;if(!_){var w=d.alternate,R=w!==null&&w.memoizedState!==null||ut;w=ko;var P=ut;if(ko=_,(ut=R)&&!P)for(Q=d;Q!==null;)_=Q,R=_.child,_.tag===22&&_.memoizedState!==null?Tf(d):R!==null?(R.return=_,Q=R):Tf(d);for(;g!==null;)Q=g,Ef(g),g=g.sibling;Q=d,ko=w,ut=P}wf(t)}else d.subtreeFlags&8772&&g!==null?(g.return=d,Q=g):wf(t)}}function wf(t){for(;Q!==null;){var r=Q;if(r.flags&8772){var l=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:ut||Do(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!ut)if(l===null)u.componentDidMount();else{var d=r.elementType===r.type?l.memoizedProps:bt(r.type,l.memoizedProps);u.componentDidUpdate(d,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&wd(r,g,u);break;case 3:var _=r.updateQueue;if(_!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}wd(r,_,l)}break;case 5:var w=r.stateNode;if(l===null&&r.flags&4){l=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&l.focus();break;case"img":R.src&&(l.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var P=r.alternate;if(P!==null){var j=P.memoizedState;if(j!==null){var G=j.dehydrated;G!==null&&zi(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ut||r.flags&512&&cu(r)}catch(U){Be(r,r.return,U)}}if(r===t){Q=null;break}if(l=r.sibling,l!==null){l.return=r.return,Q=l;break}Q=r.return}}function Rf(t){for(;Q!==null;){var r=Q;if(r===t){Q=null;break}var l=r.sibling;if(l!==null){l.return=r.return,Q=l;break}Q=r.return}}function Tf(t){for(;Q!==null;){var r=Q;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{Do(4,r)}catch(R){Be(r,l,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(R){Be(r,d,R)}}var g=r.return;try{cu(r)}catch(R){Be(r,g,R)}break;case 5:var _=r.return;try{cu(r)}catch(R){Be(r,_,R)}}}catch(R){Be(r,r.return,R)}if(r===t){Q=null;break}var w=r.sibling;if(w!==null){w.return=r.return,Q=w;break}Q=r.return}}var D0=Math.ceil,Oo=D.ReactCurrentDispatcher,fu=D.ReactCurrentOwner,Xt=D.ReactCurrentBatchConfig,Ce=0,Je=null,Ze=null,nt=0,At=0,Jr=Un(0),be=0,os=null,yr=0,No=0,gu=0,ls=null,wt=null,mu=0,ei=1/0,Tn=null,Fo=!1,pu=null,Wn=null,zo=!1,Yn=null,Uo=0,as=0,_u=null,jo=-1,Xo=0;function mt(){return Ce&6?Ye():jo!==-1?jo:jo=Ye()}function Kn(t){return t.mode&1?Ce&2&&nt!==0?nt&-nt:p0.transition!==null?(Xo===0&&(Xo=mh()),Xo):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:xh(t.type)),t):1}function Jt(t,r,l,u){if(50<as)throw as=0,_u=null,Error(n(185));ki(t,l,u),(!(Ce&2)||t!==Je)&&(t===Je&&(!(Ce&2)&&(No|=l),be===4&&Zn(t,nt)),Rt(t,u),l===1&&Ce===0&&!(r.mode&1)&&(ei=Ye()+500,go&&Xn()))}function Rt(t,r){var l=t.callbackNode;pp(t,r);var u=Hs(t,t===Je?nt:0);if(u===0)l!==null&&dh(l),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(l!=null&&dh(l),r===1)t.tag===0?m0(Cf.bind(null,t)):ud(Cf.bind(null,t)),h0(function(){!(Ce&6)&&Xn()}),l=null;else{switch(ph(u)){case 1:l=bl;break;case 4:l=fh;break;case 16:l=Ws;break;case 536870912:l=gh;break;default:l=Ws}l=Df(l,xf.bind(null,t))}t.callbackPriority=r,t.callbackNode=l}}function xf(t,r){if(jo=-1,Xo=0,Ce&6)throw Error(n(327));var l=t.callbackNode;if(ti()&&t.callbackNode!==l)return null;var u=Hs(t,t===Je?nt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Go(t,u);else{r=u;var d=Ce;Ce|=2;var g=If();(Je!==t||nt!==r)&&(Tn=null,ei=Ye()+500,Er(t,r));do try{F0();break}catch(w){Sf(t,w)}while(!0);Na(),Oo.current=g,Ce=d,Ze!==null?r=0:(Je=null,nt=0,r=be)}if(r!==0){if(r===2&&(d=ql(t),d!==0&&(u=d,r=yu(t,d))),r===1)throw l=os,Er(t,0),Zn(t,u),Rt(t,Ye()),l;if(r===6)Zn(t,u);else{if(d=t.current.alternate,!(u&30)&&!O0(d)&&(r=Go(t,u),r===2&&(g=ql(t),g!==0&&(u=g,r=yu(t,g))),r===1))throw l=os,Er(t,0),Zn(t,u),Rt(t,Ye()),l;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:wr(t,wt,Tn);break;case 3:if(Zn(t,u),(u&130023424)===u&&(r=mu+500-Ye(),10<r)){if(Hs(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){mt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=xa(wr.bind(null,t,wt,Tn),r);break}wr(t,wt,Tn);break;case 4:if(Zn(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var _=31-Zt(u);g=1<<_,_=r[_],_>d&&(d=_),u&=~g}if(u=d,u=Ye()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*D0(u/1960))-u,10<u){t.timeoutHandle=xa(wr.bind(null,t,wt,Tn),u);break}wr(t,wt,Tn);break;case 5:wr(t,wt,Tn);break;default:throw Error(n(329))}}}return Rt(t,Ye()),t.callbackNode===l?xf.bind(null,t):null}function yu(t,r){var l=ls;return t.current.memoizedState.isDehydrated&&(Er(t,r).flags|=256),t=Go(t,r),t!==2&&(r=wt,wt=l,r!==null&&vu(r)),t}function vu(t){wt===null?wt=t:wt.push.apply(wt,t)}function O0(t){for(var r=t;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var d=l[u],g=d.getSnapshot;d=d.value;try{if(!Ht(g(),d))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zn(t,r){for(r&=~gu,r&=~No,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var l=31-Zt(r),u=1<<l;t[l]=-1,r&=~u}}function Cf(t){if(Ce&6)throw Error(n(327));ti();var r=Hs(t,0);if(!(r&1))return Rt(t,Ye()),null;var l=Go(t,r);if(t.tag!==0&&l===2){var u=ql(t);u!==0&&(r=u,l=yu(t,u))}if(l===1)throw l=os,Er(t,0),Zn(t,r),Rt(t,Ye()),l;if(l===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,wr(t,wt,Tn),Rt(t,Ye()),null}function Eu(t,r){var l=Ce;Ce|=1;try{return t(r)}finally{Ce=l,Ce===0&&(ei=Ye()+500,go&&Xn())}}function vr(t){Yn!==null&&Yn.tag===0&&!(Ce&6)&&ti();var r=Ce;Ce|=1;var l=Xt.transition,u=Ae;try{if(Xt.transition=null,Ae=1,t)return t()}finally{Ae=u,Xt.transition=l,Ce=r,!(Ce&6)&&Xn()}}function wu(){At=Jr.current,Ue(Jr)}function Er(t,r){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,c0(l)),Ze!==null)for(l=Ze.return;l!==null;){var u=l;switch(Pa(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ho();break;case 3:br(),Ue(yt),Ue(ot),Ba();break;case 5:Ga(u);break;case 4:br();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:Fa(u.type._context);break;case 22:case 23:wu()}l=l.return}if(Je=t,Ze=t=Hn(t.current,null),nt=At=r,be=0,os=null,gu=No=yr=0,wt=ls=null,mr!==null){for(r=0;r<mr.length;r++)if(l=mr[r],u=l.interleaved,u!==null){l.interleaved=null;var d=u.next,g=l.pending;if(g!==null){var _=g.next;g.next=d,u.next=_}l.pending=u}mr=null}return t}function Sf(t,r){do{var l=Ze;try{if(Na(),xo.current=Lo,Co){for(var u=Ge.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Co=!1}if(_r=0,Qe=$e=Ge=null,es=!1,ts=0,fu.current=null,l===null||l.return===null){be=1,os=r,Ze=null;break}e:{var g=t,_=l.return,w=l,R=r;if(r=nt,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var P=R,j=w,G=j.tag;if(!(j.mode&1)&&(G===0||G===11||G===15)){var U=j.alternate;U?(j.updateQueue=U.updateQueue,j.memoizedState=U.memoizedState,j.lanes=U.lanes):(j.updateQueue=null,j.memoizedState=null)}var $=bd(_);if($!==null){$.flags&=-257,qd($,_,w,g,r),$.mode&1&&$d(g,P,r),r=$,R=P;var te=r.updateQueue;if(te===null){var ne=new Set;ne.add(R),r.updateQueue=ne}else te.add(R);break e}else{if(!(r&1)){$d(g,P,r),Ru();break e}R=Error(n(426))}}else if(je&&w.mode&1){var Ke=bd(_);if(Ke!==null){!(Ke.flags&65536)&&(Ke.flags|=256),qd(Ke,_,w,g,r),Da(qr(R,w));break e}}g=R=qr(R,w),be!==4&&(be=2),ls===null?ls=[g]:ls.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var I=Zd(g,R,r);Ed(g,I);break e;case 1:w=R;var C=g.type,M=g.stateNode;if(!(g.flags&128)&&(typeof C.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Wn===null||!Wn.has(M)))){g.flags|=65536,r&=-r,g.lanes|=r;var W=Hd(g,w,r);Ed(g,W);break e}}g=g.return}while(g!==null)}Mf(l)}catch(ie){r=ie,Ze===l&&l!==null&&(Ze=l=l.return);continue}break}while(!0)}function If(){var t=Oo.current;return Oo.current=Lo,t===null?Lo:t}function Ru(){(be===0||be===3||be===2)&&(be=4),Je===null||!(yr&268435455)&&!(No&268435455)||Zn(Je,nt)}function Go(t,r){var l=Ce;Ce|=2;var u=If();(Je!==t||nt!==r)&&(Tn=null,Er(t,r));do try{N0();break}catch(d){Sf(t,d)}while(!0);if(Na(),Ce=l,Oo.current=u,Ze!==null)throw Error(n(261));return Je=null,nt=0,be}function N0(){for(;Ze!==null;)Lf(Ze)}function F0(){for(;Ze!==null&&!lp();)Lf(Ze)}function Lf(t){var r=kf(t.alternate,t,At);t.memoizedProps=t.pendingProps,r===null?Mf(t):Ze=r,fu.current=null}function Mf(t){var r=t;do{var l=r.alternate;if(t=r.return,r.flags&32768){if(l=M0(l,r),l!==null){l.flags&=32767,Ze=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,Ze=null;return}}else if(l=L0(l,r,At),l!==null){Ze=l;return}if(r=r.sibling,r!==null){Ze=r;return}Ze=r=t}while(r!==null);be===0&&(be=5)}function wr(t,r,l){var u=Ae,d=Xt.transition;try{Xt.transition=null,Ae=1,z0(t,r,l,u)}finally{Xt.transition=d,Ae=u}return null}function z0(t,r,l,u){do ti();while(Yn!==null);if(Ce&6)throw Error(n(327));l=t.finishedWork;var d=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var g=l.lanes|l.childLanes;if(_p(t,g),t===Je&&(Ze=Je=null,nt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||zo||(zo=!0,Df(Ws,function(){return ti(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Xt.transition,Xt.transition=null;var _=Ae;Ae=1;var w=Ce;Ce|=4,fu.current=null,A0(t,l),vf(l,t),r0(Ra),qs=!!wa,Ra=wa=null,t.current=l,k0(l),ap(),Ce=w,Ae=_,Xt.transition=g}else t.current=l;if(zo&&(zo=!1,Yn=t,Uo=d),g=t.pendingLanes,g===0&&(Wn=null),hp(l.stateNode),Rt(t,Ye()),r!==null)for(u=t.onRecoverableError,l=0;l<r.length;l++)d=r[l],u(d.value,{componentStack:d.stack,digest:d.digest});if(Fo)throw Fo=!1,t=pu,pu=null,t;return Uo&1&&t.tag!==0&&ti(),g=t.pendingLanes,g&1?t===_u?as++:(as=0,_u=t):as=0,Xn(),null}function ti(){if(Yn!==null){var t=ph(Uo),r=Xt.transition,l=Ae;try{if(Xt.transition=null,Ae=16>t?16:t,Yn===null)var u=!1;else{if(t=Yn,Yn=null,Uo=0,Ce&6)throw Error(n(331));var d=Ce;for(Ce|=4,Q=t.current;Q!==null;){var g=Q,_=g.child;if(Q.flags&16){var w=g.deletions;if(w!==null){for(var R=0;R<w.length;R++){var P=w[R];for(Q=P;Q!==null;){var j=Q;switch(j.tag){case 0:case 11:case 15:ss(8,j,g)}var G=j.child;if(G!==null)G.return=j,Q=G;else for(;Q!==null;){j=Q;var U=j.sibling,$=j.return;if(gf(j),j===P){Q=null;break}if(U!==null){U.return=$,Q=U;break}Q=$}}}var te=g.alternate;if(te!==null){var ne=te.child;if(ne!==null){te.child=null;do{var Ke=ne.sibling;ne.sibling=null,ne=Ke}while(ne!==null)}}Q=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,Q=_;else e:for(;Q!==null;){if(g=Q,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ss(9,g,g.return)}var I=g.sibling;if(I!==null){I.return=g.return,Q=I;break e}Q=g.return}}var C=t.current;for(Q=C;Q!==null;){_=Q;var M=_.child;if(_.subtreeFlags&2064&&M!==null)M.return=_,Q=M;else e:for(_=C;Q!==null;){if(w=Q,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Do(9,w)}}catch(ie){Be(w,w.return,ie)}if(w===_){Q=null;break e}var W=w.sibling;if(W!==null){W.return=w.return,Q=W;break e}Q=w.return}}if(Ce=d,Xn(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ys,t)}catch{}u=!0}return u}finally{Ae=l,Xt.transition=r}}return!1}function Pf(t,r,l){r=qr(l,r),r=Zd(t,r,1),t=Vn(t,r,1),r=mt(),t!==null&&(ki(t,1,r),Rt(t,r))}function Be(t,r,l){if(t.tag===3)Pf(t,t,l);else for(;r!==null;){if(r.tag===3){Pf(r,t,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wn===null||!Wn.has(u))){t=qr(l,t),t=Hd(r,t,1),r=Vn(r,t,1),t=mt(),r!==null&&(ki(r,1,t),Rt(r,t));break}}r=r.return}}function U0(t,r,l){var u=t.pingCache;u!==null&&u.delete(r),r=mt(),t.pingedLanes|=t.suspendedLanes&l,Je===t&&(nt&l)===l&&(be===4||be===3&&(nt&130023424)===nt&&500>Ye()-mu?Er(t,0):gu|=l),Rt(t,r)}function Af(t,r){r===0&&(t.mode&1?(r=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):r=1);var l=mt();t=En(t,r),t!==null&&(ki(t,r,l),Rt(t,l))}function j0(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),Af(t,l)}function X0(t,r){var l=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Af(t,l)}var kf;kf=function(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps||yt.current)Et=!0;else{if(!(t.lanes&l)&&!(r.flags&128))return Et=!1,I0(t,r,l);Et=!!(t.flags&131072)}else Et=!1,je&&r.flags&1048576&&cd(r,po,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Ao(t,r),t=r.pendingProps;var d=Br(r,ot.current);$r(r,l),d=Ka(null,r,u,t,d,l);var g=Za();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,vt(u)?(g=!0,fo(r)):g=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ja(r),d.updater=Mo,r.stateNode=d,d._reactInternals=r,Ja(r,u,t,l),r=ru(null,r,u,!0,g,l)):(r.tag=0,je&&g&&Ma(r),gt(null,r,d,l),r=r.child),r;case 16:u=r.elementType;e:{switch(Ao(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=V0(u),t=bt(u,t),d){case 0:r=nu(null,r,u,t,l);break e;case 1:r=rf(null,r,u,t,l);break e;case 11:r=Qd(null,r,u,t,l);break e;case 14:r=Jd(null,r,u,bt(u.type,t),l);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:bt(u,d),nu(t,r,u,d,l);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:bt(u,d),rf(t,r,u,d,l);case 3:e:{if(sf(r),t===null)throw Error(n(387));u=r.pendingProps,g=r.memoizedState,d=g.element,vd(t,r),Ro(r,u,null,l);var _=r.memoizedState;if(u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){d=qr(Error(n(423)),r),r=of(t,r,u,l,d);break e}else if(u!==d){d=qr(Error(n(424)),r),r=of(t,r,u,l,d);break e}else for(Pt=zn(r.stateNode.containerInfo.firstChild),Mt=r,je=!0,$t=null,l=_d(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Kr(),u===d){r=Rn(t,r,l);break e}gt(t,r,u,l)}r=r.child}return r;case 5:return Rd(r),t===null&&ka(r),u=r.type,d=r.pendingProps,g=t!==null?t.memoizedProps:null,_=d.children,Ta(u,d)?_=null:g!==null&&Ta(u,g)&&(r.flags|=32),nf(t,r),gt(t,r,_,l),r.child;case 6:return t===null&&ka(r),null;case 13:return lf(t,r,l);case 4:return Xa(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Zr(r,null,u,l):gt(t,r,u,l),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:bt(u,d),Qd(t,r,u,d,l);case 7:return gt(t,r,r.pendingProps,l),r.child;case 8:return gt(t,r,r.pendingProps.children,l),r.child;case 12:return gt(t,r,r.pendingProps.children,l),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,g=r.memoizedProps,_=d.value,Ne(vo,u._currentValue),u._currentValue=_,g!==null)if(Ht(g.value,_)){if(g.children===d.children&&!yt.current){r=Rn(t,r,l);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var w=g.dependencies;if(w!==null){_=g.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(g.tag===1){R=wn(-1,l&-l),R.tag=2;var P=g.updateQueue;if(P!==null){P=P.shared;var j=P.pending;j===null?R.next=R:(R.next=j.next,j.next=R),P.pending=R}}g.lanes|=l,R=g.alternate,R!==null&&(R.lanes|=l),za(g.return,l,r),w.lanes|=l;break}R=R.next}}else if(g.tag===10)_=g.type===r.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=l,w=_.alternate,w!==null&&(w.lanes|=l),za(_,l,r),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===r){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}gt(t,r,d.children,l),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,$r(r,l),d=Ut(d),u=u(d),r.flags|=1,gt(t,r,u,l),r.child;case 14:return u=r.type,d=bt(u,r.pendingProps),d=bt(u.type,d),Jd(t,r,u,d,l);case 15:return ef(t,r,r.type,r.pendingProps,l);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:bt(u,d),Ao(t,r),r.tag=1,vt(u)?(t=!0,fo(r)):t=!1,$r(r,l),Yd(r,u,d),Ja(r,u,d,l),ru(null,r,u,!0,t,l);case 19:return uf(t,r,l);case 22:return tf(t,r,l)}throw Error(n(156,r.tag))};function Df(t,r){return hh(t,r)}function G0(t,r,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,r,l,u){return new G0(t,r,l,u)}function Tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V0(t){if(typeof t=="function")return Tu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===se)return 11;if(t===re)return 14}return 2}function Hn(t,r){var l=t.alternate;return l===null?(l=Gt(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Vo(t,r,l,u,d,g){var _=2;if(u=t,typeof t=="function")Tu(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case J:return Rr(l.children,d,g,r);case X:_=8,d|=8;break;case Z:return t=Gt(12,l,r,d|2),t.elementType=Z,t.lanes=g,t;case ue:return t=Gt(13,l,r,d),t.elementType=ue,t.lanes=g,t;case pe:return t=Gt(19,l,r,d),t.elementType=pe,t.lanes=g,t;case ee:return Bo(l,d,g,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:_=10;break e;case de:_=9;break e;case se:_=11;break e;case re:_=14;break e;case Ee:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Gt(_,l,r,d),r.elementType=t,r.type=u,r.lanes=g,r}function Rr(t,r,l,u){return t=Gt(7,t,u,r),t.lanes=l,t}function Bo(t,r,l,u){return t=Gt(22,t,u,r),t.elementType=ee,t.lanes=l,t.stateNode={isHidden:!1},t}function xu(t,r,l){return t=Gt(6,t,null,r),t.lanes=l,t}function Cu(t,r,l){return r=Gt(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function B0(t,r,l,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Su(t,r,l,u,d,g,_,w,R){return t=new B0(t,r,l,w,R),r===1?(r=1,g===!0&&(r|=8)):r=0,g=Gt(3,null,null,r),t.current=g,g.stateNode=t,g.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(g),t}function W0(t,r,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:t,containerInfo:r,implementation:l}}function Of(t){if(!t)return jn;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(vt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var l=t.type;if(vt(l))return ld(t,l,r)}return r}function Nf(t,r,l,u,d,g,_,w,R){return t=Su(l,u,!0,t,d,g,_,w,R),t.context=Of(null),l=t.current,u=mt(),d=Kn(l),g=wn(u,d),g.callback=r??null,Vn(l,g,d),t.current.lanes=d,ki(t,d,u),Rt(t,u),t}function Wo(t,r,l,u){var d=r.current,g=mt(),_=Kn(d);return l=Of(l),r.context===null?r.context=l:r.pendingContext=l,r=wn(g,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Vn(d,r,_),t!==null&&(Jt(t,d,_,g),wo(t,d,_)),_}function Yo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ff(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function Iu(t,r){Ff(t,r),(t=t.alternate)&&Ff(t,r)}function Y0(){return null}var zf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lu(t){this._internalRoot=t}Ko.prototype.render=Lu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Wo(t,r,null,null)},Ko.prototype.unmount=Lu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;vr(function(){Wo(null,t,null,null)}),r[pn]=null}};function Ko(t){this._internalRoot=t}Ko.prototype.unstable_scheduleHydration=function(t){if(t){var r=vh();t={blockedOn:null,target:t,priority:r};for(var l=0;l<On.length&&r!==0&&r<On[l].priority;l++);On.splice(l,0,t),l===0&&Rh(t)}};function Mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uf(){}function K0(t,r,l,u,d){if(d){if(typeof u=="function"){var g=u;u=function(){var P=Yo(_);g.call(P)}}var _=Nf(r,u,t,0,null,!1,!1,"",Uf);return t._reactRootContainer=_,t[pn]=_.current,Ki(t.nodeType===8?t.parentNode:t),vr(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var P=Yo(R);w.call(P)}}var R=Su(t,0,!1,null,null,!1,!1,"",Uf);return t._reactRootContainer=R,t[pn]=R.current,Ki(t.nodeType===8?t.parentNode:t),vr(function(){Wo(r,R,l,u)}),R}function Ho(t,r,l,u,d){var g=l._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var w=d;d=function(){var R=Yo(_);w.call(R)}}Wo(r,_,t,d)}else _=K0(l,r,t,d,u);return Yo(_)}_h=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var l=Ai(r.pendingLanes);l!==0&&(Jl(r,l|1),Rt(r,Ye()),!(Ce&6)&&(ei=Ye()+500,Xn()))}break;case 13:vr(function(){var u=En(t,1);if(u!==null){var d=mt();Jt(u,t,1,d)}}),Iu(t,1)}},ea=function(t){if(t.tag===13){var r=En(t,134217728);if(r!==null){var l=mt();Jt(r,t,134217728,l)}Iu(t,134217728)}},yh=function(t){if(t.tag===13){var r=Kn(t),l=En(t,r);if(l!==null){var u=mt();Jt(l,t,r,u)}Iu(t,r)}},vh=function(){return Ae},Eh=function(t,r){var l=Ae;try{return Ae=t,r()}finally{Ae=l}},Kl=function(t,r,l){switch(r){case"input":if(Nt(t,l),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==t&&u.form===t.form){var d=co(u);if(!d)throw Error(n(90));sr(u),Nt(u,d)}}}break;case"textarea":Xs(t,l);break;case"select":r=l.value,r!=null&&mn(t,!!l.multiple,r,!1)}},ih=Eu,sh=vr;var Z0={usingClientEntryPoint:!1,Events:[$i,Gr,co,nh,rh,Eu]},us={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H0={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uh(t),t===null?null:t.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||Y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Ys=$o.inject(H0),on=$o}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0,Tt.createPortal=function(t,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mu(r))throw Error(n(200));return W0(t,r,null,l)},Tt.createRoot=function(t,r){if(!Mu(t))throw Error(n(299));var l=!1,u="",d=zf;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Su(t,1,!1,null,null,l,!1,u,d),t[pn]=r.current,Ki(t.nodeType===8?t.parentNode:t),new Lu(r)},Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=uh(r),t=t===null?null:t.stateNode,t},Tt.flushSync=function(t){return vr(t)},Tt.hydrate=function(t,r,l){if(!Zo(r))throw Error(n(200));return Ho(null,t,r,!0,l)},Tt.hydrateRoot=function(t,r,l){if(!Mu(t))throw Error(n(405));var u=l!=null&&l.hydratedSources||null,d=!1,g="",_=zf;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),r=Nf(r,null,t,1,l??null,d,!1,g,_),t[pn]=r.current,Ki(t),u)for(t=0;t<u.length;t++)l=u[t],d=l._getVersion,d=d(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,d]:r.mutableSourceEagerHydrationData.push(l,d);return new Ko(r)},Tt.render=function(t,r,l){if(!Zo(r))throw Error(n(200));return Ho(null,t,r,!1,l)},Tt.unmountComponentAtNode=function(t){if(!Zo(t))throw Error(n(40));return t._reactRootContainer?(vr(function(){Ho(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1},Tt.unstable_batchedUpdates=Eu,Tt.unstable_renderSubtreeIntoContainer=function(t,r,l,u){if(!Zo(l))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ho(t,r,l,!1,u)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Zf;function i_(){if(Zf)return ku.exports;Zf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ku.exports=r_(),ku.exports}var Hf;function s_(){if(Hf)return bo;Hf=1;var i=i_();return bo.createRoot=i.createRoot,bo.hydrateRoot=i.hydrateRoot,bo}var o_=s_();function l_(i){return Me.jsx(Me.Fragment,{children:Me.jsxs("div",{className:"weatherContainer",children:[Me.jsxs("section",{className:"header container-row",children:[Me.jsx("div",{className:"",children:i.city}),Me.jsx("div",{className:"",children:i.time})]}),Me.jsxs("section",{className:"weather",children:[Me.jsxs("div",{className:"about_weather",children:[Me.jsx("img",{src:i.icon,className:"image"}),Me.jsx("div",{className:"description",children:i.weather})]}),Me.jsxs("div",{className:"temp",children:[Me.jsx("div",{className:"current",children:i.temp}),Me.jsxs("div",{className:"feelsLike",children:[" feels like ",i.realFeel]})]})]}),Me.jsx("section",{className:"wind&humidity",children:Me.jsxs("div",{className:"wind container-row",children:[Me.jsxs("div",{className:"",children:[Me.jsx("h4",{children:"wind"}),Me.jsx("h4",{children:"gusts"}),Me.jsx("h4",{children:"humidity"})]}),Me.jsxs("div",{children:[Me.jsx("p",{className:"wind-info",children:i.wind}),Me.jsx("p",{className:"wind-info",children:i.gusts}),Me.jsx("p",{className:"wind-info",children:i.humidity})]})]})})]})})}const a_={"01d":"day.svg","02d":"cloudy-day-1.svg","03d":"cloudy-day-2.svg","04d":"cloudy.svg","09d":"rainy-6.svg","10d":"rainy-1.svg","11d":"thunder.svg","13d":"snowy-6.svg","50d":"cloudy.svg","01n":"night.svg","02n":"cloudy-night-1.svg","03n":"cloudy-night-2.svg","04n":"cloudy.svg","09n":"rainy-6.svg","10n":"rainy-4.svg","11n":"thunder.svg","13n":"snowy-6.svg","50n":"cloudy"};class rr{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const ws={PROPERTYCHANGE:"propertychange"};class El{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function wl(i,e){return i>e?1:i<e?-1:0}function pc(i,e,n){if(i[0]<=e)return 0;const s=i.length;if(e<=i[s-1])return s-1;if(typeof n=="function"){for(let o=1;o<s;++o){const a=i[o];if(a===e)return o;if(a<e)return n(e,i[o-1],a)>0?o-1:o}return s-1}if(n>0){for(let o=1;o<s;++o)if(i[o]<e)return o-1;return s-1}if(n<0){for(let o=1;o<s;++o)if(i[o]<=e)return o;return s-1}for(let o=1;o<s;++o){if(i[o]==e)return o;if(i[o]<e)return i[o-1]-e<e-i[o]?o-1:o}return s-1}function u_(i,e){const n=Array.isArray(e)?e:[e],s=n.length;for(let o=0;o<s;o++)i[i.length]=n[o]}function Rl(i,e){const n=i.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(i[s]!==e[s])return!1;return!0}function c_(i,e,n){const s=e||wl;return i.every(function(o,a){if(a===0)return!0;const c=s(i[a-1],o);return!(c>0||c===0)})}function al(){return!0}function Tl(){return!1}function ul(){}function h_(i){let e,n,s;return function(){const o=Array.prototype.slice.call(arguments);return(!n||this!==s||!Rl(o,n))&&(s=this,n=o,e=i.apply(this,arguments)),e}}function d_(i){function e(){let n;try{n=i()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function xl(i){for(const e in i)delete i[e]}function $g(i){let e;for(e in i)return!1;return!e}class Cl extends El{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const s=this.listeners_||(this.listeners_={}),o=s[e]||(s[e]=[]);o.includes(n)||o.push(n)}dispatchEvent(e){const n=typeof e=="string",s=n?e:e.type,o=this.listeners_&&this.listeners_[s];if(!o)return;const a=n?new rr(e):e;a.target||(a.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let f;for(let m=0,p=o.length;m<p;++m)if("handleEvent"in o[m]?f=o[m].handleEvent(a):f=o[m].call(this,a),f===!1||a.propagationStopped){f=!1;break}if(--c[s]===0){let m=h[s];for(delete h[s];m--;)this.removeEventListener(s,ul);delete c[s]}return f}disposeInternal(){this.listeners_&&xl(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const s=this.listeners_[e];if(!s)return;const o=s.indexOf(n);o!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(s[o]=ul,++this.pendingRemovals_[e]):(s.splice(o,1),s.length===0&&delete this.listeners_[e]))}}const ye={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Pe(i,e,n,s,o){if(o){const c=n;n=function(){i.removeEventListener(e,n),c.apply(s??this,arguments)}}else s&&s!==i&&(n=n.bind(s));const a={target:i,type:e,listener:n};return i.addEventListener(e,n),a}function cl(i,e,n,s){return Pe(i,e,n,s,!0)}function Ve(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),xl(i))}class As extends Cl{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(ye.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const s=e.length,o=new Array(s);for(let a=0;a<s;++a)o[a]=Pe(this,e[a],n);return o}return Pe(this,e,n)}onceInternal(e,n){let s;if(Array.isArray(e)){const o=e.length;s=new Array(o);for(let a=0;a<o;++a)s[a]=cl(this,e[a],n)}else s=cl(this,e,n);return n.ol_key=s,s}unInternal(e,n){const s=n.ol_key;if(s)f_(s);else if(Array.isArray(e))for(let o=0,a=e.length;o<a;++o)this.removeEventListener(e[o],n);else this.removeEventListener(e,n)}}As.prototype.on;As.prototype.once;As.prototype.un;function f_(i){if(Array.isArray(i))for(let e=0,n=i.length;e<n;++e)Ve(i[e]);else Ve(i)}function Ie(){throw new Error("Unimplemented abstract method.")}let g_=0;function ht(i){return i.ol_uid||(i.ol_uid=String(++g_))}class $f extends rr{constructor(e,n,s){super(e),this.key=n,this.oldValue=s}}class Ln extends As{constructor(e){super(),this.on,this.once,this.un,ht(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let s;s=`change:${e}`,this.hasListener(s)&&this.dispatchEvent(new $f(s,e,n)),s=ws.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new $f(s,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,s){const o=this.values_||(this.values_={});if(s)o[e]=n;else{const a=o[e];o[e]=n,a!==n&&this.notify(e,a)}}setProperties(e,n){for(const s in e)this.set(s,e[s],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const s=this.values_[e];delete this.values_[e],$g(this.values_)&&(this.values_=null),n||this.notify(e,s)}}}const Bt={ADD:"add",REMOVE:"remove"},bf={LENGTH:"length"};class qo extends rr{constructor(e,n,s){super(e),this.element=n,this.index=s}}class Sn extends Ln{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let s=0,o=this.array_.length;s<o;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,s=e.length;n<s;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let s=0,o=n.length;s<o;++s)e(n[s],s,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(bf.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new qo(Bt.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let s=0,o=n.length;s<o;++s)if(n[s]===e)return this.removeAt(s)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new qo(Bt.REMOVE,n,e)),n}setAt(e,n){const s=this.getLength();if(e>=s){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const o=this.array_[e];this.array_[e]=n,this.dispatchEvent(new qo(Bt.REMOVE,o,e)),this.dispatchEvent(new qo(Bt.ADD,n,e))}updateLength_(){this.set(bf.LENGTH,this.array_.length)}assertUnique_(e,n){for(let s=0,o=this.array_.length;s<o;++s)if(this.array_[s]===e&&s!==n)throw new Error("Duplicate item added to a unique collection")}}function Oe(i,e){if(!i)throw new Error(e)}new Array(6);function gi(){return[1,0,0,1,0,0]}function Dt(i,e){const n=e[0],s=e[1];return e[0]=i[0]*n+i[2]*s+i[4],e[1]=i[1]*n+i[3]*s+i[5],e}function Rs(i,e,n,s,o,a,c,h){const f=Math.sin(a),m=Math.cos(a);return i[0]=s*m,i[1]=o*f,i[2]=-s*f,i[3]=o*m,i[4]=c*s*m-h*s*f+e,i[5]=c*o*f+h*o*m+n,i}function bg(i,e){const n=m_(e);Oe(n!==0,"Transformation matrix cannot be inverted");const s=e[0],o=e[1],a=e[2],c=e[3],h=e[4],f=e[5];return i[0]=c/n,i[1]=-o/n,i[2]=-a/n,i[3]=s/n,i[4]=(a*f-c*h)/n,i[5]=-(s*f-o*h)/n,i}function m_(i){return i[0]*i[3]-i[1]*i[2]}const qf=[1e6,1e6,1e6,1e6,2,2];function p_(i){return"matrix("+i.map((n,s)=>Math.round(n*qf[s])/qf[s]).join(", ")+")"}const rt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Qf(i){const e=ir();for(let n=0,s=i.length;n<s;++n)ll(e,i[n]);return e}function __(i,e,n){const s=Math.min.apply(null,i),o=Math.min.apply(null,e),a=Math.max.apply(null,i),c=Math.max.apply(null,e);return Ti(s,o,a,c,n)}function y_(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i.slice()}function qg(i,e,n){let s,o;return e<i[0]?s=i[0]-e:i[2]<e?s=e-i[2]:s=0,n<i[1]?o=i[1]-n:i[3]<n?o=n-i[3]:o=0,s*s+o*o}function _c(i,e){return Qg(i,e[0],e[1])}function v_(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function Qg(i,e,n){return i[0]<=e&&e<=i[2]&&i[1]<=n&&n<=i[3]}function Jf(i,e){const n=i[0],s=i[1],o=i[2],a=i[3],c=e[0],h=e[1];let f=rt.UNKNOWN;return c<n?f=f|rt.LEFT:c>o&&(f=f|rt.RIGHT),h<s?f=f|rt.BELOW:h>a&&(f=f|rt.ABOVE),f===rt.UNKNOWN&&(f=rt.INTERSECTING),f}function ir(){return[1/0,1/0,-1/0,-1/0]}function Ti(i,e,n,s,o){return o?(o[0]=i,o[1]=e,o[2]=n,o[3]=s,o):[i,e,n,s]}function ks(i){return Ti(1/0,1/0,-1/0,-1/0,i)}function E_(i,e){const n=i[0],s=i[1];return Ti(n,s,n,s,e)}function w_(i,e,n,s,o){const a=ks(o);return em(a,i,e,n,s)}function ec(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function Jg(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function ll(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function em(i,e,n,s,o){for(;n<s;n+=o)R_(i,e[n],e[n+1]);return i}function R_(i,e,n){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],n)}function tm(i,e){let n;return n=e(Sl(i)),n||(n=e(Il(i)),n)||(n=e(Ll(i)),n)||(n=e(In(i)),n)?n:!1}function Ts(i){let e=0;return Os(i)||(e=De(i)*dt(i)),e}function Sl(i){return[i[0],i[1]]}function Il(i){return[i[2],i[1]]}function Ei(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function T_(i,e){let n;if(e==="bottom-left")n=Sl(i);else if(e==="bottom-right")n=Il(i);else if(e==="top-left")n=In(i);else if(e==="top-right")n=Ll(i);else throw new Error("Invalid corner");return n}function tc(i,e,n,s,o){const[a,c,h,f,m,p,y,v]=x_(i,e,n,s);return Ti(Math.min(a,h,m,y),Math.min(c,f,p,v),Math.max(a,h,m,y),Math.max(c,f,p,v),o)}function x_(i,e,n,s){const o=e*s[0]/2,a=e*s[1]/2,c=Math.cos(n),h=Math.sin(n),f=o*c,m=o*h,p=a*c,y=a*h,v=i[0],x=i[1];return[v-f+y,x-m-p,v-f-y,x-m+p,v+f-y,x+m+p,v+f+y,x+m-p,v-f+y,x-m-p]}function dt(i){return i[3]-i[1]}function nn(i,e,n){const s=n||ir();return Ds(i,e)?(i[0]>e[0]?s[0]=i[0]:s[0]=e[0],i[1]>e[1]?s[1]=i[1]:s[1]=e[1],i[2]<e[2]?s[2]=i[2]:s[2]=e[2],i[3]<e[3]?s[3]=i[3]:s[3]=e[3]):ks(s),s}function In(i){return[i[0],i[3]]}function Ll(i){return[i[2],i[3]]}function De(i){return i[2]-i[0]}function Ds(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function Os(i){return i[2]<i[0]||i[3]<i[1]}function C_(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function S_(i,e,n){let s=!1;const o=Jf(i,e),a=Jf(i,n);if(o===rt.INTERSECTING||a===rt.INTERSECTING)s=!0;else{const c=i[0],h=i[1],f=i[2],m=i[3],p=e[0],y=e[1],v=n[0],x=n[1],E=(x-y)/(v-p);let S,L;a&rt.ABOVE&&!(o&rt.ABOVE)&&(S=v-(x-m)/E,s=S>=c&&S<=f),!s&&a&rt.RIGHT&&!(o&rt.RIGHT)&&(L=x-(v-f)*E,s=L>=h&&L<=m),!s&&a&rt.BELOW&&!(o&rt.BELOW)&&(S=v-(x-h)/E,s=S>=c&&S<=f),!s&&a&rt.LEFT&&!(o&rt.LEFT)&&(L=x-(v-c)*E,s=L>=h&&L<=m)}return s}function I_(i,e,n,s){if(Os(i))return ks(n);let o=[];o=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]],e(o,o,2);const a=[],c=[];for(let h=0,f=o.length;h<f;h+=2)a.push(o[h]),c.push(o[h+1]);return __(a,c,n)}function L_(i,e){const n=e.getExtent(),s=Ei(i);if(e.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const o=De(n),c=Math.floor((s[0]-n[0])/o)*o;i[0]-=c,i[2]-=c}return i}function nm(i,e,n){if(e.canWrapX()){const s=e.getExtent();if(!isFinite(i[0])||!isFinite(i[2]))return[[s[0],i[1],s[2],i[3]]];L_(i,e);const o=De(s);if(De(i)>o&&!n)return[[s[0],i[1],s[2],i[3]]];if(i[0]<s[0])return[[i[0]+o,i[1],s[2],i[3]],[s[0],i[1],i[2],i[3]]];if(i[2]>s[2])return[[i[0],i[1],s[2],i[3]],[s[0],i[1],i[2]-o,i[3]]]}return[i]}const yc={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class vc{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||yc[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Ns=6378137,fi=Math.PI*Ns,M_=[-fi,-fi,fi,fi],P_=[-180,-85,180,85],Qo=Ns*Math.log(Math.tan(Math.PI/2));class ni extends vc{constructor(e){super({code:e,units:"m",extent:M_,global:!0,worldExtent:P_,getPointResolution:function(n,s){return n/Math.cosh(s[1]/Ns)}})}}const eg=[new ni("EPSG:3857"),new ni("EPSG:102100"),new ni("EPSG:102113"),new ni("EPSG:900913"),new ni("http://www.opengis.net/def/crs/EPSG/0/3857"),new ni("http://www.opengis.net/gml/srs/epsg.xml#3857")];function A_(i,e,n,s){const o=i.length;n=n>1?n:2,s=s??n,e===void 0&&(n>2?e=i.slice():e=new Array(o));for(let a=0;a<o;a+=s){e[a]=fi*i[a]/180;let c=Ns*Math.log(Math.tan(Math.PI*(+i[a+1]+90)/360));c>Qo?c=Qo:c<-Qo&&(c=-Qo),e[a+1]=c}return e}function k_(i,e,n,s){const o=i.length;n=n>1?n:2,s=s??n,e===void 0&&(n>2?e=i.slice():e=new Array(o));for(let a=0;a<o;a+=s)e[a]=180*i[a]/fi,e[a+1]=360*Math.atan(Math.exp(i[a+1]/Ns))/Math.PI-90;return e}const D_=6378137,tg=[-180,-90,180,90],O_=Math.PI*D_/180;class Tr extends vc{constructor(e,n){super({code:e,units:"degrees",extent:tg,axisOrientation:n,global:!0,metersPerUnit:O_,worldExtent:tg})}}const ng=[new Tr("CRS:84"),new Tr("EPSG:4326","neu"),new Tr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Tr("urn:ogc:def:crs:OGC:2:84"),new Tr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Tr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Tr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let nc={};function N_(i){return nc[i]||nc[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function F_(i,e){nc[i]=e}let mi={};function xs(i,e,n){const s=i.getCode(),o=e.getCode();s in mi||(mi[s]={}),mi[s][o]=n}function Nu(i,e){return i in mi&&e in mi[i]?mi[i][e]:null}function He(i,e,n){return Math.min(Math.max(i,e),n)}function z_(i,e,n,s,o,a){const c=o-n,h=a-s;if(c!==0||h!==0){const f=((i-n)*c+(e-s)*h)/(c*c+h*h);f>1?(n=o,s=a):f>0&&(n+=c*f,s+=h*f)}return pi(i,e,n,s)}function pi(i,e,n,s){const o=n-i,a=s-e;return o*o+a*a}function U_(i){const e=i.length;for(let s=0;s<e;s++){let o=s,a=Math.abs(i[s][s]);for(let h=s+1;h<e;h++){const f=Math.abs(i[h][s]);f>a&&(a=f,o=h)}if(a===0)return null;const c=i[o];i[o]=i[s],i[s]=c;for(let h=s+1;h<e;h++){const f=-i[h][s]/i[s][s];for(let m=s;m<e+1;m++)s==m?i[h][m]=0:i[h][m]+=f*i[s][m]}}const n=new Array(e);for(let s=e-1;s>=0;s--){n[s]=i[s][e]/i[s][s];for(let o=s-1;o>=0;o--)i[o][e]-=i[o][s]*n[s]}return n}function rg(i){return i*180/Math.PI}function tr(i){return i*Math.PI/180}function _i(i,e){const n=i%e;return n*e<0?n+e:n}function j_(i,e,n){return i+n*(e-i)}function rm(i,e){const n=Math.pow(10,e);return Math.round(i*n)/n}function Jo(i,e){return Math.floor(rm(i,e))}function el(i,e){return Math.ceil(rm(i,e))}function rc(i,e,n){if(i>=e&&i<n)return i;const s=n-e;return((i-e)%s+s)%s+e}function X_(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function hl(i,e){let n=!0;for(let s=i.length-1;s>=0;--s)if(i[s]!=e[s]){n=!1;break}return n}function Ec(i,e){const n=Math.cos(e),s=Math.sin(e),o=i[0]*n-i[1]*s,a=i[1]*n+i[0]*s;return i[0]=o,i[1]=a,i}function G_(i,e){return i[0]*=e,i[1]*=e,i}function V_(i,e){if(e.canWrapX()){const n=De(e.getExtent()),s=B_(i,e,n);s&&(i[0]-=s*n)}return i}function B_(i,e,n){const s=e.getExtent();let o=0;return e.canWrapX()&&(i[0]<s[0]||i[0]>s[2])&&(n=n||De(s),o=Math.floor((i[0]-s[0])/n)),o}const W_=63710088e-1;function ig(i,e,n){n=n||W_;const s=tr(i[1]),o=tr(e[1]),a=(o-s)/2,c=tr(e[0]-i[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}const dl=.9996,Yt=.00669438,Ml=Yt*Yt,Pl=Ml*Yt,Cr=Yt/(1-Yt),sg=Math.sqrt(1-Yt),wi=(1-sg)/(1+sg),im=wi*wi,wc=im*wi,Rc=wc*wi,sm=Rc*wi,om=1-Yt/4-3*Ml/64-5*Pl/256,Y_=3*Yt/8+3*Ml/32+45*Pl/1024,K_=15*Ml/256+45*Pl/1024,Z_=35*Pl/3072,H_=3/2*wi-27/32*wc+269/512*sm,$_=21/16*im-55/32*Rc,b_=151/96*wc-417/128*sm,q_=1097/512*Rc,fl=6378137;function Q_(i,e,n){const s=i-5e5,c=(n.north?e:e-1e7)/dl/(fl*om),h=c+H_*Math.sin(2*c)+$_*Math.sin(4*c)+b_*Math.sin(6*c)+q_*Math.sin(8*c),f=Math.sin(h),m=f*f,p=Math.cos(h),y=f/p,v=y*y,x=v*v,E=1-Yt*m,S=Math.sqrt(1-Yt*m),L=fl/S,N=(1-Yt)/E,A=Cr*p**2,Y=A*A,D=s/(L*dl),k=D*D,K=k*D,J=K*D,X=J*D,Z=X*D,B=h-y/N*(k/2-J/24*(5+3*v+10*A-4*Y-9*Cr))+Z/720*(61+90*v+298*A+45*x-252*Cr-3*Y);let de=(D-K/6*(1+2*v+A)+X/120*(5-2*A+28*v-3*Y+8*Cr+24*x))/p;return de=rc(de+tr(lm(n.number)),-Math.PI,Math.PI),[rg(de),rg(B)]}const og=-80,lg=84,J_=-180,ey=180;function ty(i,e,n){i=rc(i,J_,ey),e<og?e=og:e>lg&&(e=lg);const s=tr(e),o=Math.sin(s),a=Math.cos(s),c=o/a,h=c*c,f=h*h,m=tr(i),p=lm(n.number),y=tr(p),v=fl/Math.sqrt(1-Yt*o**2),x=Cr*a**2,E=a*rc(m-y,-Math.PI,Math.PI),S=E*E,L=S*E,N=L*E,A=N*E,Y=A*E,D=fl*(om*s-Y_*Math.sin(2*s)+K_*Math.sin(4*s)-Z_*Math.sin(6*s)),k=dl*v*(E+L/6*(1-h+x)+A/120*(5-18*h+f+72*x-58*Cr))+5e5;let K=dl*(D+v*c*(S/2+N/24*(5-h+9*x+4*x**2)+Y/720*(61-58*h+f+600*x-330*Cr)));return n.north||(K+=1e7),[k,K]}function lm(i){return(i-1)*6-180+3}const ny=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function am(i){let e=0;for(const o of ny){const a=i.match(o);if(a){e=parseInt(a[1]);break}}if(!e)return null;let n=0,s=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(s=!0,n=e-32600),n?{number:n,north:s}:null}function ag(i,e){return function(n,s,o,a){const c=n.length;o=o>1?o:2,a=a??o,s||(o>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=a){const f=n[h],m=n[h+1],p=i(f,m,e);s[h]=p[0],s[h+1]=p[1]}return s}}function ry(i){return am(i)?new vc({code:i,units:"m"}):null}function iy(i){const e=am(i.getCode());return e?{forward:ag(ty,e),inverse:ag(Q_,e)}:null}function um(...i){console.warn(...i)}const sy=[iy],oy=[ry];let ic=!0;function ly(i){ic=!1}function Tc(i,e){if(e!==void 0){for(let n=0,s=i.length;n<s;++n)e[n]=i[n];e=e}else e=i.slice();return e}function sc(i){F_(i.getCode(),i),xs(i,i,Tc)}function ay(i){i.forEach(sc)}function It(i){if(typeof i!="string")return i;const e=N_(i);if(e)return e;for(const n of oy){const s=n(i);if(s)return s}return null}function ug(i,e,n,s){i=It(i);let o;const a=i.getPointResolutionFunc();if(a)o=a(e,n);else{const c=i.getUnits();if(c=="degrees"&&!s||s=="degrees")o=e;else{const h=Cc(i,It("EPSG:4326"));if(!h&&c!=="degrees")o=e*i.getMetersPerUnit();else{let m=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];m=h(m,m,2);const p=ig(m.slice(0,2),m.slice(2,4)),y=ig(m.slice(4,6),m.slice(6,8));o=(p+y)/2}const f=i.getMetersPerUnit();f!==void 0&&(o/=f)}}return o}function cg(i){ay(i),i.forEach(function(e){i.forEach(function(n){e!==n&&xs(e,n,Tc)})})}function uy(i,e,n,s){i.forEach(function(o){e.forEach(function(a){xs(o,a,n),xs(a,o,s)})})}function xc(i,e){return i?typeof i=="string"?It(i):i:It(e)}function cy(i){return function(e,n,s,o){const a=e.length;s=s!==void 0?s:2,o=o??s,n=n!==void 0?n:new Array(a);for(let c=0;c<a;c+=o){const h=i(e.slice(c,c+s)),f=h.length;for(let m=0,p=o;m<p;++m)n[c+m]=m>=f?e[c+m]:h[m]}return n}}function Fu(i,e){if(i===e)return!0;const n=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||Cc(i,e)===Tc)&&n}function Cc(i,e){const n=i.getCode(),s=e.getCode();let o=Nu(n,s);if(o)return o;let a=null,c=null;for(const f of sy)a||(a=f(i)),c||(c=f(e));if(!a&&!c)return null;const h="EPSG:4326";if(c)if(a)o=zu(a.inverse,c.forward);else{const f=Nu(n,h);f&&(o=zu(f,c.forward))}else{const f=Nu(h,s);f&&(o=zu(a.inverse,f))}return o&&(sc(i),sc(e),xs(i,e,o)),o}function zu(i,e){return function(n,s,o,a){return s=i(n,s,o,a),e(s,s,o,a)}}function Cs(i,e){const n=It(i),s=It(e);return Cc(n,s)}function Al(i,e,n){const s=Cs(e,n);if(!s){const o=It(e).getCode(),a=It(n).getCode();throw new Error(`No transform available between ${o} and ${a}`)}return s(i,void 0,i.length)}function cm(i,e,n,s){const o=Cs(e,n);return I_(i,o,void 0)}let fn=null;function hy(i){fn=It(i)}function dy(){return fn}function fy(){hy("EPSG:4326")}function oc(i,e){return fn?Al(i,e,fn):i}function xn(i,e){return fn?Al(i,fn,e):(ic&&!hl(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(ic=!1,um("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i)}function gy(i,e){return fn?cm(i,e,fn):i}function Sr(i,e){return fn?cm(i,fn,e):i}function my(){cg(eg),cg(ng),uy(ng,eg,A_,k_)}my();function py(i,e,n,s,o,a,c){a=a||[],c=c||2;let h=0;for(let f=e;f<n;f+=s){const m=i[f],p=i[f+1];a[h++]=o[0]*m+o[2]*p+o[4],a[h++]=o[1]*m+o[3]*p+o[5];for(let y=2;y<c;y++)a[h++]=i[f+y]}return a&&a.length!=h&&(a.length=h),a}function _y(i,e,n,s,o,a,c){c=c||[];const h=Math.cos(o),f=Math.sin(o),m=a[0],p=a[1];let y=0;for(let v=e;v<n;v+=s){const x=i[v]-m,E=i[v+1]-p;c[y++]=m+x*h-E*f,c[y++]=p+x*f+E*h;for(let S=v+2;S<v+s;++S)c[y++]=i[S]}return c&&c.length!=y&&(c.length=y),c}function yy(i,e,n,s,o,a,c,h){h=h||[];const f=c[0],m=c[1];let p=0;for(let y=e;y<n;y+=s){const v=i[y]-f,x=i[y+1]-m;h[p++]=f+o*v,h[p++]=m+a*x;for(let E=y+2;E<y+s;++E)h[p++]=i[E]}return h&&h.length!=p&&(h.length=p),h}function vy(i,e,n,s,o,a,c){c=c||[];let h=0;for(let f=e;f<n;f+=s){c[h++]=i[f]+o,c[h++]=i[f+1]+a;for(let m=f+2;m<f+s;++m)c[h++]=i[m]}return c&&c.length!=h&&(c.length=h),c}const hg=gi();class Ey extends Ln{constructor(){super(),this.extent_=ir(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=h_((e,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const o=this.clone();return o.applyTransform(s),o.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Ie()}closestPointXY(e,n,s,o){return Ie()}containsXY(e,n){const s=this.getClosestPoint([e,n]);return s[0]===e&&s[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ie()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&ks(n),this.extentRevision_=this.getRevision()}return C_(this.extent_,e)}rotate(e,n){Ie()}scale(e,n,s){Ie()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ie()}getType(){return Ie()}applyTransform(e){Ie()}intersectsExtent(e){return Ie()}translate(e,n){Ie()}transform(e,n){const s=It(e),o=s.getUnits()=="tile-pixels"?function(a,c,h){const f=s.getExtent(),m=s.getWorldExtent(),p=dt(m)/dt(f);Rs(hg,m[0],m[3],p,-p,0,0,0);const y=py(a,0,a.length,h,hg,c),v=Cs(s,n);return v?v(y,y,h):y}:Cs(s,n);return this.applyTransform(o),this}}class Sc extends Ey{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return w_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ie()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=dg(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Ie()}setLayout(e,n,s){let o;if(e)o=dg(e);else{for(let a=0;a<s;++a){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}o=n.length,e=wy(o)}this.layout=e,this.stride=o}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const s=this.getFlatCoordinates();if(s){const o=this.getStride();_y(s,0,s.length,o,e,n,s),this.changed()}}scale(e,n,s){n===void 0&&(n=e),s||(s=Ei(this.getExtent()));const o=this.getFlatCoordinates();if(o){const a=this.getStride();yy(o,0,o.length,a,e,n,s,o),this.changed()}}translate(e,n){const s=this.getFlatCoordinates();if(s){const o=this.getStride();vy(s,0,s.length,o,e,n,s),this.changed()}}}function wy(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function dg(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}function fg(i,e,n,s,o,a,c){const h=i[e],f=i[e+1],m=i[n]-h,p=i[n+1]-f;let y;if(m===0&&p===0)y=e;else{const v=((o-h)*m+(a-f)*p)/(m*m+p*p);if(v>1)y=n;else if(v>0){for(let x=0;x<s;++x)c[x]=j_(i[e+x],i[n+x],v);c.length=s;return}else y=e}for(let v=0;v<s;++v)c[v]=i[y+v];c.length=s}function hm(i,e,n,s,o){let a=i[e],c=i[e+1];for(e+=s;e<n;e+=s){const h=i[e],f=i[e+1],m=pi(a,c,h,f);m>o&&(o=m),a=h,c=f}return o}function Ry(i,e,n,s,o){for(let a=0,c=n.length;a<c;++a){const h=n[a];o=hm(i,e,h,s,o),e=h}return o}function dm(i,e,n,s,o,a,c,h,f,m,p){if(e==n)return m;let y,v;if(o===0){if(v=pi(c,h,i[e],i[e+1]),v<m){for(y=0;y<s;++y)f[y]=i[e+y];return f.length=s,v}return m}p=p||[NaN,NaN];let x=e+s;for(;x<n;)if(fg(i,x-s,x,s,c,h,p),v=pi(c,h,p[0],p[1]),v<m){for(m=v,y=0;y<s;++y)f[y]=p[y];f.length=s,x+=s}else x+=s*Math.max((Math.sqrt(v)-Math.sqrt(m))/o|0,1);if(fg(i,n-s,e,s,c,h,p),v=pi(c,h,p[0],p[1]),v<m){for(m=v,y=0;y<s;++y)f[y]=p[y];f.length=s}return m}function Ty(i,e,n,s,o,a,c,h,f,m,p){p=p||[NaN,NaN];for(let y=0,v=n.length;y<v;++y){const x=n[y];m=dm(i,e,x,s,o,a,c,h,f,m,p),e=x}return m}function xy(i,e,n,s){for(let o=0,a=n.length;o<a;++o)i[e++]=n[o];return e}function fm(i,e,n,s){for(let o=0,a=n.length;o<a;++o){const c=n[o];for(let h=0;h<s;++h)i[e++]=c[h]}return e}function Cy(i,e,n,s,o){o=o||[];let a=0;for(let c=0,h=n.length;c<h;++c){const f=fm(i,e,n[c],s);o[a++]=f,e=f}return o.length=a,o}function Sy(i,e,n,s,o,a,c){const h=(n-e)/s;if(h<3){for(;e<n;e+=s)a[c++]=i[e],a[c++]=i[e+1];return c}const f=new Array(h);f[0]=1,f[h-1]=1;const m=[e,n-s];let p=0;for(;m.length>0;){const y=m.pop(),v=m.pop();let x=0;const E=i[v],S=i[v+1],L=i[y],N=i[y+1];for(let A=v+s;A<y;A+=s){const Y=i[A],D=i[A+1],k=z_(Y,D,E,S,L,N);k>x&&(p=A,x=k)}x>o&&(f[(p-e)/s]=1,v+s<p&&m.push(v,p),p+s<y&&m.push(p,y))}for(let y=0;y<h;++y)f[y]&&(a[c++]=i[e+y*s],a[c++]=i[e+y*s+1]);return c}function ri(i,e){return e*Math.round(i/e)}function Iy(i,e,n,s,o,a,c){if(e==n)return c;let h=ri(i[e],o),f=ri(i[e+1],o);e+=s,a[c++]=h,a[c++]=f;let m,p;do if(m=ri(i[e],o),p=ri(i[e+1],o),e+=s,e==n)return a[c++]=m,a[c++]=p,c;while(m==h&&p==f);for(;e<n;){const y=ri(i[e],o),v=ri(i[e+1],o);if(e+=s,y==m&&v==p)continue;const x=m-h,E=p-f,S=y-h,L=v-f;if(x*L==E*S&&(x<0&&S<x||x==S||x>0&&S>x)&&(E<0&&L<E||E==L||E>0&&L>E)){m=y,p=v;continue}a[c++]=m,a[c++]=p,h=m,f=p,m=y,p=v}return a[c++]=m,a[c++]=p,c}function Ly(i,e,n,s,o,a,c,h){for(let f=0,m=n.length;f<m;++f){const p=n[f];c=Iy(i,e,p,s,o,a,c),h.push(c),e=p}return c}function gm(i,e,n,s,o){o=o!==void 0?o:[];let a=0;for(let c=e;c<n;c+=s)o[a++]=i.slice(c,c+s);return o.length=a,o}function My(i,e,n,s,o){o=o!==void 0?o:[];let a=0;for(let c=0,h=n.length;c<h;++c){const f=n[c];o[a++]=gm(i,e,f,s,o[a]),e=f}return o.length=a,o}function mm(i,e,n,s){let o=0;const a=i[n-s],c=i[n-s+1];let h=0,f=0;for(;e<n;e+=s){const m=i[e]-a,p=i[e+1]-c;o+=f*m-h*p,h=m,f=p}return o/2}function Py(i,e,n,s){let o=0;for(let a=0,c=n.length;a<c;++a){const h=n[a];o+=mm(i,e,h,s),e=h}return o}class Ss extends Sc{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Ss(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,s,o){return o<qg(this.getExtent(),e,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,s,o))}getArea(){return mm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return gm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Sy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Ss(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=fm(this.flatCoordinates,0,e,this.stride),this.changed()}}class Ic extends Sc{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Ic(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,s,o){const a=this.flatCoordinates,c=pi(e,n,a[0],a[1]);if(c<o){const h=this.stride;for(let f=0;f<h;++f)s[f]=a[f];return s.length=h,c}return o}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return E_(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Qg(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=xy(this.flatCoordinates,0,e,this.stride),this.changed()}}function Ay(i,e,n,s,o){return!tm(o,function(c){return!Ir(i,e,n,s,c[0],c[1])})}function Ir(i,e,n,s,o,a){let c=0,h=i[n-s],f=i[n-s+1];for(;e<n;e+=s){const m=i[e],p=i[e+1];f<=a?p>a&&(m-h)*(a-f)-(o-h)*(p-f)>0&&c++:p<=a&&(m-h)*(a-f)-(o-h)*(p-f)<0&&c--,h=m,f=p}return c!==0}function pm(i,e,n,s,o,a){if(n.length===0||!Ir(i,e,n[0],s,o,a))return!1;for(let c=1,h=n.length;c<h;++c)if(Ir(i,n[c-1],n[c],s,o,a))return!1;return!0}function ky(i,e,n,s,o,a,c){let h,f,m,p,y,v,x;const E=o[a+1],S=[];for(let A=0,Y=n.length;A<Y;++A){const D=n[A];for(p=i[D-s],v=i[D-s+1],h=e;h<D;h+=s)y=i[h],x=i[h+1],(E<=v&&x<=E||v<=E&&E<=x)&&(m=(E-v)/(x-v)*(y-p)+p,S.push(m)),p=y,v=x}let L=NaN,N=-1/0;for(S.sort(wl),p=S[0],h=1,f=S.length;h<f;++h){y=S[h];const A=Math.abs(y-p);A>N&&(m=(p+y)/2,pm(i,e,n,s,m,E)&&(L=m,N=A)),p=y}return isNaN(L)&&(L=o[a]),[L,E,N]}function Dy(i,e,n,s,o){let a;for(e+=s;e<n;e+=s)if(a=o(i.slice(e-s,e),i.slice(e,e+s)),a)return a;return!1}function _m(i,e,n,s,o){const a=em(ir(),i,e,n,s);return Ds(o,a)?v_(o,a)||a[0]>=o[0]&&a[2]<=o[2]||a[1]>=o[1]&&a[3]<=o[3]?!0:Dy(i,e,n,s,function(c,h){return S_(o,c,h)}):!1}function ym(i,e,n,s,o){return!!(_m(i,e,n,s,o)||Ir(i,e,n,s,o[0],o[1])||Ir(i,e,n,s,o[0],o[3])||Ir(i,e,n,s,o[2],o[1])||Ir(i,e,n,s,o[2],o[3]))}function Oy(i,e,n,s,o){if(!ym(i,e,n[0],s,o))return!1;if(n.length===1)return!0;for(let a=1,c=n.length;a<c;++a)if(Ay(i,n[a-1],n[a],s,o)&&!_m(i,n[a-1],n[a],s,o))return!1;return!0}function Ny(i,e,n,s){for(;e<n-s;){for(let o=0;o<s;++o){const a=i[e+o];i[e+o]=i[n-s+o],i[n-s+o]=a}e+=s,n-=s}}function vm(i,e,n,s){let o=0,a=i[n-s],c=i[n-s+1];for(;e<n;e+=s){const h=i[e],f=i[e+1];o+=(h-a)*(f+c),a=h,c=f}return o===0?void 0:o>0}function Fy(i,e,n,s,o){o=o!==void 0?o:!1;for(let a=0,c=n.length;a<c;++a){const h=n[a],f=vm(i,e,h,s);if(a===0){if(o&&f||!o&&!f)return!1}else if(o&&!f||!o&&f)return!1;e=h}return!0}function gg(i,e,n,s,o){o=o!==void 0?o:!1;for(let a=0,c=n.length;a<c;++a){const h=n[a],f=vm(i,e,h,s);(a===0?o&&f||!o&&!f:o&&!f||!o&&f)&&Ny(i,e,h,s),e=h}return e}class Is extends Sc{constructor(e,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,e),this.ends_=s):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?u_(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Is(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,s,o){return o<qg(this.getExtent(),e,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ry(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ty(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,s,o))}containsXY(e,n){return pm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return Py(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),gg(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,My(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Ei(this.getExtent());this.flatInteriorPoint_=ky(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ic(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Ss(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,s=this.ends_,o=[];let a=0;for(let c=0,h=s.length;c<h;++c){const f=s[c],m=new Ss(n.slice(a,f),e);o.push(m),a=f}return o}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Fy(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=gg(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],s=[];return n.length=Ly(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,s),new Is(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(e){return Oy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=Cy(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function mg(i){if(Os(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],n=i[1],s=i[2],o=i[3],a=[e,n,e,o,s,o,s,n,e,n];return new Is(a,"XY",[a.length])}const dn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Te={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Ls={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var it={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};it.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};it.max=it.whitepoint[2].D65;it.rgb=function(i,e){e=e||it.whitepoint[2].E;var n=i[0]/e[0],s=i[1]/e[1],o=i[2]/e[2],a,c,h;return a=n*3.240969941904521+s*-1.537383177570093+o*-.498610760293,c=n*-.96924363628087+s*1.87596750150772+o*.041555057407175,h=n*.055630079696993+s*-.20397695888897+o*1.056971514242878,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,a=Math.min(Math.max(0,a),1),c=Math.min(Math.max(0,c),1),h=Math.min(Math.max(0,h),1),[a*255,c*255,h*255]};Ls.xyz=function(i,e){var n=i[0]/255,s=i[1]/255,o=i[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var a=n*.41239079926595+s*.35758433938387+o*.18048078840183,c=n*.21263900587151+s*.71516867876775+o*.072192315360733,h=n*.019330818715591+s*.11919477979462+o*.95053215224966;return e=e||it.whitepoint[2].E,[a*e[0],c*e[1],h*e[2]]};const Lc={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(i,e,n){var s,o,a,c,h,f,m,p,y,v,x,E,S;if(a=i[0],c=i[1],h=i[2],a===0)return[0,0,0];var L=.0011070564598794539;return e=e||"D65",n=n||2,y=it.whitepoint[n][e][0],v=it.whitepoint[n][e][1],x=it.whitepoint[n][e][2],E=4*y/(y+15*v+3*x),S=9*v/(y+15*v+3*x),s=c/(13*a)+E||0,o=h/(13*a)+S||0,m=a>8?v*Math.pow((a+16)/116,3):v*a*L,f=m*9*s/(4*o)||0,p=m*(12-3*s-20*o)/(4*o)||0,[f,m,p]}};it.luv=function(i,e,n){var s,o,a,c,h,f,m,p,y,v,x,E,S,L=.008856451679035631,N=903.2962962962961;e=e||"D65",n=n||2,y=it.whitepoint[n][e][0],v=it.whitepoint[n][e][1],x=it.whitepoint[n][e][2],E=4*y/(y+15*v+3*x),S=9*v/(y+15*v+3*x),f=i[0],m=i[1],p=i[2],s=4*f/(f+15*m+3*p)||0,o=9*m/(f+15*m+3*p)||0;var A=m/v;return a=A<=L?N*A:116*Math.pow(A,1/3)-16,c=13*a*(s-E),h=13*a*(o-S),[a,c,h]};var Em={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(i){var e=i[0],n=i[1],s=i[2],o,a,c;return c=s/360*2*Math.PI,o=n*Math.cos(c),a=n*Math.sin(c),[e,o,a]},xyz:function(i){return Lc.xyz(Em.luv(i))}};Lc.lchuv=function(i){var e=i[0],n=i[1],s=i[2],o=Math.sqrt(n*n+s*s),a=Math.atan2(s,n),c=a*360/2/Math.PI;return c<0&&(c+=360),[e,o,c]};it.lchuv=function(i){return Lc.lchuv(it.luv(i))};const pg={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var _g={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function zy(i){var p,y;var e,n=[],s=1,o;if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(i=String(i).toLowerCase(),pg[i])n=pg[i].slice(),o="rgb";else if(i==="transparent")s=0,o="rgb",n=[0,0,0];else if(i[0]==="#"){var a=i.slice(1),c=a.length,h=c<=4;s=1,h?(n=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],c===4&&(s=parseInt(a[3]+a[3],16)/255)):(n=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],c===8&&(s=parseInt(a[6]+a[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),o="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(i)){var f=e[1];o=f.replace(/a$/,"");var m=o==="cmyk"?4:o==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),o==="color"&&(o=n.shift()),n=n.map(function(v,x){if(v[v.length-1]==="%")return v=parseFloat(v)/100,x===3?v:o==="rgb"?v*255:o[0]==="h"||o[0]==="l"&&!x?v*100:o==="lab"?v*125:o==="lch"?x<2?v*150:v*360:o[0]==="o"&&!x?v:o==="oklab"?v*.4:o==="oklch"?x<2?v*.4:v*360:v;if(o[x]==="h"||x===2&&o[o.length-1]==="h"){if(_g[v]!==void 0)return _g[v];if(v.endsWith("deg"))return parseFloat(v);if(v.endsWith("turn"))return parseFloat(v)*360;if(v.endsWith("grad"))return parseFloat(v)*360/400;if(v.endsWith("rad"))return parseFloat(v)*180/Math.PI}return v==="none"?0:parseFloat(v)}),s=n.length>m?n.pop():1}else/[0-9](?:\s|\/|,)/.test(i)&&(n=i.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),o=((y=(p=i.match(/([a-z])/ig))==null?void 0:p.join(""))==null?void 0:y.toLowerCase())||"rgb");return{space:o,values:n,alpha:s}}const Uu={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(i){var e=i[0]/360,n=i[1]/100,s=i[2]/100,o,a,c,h,f,m=0;if(n===0)return f=s*255,[f,f,f];for(a=s<.5?s*(1+n):s+n-s*n,o=2*s-a,h=[0,0,0];m<3;)c=e+1/3*-(m-1),c<0?c++:c>1&&c--,f=6*c<1?o+(a-o)*6*c:2*c<1?a:3*c<2?o+(a-o)*(2/3-c)*6:o,h[m++]=f*255;return h}};Ls.hsl=function(i){var e=i[0]/255,n=i[1]/255,s=i[2]/255,o=Math.min(e,n,s),a=Math.max(e,n,s),c=a-o,h,f,m;return a===o?h=0:e===a?h=(n-s)/c:n===a?h=2+(s-e)/c:s===a&&(h=4+(e-n)/c),h=Math.min(h*60,360),h<0&&(h+=360),m=(o+a)/2,a===o?f=0:m<=.5?f=c/(a+o):f=c/(2-a-o),[h,f*100,m*100]};function Uy(i){Array.isArray(i)&&i.raw&&(i=String.raw(...arguments)),i instanceof Number&&(i=+i);var e,n=zy(i);if(!n.space)return[];const s=n.space[0]==="h"?Uu.min:Ls.min,o=n.space[0]==="h"?Uu.max:Ls.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],s[0]),o[0]),e[1]=Math.min(Math.max(n.values[1],s[1]),o[1]),e[2]=Math.min(Math.max(n.values[2],s[2]),o[2]),n.space[0]==="h"&&(e=Uu.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}const Mc=[NaN,NaN,NaN,0];function jy(i){return typeof i=="string"?i:Ac(i)}const Xy=1024,hs={};let ju=0;function Gy(i){if(i.length===4)return i;const e=i.slice();return e[3]=1,e}function yg(i){const e=it.lchuv(Ls.xyz(i));return e[3]=i[3],e}function Vy(i){const e=it.rgb(Em.xyz(i));return e[3]=i[3],e}function Pc(i){if(i==="none")return Mc;if(hs.hasOwnProperty(i))return hs[i];if(ju>=Xy){let n=0;for(const s in hs)n++&3||(delete hs[s],--ju)}const e=Uy(i);if(e.length!==4)throw new Error('failed to parse "'+i+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+i+'" as color');return wm(e),hs[i]=e,++ju,e}function Ri(i){return Array.isArray(i)?i:Pc(i)}function wm(i){return i[0]=He(i[0]+.5|0,0,255),i[1]=He(i[1]+.5|0,0,255),i[2]=He(i[2]+.5|0,0,255),i[3]=He(i[3],0,1),i}function Ac(i){let e=i[0];e!=(e|0)&&(e=e+.5|0);let n=i[1];n!=(n|0)&&(n=n+.5|0);let s=i[2];s!=(s|0)&&(s=s+.5|0);const o=i[3]===void 0?1:Math.round(i[3]*1e3)/1e3;return"rgba("+e+","+n+","+s+","+o+")"}const nr=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",By=nr.includes("firefox"),Wy=nr.includes("safari")&&!nr.includes("chrom");Wy&&(nr.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(nr));const Yy=nr.includes("webkit")&&!nr.includes("edge"),Rm=nr.includes("macintosh"),Tm=typeof devicePixelRatio<"u"?devicePixelRatio:1,xm=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Cm=typeof Image<"u"&&Image.prototype.decode,Sm=function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i}();function _t(i,e,n,s){let o;return n&&n.length?o=n.shift():xm?o=new OffscreenCanvas(i||300,e||300):o=document.createElement("canvas"),i&&(o.width=i),e&&(o.height=e),o.getContext("2d",s)}let Xu;function gl(){return Xu||(Xu=_t(1,1)),Xu}function kc(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}function vg(i,e){const n=e.parentNode;n&&n.replaceChild(i,e)}function Ky(i){for(;i.lastChild;)i.lastChild.remove()}function Zy(i,e){const n=i.childNodes;for(let s=0;;++s){const o=n[s],a=e[s];if(!o&&!a)break;if(o!==a){if(!o){i.appendChild(a);continue}if(!a){i.removeChild(o),--s;continue}i.insertBefore(a,o)}}}function Hy(i,e,n){const s=i;let o=!0,a=!1,c=!1;const h=[cl(s,ye.LOAD,function(){c=!0,a||e()})];return s.src&&Cm?(a=!0,s.decode().then(function(){o&&e()}).catch(function(f){o&&(c?e():n())})):h.push(cl(s,ye.ERROR,n)),function(){o=!1,h.forEach(Ve)}}function $y(i,e){return new Promise((n,s)=>{function o(){c(),n(i)}function a(){c(),s(new Error("Image load error"))}function c(){i.removeEventListener("load",o),i.removeEventListener("error",a)}i.addEventListener("load",o),i.addEventListener("error",a)})}function by(i,e){return e&&(i.src=e),i.src&&Cm?new Promise((n,s)=>i.decode().then(()=>n(i)).catch(o=>i.complete&&i.width?n(i):s(o))):$y(i)}class qy{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const s=this.cache_[n];!(e++&3)&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,s){const o=Gu(e,n,s);return o in this.cache_?this.cache_[o]:null}getPattern(e,n,s){const o=Gu(e,n,s);return o in this.patternCache_?this.patternCache_[o]:null}set(e,n,s,o,a){const c=Gu(e,n,s),h=c in this.cache_;this.cache_[c]=o,a&&(o.getImageState()===Te.IDLE&&o.load(),o.getImageState()===Te.LOADING?o.ready().then(()=>{this.patternCache_[c]=gl().createPattern(o.getImage(1),"repeat")}):this.patternCache_[c]=gl().createPattern(o.getImage(1),"repeat")),h||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Gu(i,e,n){const s=n?Ri(n):"null";return e+":"+i+":"+s}const Wt=new qy;let ds=null;class Im extends Cl{constructor(e,n,s,o,a){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=s,this.canvas_={},this.color_=a,this.imageState_=o===void 0?Te.IDLE:o,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Te.LOADED){ds||(ds=_t(1,1,void 0,{willReadFrequently:!0})),ds.drawImage(this.image_,0,0);try{ds.getImageData(0,0,1,1),this.tainted_=!1}catch{ds=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(ye.CHANGE)}handleImageError_(){this.imageState_=Te.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Te.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],s=_t(e,n);s.fillRect(0,0,e,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Te.IDLE){this.image_||this.initializeImage_(),this.imageState_=Te.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&by(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Te.LOADED)return;const n=this.image_,s=_t(Math.ceil(n.width*e),Math.ceil(n.height*e)),o=s.canvas;s.scale(e,e),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=jy(this.color_),s.fillRect(0,0,o.width/e,o.height/e),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[e]=o}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Te.LOADED||this.imageState_===Te.ERROR)e();else{const n=()=>{(this.imageState_===Te.LOADED||this.imageState_===Te.ERROR)&&(this.removeEventListener(ye.CHANGE,n),e())};this.addEventListener(ye.CHANGE,n)}})),this.ready_}}function Dc(i,e,n,s,o,a){let c=e===void 0?void 0:Wt.get(e,n,o);return c||(c=new Im(i,i&&"src"in i?i.src||void 0:e,n,s,o),Wt.set(e,n,o,c,a)),a&&c&&!Wt.getPattern(e,n,o)&&Wt.set(e,n,o,c,a),c}class Fs{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Fs({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=Dc(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Te.IDLE&&n.load(),n.getImageState()===Te.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?ht(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Ri(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class kl{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new kl({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}function Eg(i){return i[0]>0&&i[1]>0}function Qy(i,e,n){return n===void 0&&(n=[0,0]),n[0]=i[0]*e+.5|0,n[1]=i[1]*e+.5|0,n}function St(i,e){return Array.isArray(i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}class Dl{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=St(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Dl({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ie()}getImage(e){return Ie()}getHitDetectionImage(){return Ie()}getPixelRatio(e){return 1}getImageState(){return Ie()}getImageSize(){return Ie()}getOrigin(){return Ie()}getSize(){return Ie()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=St(e)}listenImageChange(e){Ie()}load(){Ie()}unlistenImageChange(e){Ie()}ready(){return Promise.resolve()}}function wg(i){return i?Array.isArray(i)?Ac(i):typeof i=="object"&&"src"in i?Jy(i):i:null}function Jy(i){if(!i.offset||!i.size)return Wt.getPattern(i.src,"anonymous",i.color);const e=i.src+":"+i.offset,n=Wt.getPattern(e,void 0,i.color);if(n)return n;const s=Wt.get(i.src,"anonymous",null);if(s.getImageState()!==Te.LOADED)return null;const o=_t(i.size[0],i.size[1]);return o.drawImage(s.getImage(1),i.offset[0],i.offset[1],i.size[0],i.size[1],0,0,i.size[0],i.size[1]),Dc(o.canvas,e,void 0,Te.LOADED,i.color,!0),Wt.getPattern(e,void 0,i.color)}const tl="ol-hidden",Ol="ol-unselectable",Oc="ol-control",Rg="ol-collapsed",Tg="#000",xg="round",Cg="round",e1=10,t1="#000",n1=1,r1=new Ln;class Nl extends Dl{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Te.LOADING:Te.LOADED,this.imageState_===Te.LOADING&&this.ready().then(()=>this.imageState_=Te.LOADED),this.render()}clone(){const e=this.getScale(),n=new Nl({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[e[0]/2-n[0]/s[0],e[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var a,c;const n=(a=this.fill_)==null?void 0:a.getKey(),s=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let o=(c=Wt.get(s,null,null))==null?void 0:c.getImage(1);if(!o){const h=this.renderOptions_,f=Math.ceil(h.size*e),m=_t(f,f);this.draw_(h,m,e),o=m.canvas,Wt.set(s,null,null,new Im(o,void 0,null,Te.LOADED,null))}return o}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,s){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let o=this.radius,a=this.radius2_===void 0?o:this.radius2_;if(o<a){const K=o;o=a,a=K}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,f=a*Math.sin(h),m=Math.sqrt(a*a-f*f),p=o-m,y=Math.sqrt(f*f+p*p),v=y/f;if(e==="miter"&&v<=s)return v*n;const x=n/2/v,E=n/2*(p/y),L=Math.sqrt((o+x)*(o+x)+E*E)-o;if(this.radius2_===void 0||e==="bevel")return L*2;const N=o*Math.sin(h),A=Math.sqrt(o*o-N*N),Y=a-A,k=Math.sqrt(N*N+Y*Y)/N;if(k<=s){const K=k*n/2-a-o;return 2*Math.max(L,K)}return L*2}createRenderOptions(){let e=xg,n=Cg,s=0,o=null,a=0,c,h=0;this.stroke_&&(c=wg(this.stroke_.getColor()??t1),h=this.stroke_.getWidth()??n1,o=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Cg,e=this.stroke_.getLineCap()??xg,s=this.stroke_.getMiterLimit()??e1);const f=this.calculateLineJoinSize_(n,h,s),m=Math.max(this.radius,this.radius2_||0),p=Math.ceil(2*m+f);return{strokeStyle:c,strokeWidth:h,size:p,lineCap:e,lineDash:o,lineDashOffset:a,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,s){if(n.scale(s,s),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let o=this.fill_.getColor();o===null&&(o=Tg),n.fillStyle=wg(o),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let s=this.fill_.getColor(),o=0;typeof s=="string"&&(s=Ri(s)),s===null?o=1:Array.isArray(s)&&(o=s.length===4?s[3]:1),o===0&&(n=_t(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const s=this.radius;if(n===1/0)e.arc(0,0,s,0,2*Math.PI);else{const o=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const a=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const f=a+h*c,m=h%2===0?s:o;e.lineTo(m*Math.cos(f),m*Math.sin(f))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Tg,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Fl extends Nl{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Fl({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class Lr{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Sg,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Lr({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Sg,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function i1(i){let e;if(typeof i=="function")e=i;else{let n;Array.isArray(i)?n=i:(Oe(typeof i.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[i]),e=function(){return n}}return e}let Vu=null;function Lm(i,e){if(!Vu){const n=new Fs({color:"rgba(255,255,255,0.4)"}),s=new kl({color:"#3399CC",width:1.25});Vu=[new Lr({image:new Fl({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return Vu}function Sg(i){return i.getGeometry()}const s1="#333";class Nc{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=St(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Fs({color:s1}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Nc({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=St(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const ke={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Mm extends Ln{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[ke.OPACITY]=e.opacity!==void 0?e.opacity:1,Oe(typeof n[ke.OPACITY]=="number","Layer opacity must be a number"),n[ke.VISIBLE]=e.visible!==void 0?e.visible:!0,n[ke.Z_INDEX]=e.zIndex,n[ke.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[ke.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[ke.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[ke.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},s=this.getZIndex();return n.opacity=He(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Ie()}getLayerStatesArray(e){return Ie()}getExtent(){return this.get(ke.EXTENT)}getMaxResolution(){return this.get(ke.MAX_RESOLUTION)}getMinResolution(){return this.get(ke.MIN_RESOLUTION)}getMinZoom(){return this.get(ke.MIN_ZOOM)}getMaxZoom(){return this.get(ke.MAX_ZOOM)}getOpacity(){return this.get(ke.OPACITY)}getSourceState(){return Ie()}getVisible(){return this.get(ke.VISIBLE)}getZIndex(){return this.get(ke.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ke.EXTENT,e)}setMaxResolution(e){this.set(ke.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ke.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ke.MAX_ZOOM,e)}setMinZoom(e){this.set(ke.MIN_ZOOM,e)}setOpacity(e){Oe(typeof e=="number","Layer opacity must be a number"),this.set(ke.OPACITY,e)}setVisible(e){this.set(ke.VISIBLE,e)}setZIndex(e){this.set(ke.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Vt={ANIMATING:0,INTERACTING:1},en={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},o1=42,Fc=256;function Ig(i,e,n){return function(s,o,a,c,h){if(!s)return;if(!o&&!e)return s;const f=e?0:a[0]*o,m=e?0:a[1]*o,p=h?h[0]:0,y=h?h[1]:0;let v=i[0]+f/2+p,x=i[2]-f/2+p,E=i[1]+m/2+y,S=i[3]-m/2+y;v>x&&(v=(x+v)/2,x=v),E>S&&(E=(S+E)/2,S=E);let L=He(s[0],v,x),N=He(s[1],E,S);if(c&&n&&o){const A=30*o;L+=-A*Math.log(1+Math.max(0,v-s[0])/A)+A*Math.log(1+Math.max(0,s[0]-x)/A),N+=-A*Math.log(1+Math.max(0,E-s[1])/A)+A*Math.log(1+Math.max(0,s[1]-S)/A)}return[L,N]}}function l1(i){return i}function zc(i,e,n,s){const o=De(e)/n[0],a=dt(e)/n[1];return s?Math.min(i,Math.max(o,a)):Math.min(i,Math.min(o,a))}function Uc(i,e,n){let s=Math.min(i,e);const o=50;return s*=Math.log(1+o*Math.max(0,i/e-1))/o+1,n&&(s=Math.max(s,n),s/=Math.log(1+o*Math.max(0,n/i-1))/o+1),He(s,n/2,e*2)}function a1(i,e,n,s){return e=e!==void 0?e:!0,function(o,a,c,h){if(o!==void 0){const f=i[0],m=i[i.length-1],p=n?zc(f,n,c,s):f;if(h)return e?Uc(o,p,m):He(o,m,p);const y=Math.min(p,o),v=Math.floor(pc(i,y,a));return i[v]>p&&v<i.length-1?i[v+1]:i[v]}}}function u1(i,e,n,s,o,a){return s=s!==void 0?s:!0,n=n!==void 0?n:0,function(c,h,f,m){if(c!==void 0){const p=o?zc(e,o,f,a):e;if(m)return s?Uc(c,p,n):He(c,n,p);const y=1e-9,v=Math.ceil(Math.log(e/p)/Math.log(i)-y),x=-h*(.5-y)+.5,E=Math.min(p,c),S=Math.floor(Math.log(e/E)/Math.log(i)+x),L=Math.max(v,S),N=e/Math.pow(i,L);return He(N,n,p)}}}function Lg(i,e,n,s,o){return n=n!==void 0?n:!0,function(a,c,h,f){if(a!==void 0){const m=s?zc(i,s,h,o):i;return!n||!f?He(a,e,m):Uc(a,m,e)}}}function jc(i){if(i!==void 0)return 0}function Mg(i){if(i!==void 0)return i}function c1(i){const e=2*Math.PI/i;return function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function h1(i){const e=tr(5);return function(n,s){return s||n===void 0?n:Math.abs(n)<=e?0:n}}function Pm(i){return Math.pow(i,3)}function xi(i){return 1-Pm(1-i)}function d1(i){return 3*i*i-2*i*i*i}function f1(i){return i}const Bu=0;class hn extends Ln{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=xc(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&ly(),e.center&&(e.center=xn(e.center,this.projection_)),e.extent&&(e.extent=Sr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const h in en)delete n[h];this.setProperties(n,!0);const s=m1(e);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=s.minZoom;const o=g1(e),a=s.constraint,c=p1(e);this.constraints_={center:o,resolution:a,rotation:c},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const s=this.getCenterInternal();if(s){const o=e||[0,0,0,0];n=n||[0,0,0,0];const a=this.getResolution(),c=a/2*(o[3]-n[3]+n[1]-o[1]),h=a/2*(o[0]-n[0]+n[2]-o[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let o=arguments[s];o.center&&(o=Object.assign({},o),o.center=xn(o.center,this.getProjection())),o.anchor&&(o=Object.assign({},o),o.anchor=xn(o.anchor,this.getProjection())),n[s]=o}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let o=0;for(;o<n&&!this.isDef();++o){const p=arguments[o];p.center&&this.setCenterInternal(p.center),p.zoom!==void 0?this.setZoom(p.zoom):p.resolution&&this.setResolution(p.resolution),p.rotation!==void 0&&this.setRotation(p.rotation)}if(o===n){s&&nl(s,!0);return}let a=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,f=this.targetRotation_;const m=[];for(;o<n;++o){const p=arguments[o],y={start:a,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||d1,callback:s};if(p.center&&(y.sourceCenter=c,y.targetCenter=p.center.slice(),c=y.targetCenter),p.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(p.zoom),h=y.targetResolution):p.resolution&&(y.sourceResolution=h,y.targetResolution=p.resolution,h=y.targetResolution),p.rotation!==void 0){y.sourceRotation=f;const v=_i(p.rotation-f+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=f+v,f=y.targetRotation}_1(y)?y.complete=!0:a+=y.duration,m.push(y)}this.animations_.push(m),this.setHint(Vt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Vt.ANIMATING]>0}getInteracting(){return this.hints_[Vt.INTERACTING]>0}cancelAnimations(){this.setHint(Vt.ANIMATING,-this.hints_[Vt.ANIMATING]);let e;for(let n=0,s=this.animations_.length;n<s;++n){const o=this.animations_[n];if(o[0].callback&&nl(o[0].callback,!1),!e)for(let a=0,c=o.length;a<c;++a){const h=o[a];if(!h.complete){e=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const o=this.animations_[s];let a=!0;for(let c=0,h=o.length;c<h;++c){const f=o[c];if(f.complete)continue;const m=e-f.start;let p=f.duration>0?m/f.duration:1;p>=1?(f.complete=!0,p=1):a=!1;const y=f.easing(p);if(f.sourceCenter){const v=f.sourceCenter[0],x=f.sourceCenter[1],E=f.targetCenter[0],S=f.targetCenter[1];this.nextCenter_=f.targetCenter;const L=v+y*(E-v),N=x+y*(S-x);this.targetCenter_=[L,N]}if(f.sourceResolution&&f.targetResolution){const v=y===1?f.targetResolution:f.sourceResolution+y*(f.targetResolution-f.sourceResolution);if(f.anchor){const x=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(v,0,x,!0);this.targetCenter_=this.calculateCenterZoom(E,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const v=y===1?_i(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+y*(f.targetRotation-f.sourceRotation);if(f.anchor){const x=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(x,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),n=!0,!f.complete)break}if(a){this.animations_[s]=null,this.setHint(Vt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=o[0].callback;c&&nl(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let s;const o=this.getCenterInternal();return o!==void 0&&(s=[o[0]-n[0],o[1]-n[1]],Ec(s,e-this.getRotation()),X_(s,n)),s}calculateCenterZoom(e,n){let s;const o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){const c=n[0]-e*(n[0]-o[0])/a,h=n[1]-e*(n[1]-o[1])/a;s=[c,h]}return s}getViewportSize_(e){const n=this.viewportSize_;if(e){const s=n[0],o=n[1];return[Math.abs(s*Math.cos(e))+Math.abs(o*Math.sin(e)),Math.abs(s*Math.sin(e))+Math.abs(o*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&oc(e,this.getProjection())}getCenterInternal(){return this.get(en.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return gy(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Oe(n,"The view center is not defined");const s=this.getResolution();Oe(s!==void 0,"The view resolution is not defined");const o=this.getRotation();return Oe(o!==void 0,"The view rotation is not defined"),tc(n,s,o,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(en.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Sr(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const s=De(e)/n[0],o=dt(e)/n[1];return Math.max(s,o)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,o=Math.log(n/s)/Math.log(e);return function(a){return n/Math.pow(e,a*o)}}getRotation(){return this.get(en.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),s=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(s/o)/n;return function(c){return Math.log(s/c)/n/a}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),s=this.getRotation();let o=this.getCenterInternal();const a=this.padding_;if(a){const c=this.getViewportSizeMinusPadding_();o=Wu(o,this.getViewportSize_(),[c[0]/2+a[3],c[1]/2+a[0]],n,s)}return{center:o.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,s,o;if(this.resolutions_){const a=pc(this.resolutions_,e,1);n=a,s=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=s/this.resolutions_[a+1]}else s=this.maxResolution_,o=this.zoomFactor_;return n+Math.log(s/e)/Math.log(o)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const s=He(Math.floor(e),0,this.resolutions_.length-2),o=this.resolutions_[s]/this.resolutions_[s+1];return this.resolutions_[s]/Math.pow(o,He(e-s,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let s;if(Oe(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Oe(!Os(e),"Cannot fit empty extent provided as `geometry`");const o=Sr(e,this.getProjection());s=mg(o)}else if(e.getType()==="Circle"){const o=Sr(e.getExtent(),this.getProjection());s=mg(o),s.rotate(this.getRotation(),Ei(o))}else{const o=dy();o?s=e.clone().transform(o,this.getProjection()):s=e}this.fitInternal(s,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),s=Math.cos(n),o=Math.sin(-n),a=e.getFlatCoordinates(),c=e.getStride();let h=1/0,f=1/0,m=-1/0,p=-1/0;for(let y=0,v=a.length;y<v;y+=c){const x=a[y]*s-a[y+1]*o,E=a[y]*o+a[y+1]*s;h=Math.min(h,x),f=Math.min(f,E),m=Math.max(m,x),p=Math.max(p,E)}return[h,f,m,p]}fitInternal(e,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const o=n.padding!==void 0?n.padding:[0,0,0,0],a=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(e);let f=this.getResolutionForExtentInternal(h,[s[0]-o[1]-o[3],s[1]-o[0]-o[2]]);f=isNaN(f)?c:Math.max(f,c),f=this.getConstrainedResolution(f,a?0:1);const m=this.getRotation(),p=Math.sin(m),y=Math.cos(m),v=Ei(h);v[0]+=(o[1]-o[3])/2*f,v[1]+=(o[0]-o[2])/2*f;const x=v[0]*y-v[1]*p,E=v[1]*y+v[0]*p,S=this.getConstrainedCenter([x,E],f),L=n.callback?n.callback:ul;n.duration!==void 0?this.animateInternal({resolution:f,center:S,duration:n.duration,easing:n.easing},L):(this.targetResolution_=f,this.targetCenter_=S,this.applyTargetState_(!1,!0),nl(L,!0))}centerOn(e,n,s){this.centerOnInternal(xn(e,this.getProjection()),n,s)}centerOnInternal(e,n,s){this.setCenterInternal(Wu(e,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,s,o){let a;const c=this.padding_;if(c&&e){const h=this.getViewportSizeMinusPadding_(-s),f=Wu(e,o,[h[0]/2+c[3],h[1]/2+c[0]],n,s);a=[e[0]-f[0],e[1]-f[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=oc(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&xn(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const s=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,o,s);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=xn(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const s=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+e,s);n&&(this.targetCenter_=this.calculateCenterRotate(o,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&xn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const s=this.getAnimating()||this.getInteracting()||n,o=this.constraints_.rotation(this.targetRotation_,s),a=this.getViewportSize_(o),c=this.constraints_.resolution(this.targetResolution_,0,a,s),h=this.constraints_.center(this.targetCenter_,c,a,s,this.calculateCenterShift(this.targetCenter_,c,o,a));this.get(en.ROTATION)!==o&&this.set(en.ROTATION,o),this.get(en.RESOLUTION)!==c&&(this.set(en.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(en.CENTER)||!hl(this.get(en.CENTER),h))&&this.set(en.CENTER,h),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,s){e=e!==void 0?e:200;const o=n||0,a=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(a),h=this.constraints_.resolution(this.targetResolution_,o,c),f=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,a,c));if(e===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=a,this.targetCenter_=f,this.applyTargetState_();return}s=s||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==a||!this.getCenterInternal()||!hl(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:f,resolution:h,duration:e,easing:xi,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Vt.INTERACTING,1)}endInteraction(e,n,s){s=s&&xn(s,this.getProjection()),this.endInteractionInternal(e,n,s)}endInteractionInternal(e,n,s){this.getInteracting()&&(this.setHint(Vt.INTERACTING,-1),this.resolveConstraints(e,n,s))}getConstrainedCenter(e,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),s)}getConstrainedZoom(e,n){const s=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(e,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,s)}}function nl(i,e){setTimeout(function(){i(e)},0)}function g1(i){if(i.extent!==void 0){const n=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return Ig(i.extent,i.constrainOnlyCenter,n)}const e=xc(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Ig(n,!1,!1)}return l1}function m1(i){let e,n,s,c=i.minZoom!==void 0?i.minZoom:Bu,h=i.maxZoom!==void 0?i.maxZoom:28;const f=i.zoomFactor!==void 0?i.zoomFactor:2,m=i.multiWorld!==void 0?i.multiWorld:!1,p=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,y=i.showFullExtent!==void 0?i.showFullExtent:!1,v=xc(i.projection,"EPSG:3857"),x=v.getExtent();let E=i.constrainOnlyCenter,S=i.extent;if(!m&&!S&&v.isGlobal()&&(E=!1,S=x),i.resolutions!==void 0){const L=i.resolutions;n=L[c],s=L[h]!==void 0?L[h]:L[L.length-1],i.constrainResolution?e=a1(L,p,!E&&S,y):e=Lg(n,s,p,!E&&S,y)}else{const N=(x?Math.max(De(x),dt(x)):360*yc.degrees/v.getMetersPerUnit())/Fc/Math.pow(2,Bu),A=N/Math.pow(2,28-Bu);n=i.maxResolution,n!==void 0?c=0:n=N/Math.pow(f,c),s=i.minResolution,s===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?s=n/Math.pow(f,h):s=N/Math.pow(f,h):s=A),h=c+Math.floor(Math.log(n/s)/Math.log(f)),s=n/Math.pow(f,h-c),i.constrainResolution?e=u1(f,n,s,p,!E&&S,y):e=Lg(n,s,p,!E&&S,y)}return{constraint:e,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:f}}function p1(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const n=i.constrainRotation;return n===void 0||n===!0?h1():n===!1?Mg:typeof n=="number"?c1(n):Mg}return jc}function _1(i){return!(i.sourceCenter&&i.targetCenter&&!hl(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function Wu(i,e,n,s,o){const a=Math.cos(-o);let c=Math.sin(-o),h=i[0]*a-i[1]*c,f=i[1]*a+i[0]*c;h+=(e[0]/2-n[0])*s,f+=(n[1]-e[1]/2)*s,c=-c;const m=h*a-f*c,p=f*a+h*c;return[m,p]}class zl extends Mm{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ke.SOURCE,this.handleSourcePropertyChange_);const s=e.source?e.source:null;this.setSource(s)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ke.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ve(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Pe(e,ye.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const s=this.getMapInternal();!e&&s&&(e=s.getView()),e instanceof hn?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let o;if(n.layerStatesArray){if(o=n.layerStatesArray.find(c=>c.layer===this),!o)return!1}else o=this.getLayerState();const a=this.getExtent();return Xc(o,n.viewState)&&(!a||Ds(a,n.extent))}getAttributions(e){var a;if(!this.isVisible(e))return[];const n=(a=this.getSource())==null?void 0:a.getAttributions();if(!n)return[];const s=e instanceof hn?e.getViewStateAndExtent():e;let o=n(s);return Array.isArray(o)||(o=[o]),o}render(e,n){const s=this.getRenderer();return s.prepareFrame(e)?(this.rendered=!0,s.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(ke.MAP,e)}getMapInternal(){return this.get(ke.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ve(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ve(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Pe(e,dn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Pe(this,ye.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,s=this.getLayerState(!1);Oe(!n.some(o=>o.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(e){this.set(ke.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Xc(i,e){if(!i.visible)return!1;const n=e.resolution;if(n<i.minResolution||n>=i.maxResolution)return!1;const s=e.zoom;return s>i.minZoom&&s<=i.maxZoom}function Am(i,e,n=0,s=i.length-1,o=y1){for(;s>n;){if(s-n>600){const f=s-n+1,m=e-n+1,p=Math.log(f),y=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*y*(f-y)/f)*(m-f/2<0?-1:1),x=Math.max(n,Math.floor(e-m*y/f+v)),E=Math.min(s,Math.floor(e+(f-m)*y/f+v));Am(i,e,x,E,o)}const a=i[e];let c=n,h=s;for(fs(i,n,e),o(i[s],a)>0&&fs(i,n,s);c<h;){for(fs(i,c,h),c++,h--;o(i[c],a)<0;)c++;for(;o(i[h],a)>0;)h--}o(i[n],a)===0?fs(i,n,h):(h++,fs(i,h,s)),h<=e&&(n=h+1),e<=h&&(s=h-1)}}function fs(i,e,n){const s=i[e];i[e]=i[n],i[n]=s}function y1(i,e){return i<e?-1:i>e?1:0}class v1{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const s=[];if(!il(e,n))return s;const o=this.toBBox,a=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],f=n.leaf?o(h):h;il(e,f)&&(n.leaf?s.push(h):Ku(e,f)?this._all(h,s):a.push(h))}n=a.pop()}return s}collides(e){let n=this.data;if(!il(e,n))return!1;const s=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],c=n.leaf?this.toBBox(a):a;if(il(e,c)){if(n.leaf||Ku(e,c))return!0;s.push(a)}}n=s.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let s=0;s<e.length;s++)this.insert(e[s]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ci([]),this}remove(e,n){if(!e)return this;let s=this.data;const o=this.toBBox(e),a=[],c=[];let h,f,m;for(;s||a.length;){if(s||(s=a.pop(),f=a[a.length-1],h=c.pop(),m=!0),s.leaf){const p=E1(e,s.children,n);if(p!==-1)return s.children.splice(p,1),a.push(s),this._condense(a),this}!m&&!s.leaf&&Ku(s,o)?(a.push(s),c.push(h),h=0,f=s,s=s.children[0]):f?(h++,s=f.children[h],m=!1):s=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const s=[];for(;e;)e.leaf?n.push(...e.children):s.push(...e.children),e=s.pop();return n}_build(e,n,s,o){const a=s-n+1;let c=this._maxEntries,h;if(a<=c)return h=ci(e.slice(n,s+1)),ii(h,this.toBBox),h;o||(o=Math.ceil(Math.log(a)/Math.log(c)),c=Math.ceil(a/Math.pow(c,o-1))),h=ci([]),h.leaf=!1,h.height=o;const f=Math.ceil(a/c),m=f*Math.ceil(Math.sqrt(c));Pg(e,n,s,m,this.compareMinX);for(let p=n;p<=s;p+=m){const y=Math.min(p+m-1,s);Pg(e,p,y,f,this.compareMinY);for(let v=p;v<=y;v+=f){const x=Math.min(v+f-1,y);h.children.push(this._build(e,v,x,o-1))}}return ii(h,this.toBBox),h}_chooseSubtree(e,n,s,o){for(;o.push(n),!(n.leaf||o.length-1===s);){let a=1/0,c=1/0,h;for(let f=0;f<n.children.length;f++){const m=n.children[f],p=Yu(m),y=T1(e,m)-p;y<c?(c=y,a=p<a?p:a,h=m):y===c&&p<a&&(a=p,h=m)}n=h||n.children[0]}return n}_insert(e,n,s){const o=s?e:this.toBBox(e),a=[],c=this._chooseSubtree(o,this.data,n,a);for(c.children.push(e),ps(c,o);n>=0&&a[n].children.length>this._maxEntries;)this._split(a,n),n--;this._adjustParentBBoxes(o,a,n)}_split(e,n){const s=e[n],o=s.children.length,a=this._minEntries;this._chooseSplitAxis(s,a,o);const c=this._chooseSplitIndex(s,a,o),h=ci(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,ii(s,this.toBBox),ii(h,this.toBBox),n?e[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(e,n){this.data=ci([e,n]),this.data.height=e.height+1,this.data.leaf=!1,ii(this.data,this.toBBox)}_chooseSplitIndex(e,n,s){let o,a=1/0,c=1/0;for(let h=n;h<=s-n;h++){const f=ms(e,0,h,this.toBBox),m=ms(e,h,s,this.toBBox),p=x1(f,m),y=Yu(f)+Yu(m);p<a?(a=p,o=h,c=y<c?y:c):p===a&&y<c&&(c=y,o=h)}return o||s-n}_chooseSplitAxis(e,n,s){const o=e.leaf?this.compareMinX:w1,a=e.leaf?this.compareMinY:R1,c=this._allDistMargin(e,n,s,o),h=this._allDistMargin(e,n,s,a);c<h&&e.children.sort(o)}_allDistMargin(e,n,s,o){e.children.sort(o);const a=this.toBBox,c=ms(e,0,n,a),h=ms(e,s-n,s,a);let f=rl(c)+rl(h);for(let m=n;m<s-n;m++){const p=e.children[m];ps(c,e.leaf?a(p):p),f+=rl(c)}for(let m=s-n-1;m>=n;m--){const p=e.children[m];ps(h,e.leaf?a(p):p),f+=rl(h)}return f}_adjustParentBBoxes(e,n,s){for(let o=s;o>=0;o--)ps(n[o],e)}_condense(e){for(let n=e.length-1,s;n>=0;n--)e[n].children.length===0?n>0?(s=e[n-1].children,s.splice(s.indexOf(e[n]),1)):this.clear():ii(e[n],this.toBBox)}}function E1(i,e,n){if(!n)return e.indexOf(i);for(let s=0;s<e.length;s++)if(n(i,e[s]))return s;return-1}function ii(i,e){ms(i,0,i.children.length,e,i)}function ms(i,e,n,s,o){o||(o=ci(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let a=e;a<n;a++){const c=i.children[a];ps(o,i.leaf?s(c):c)}return o}function ps(i,e){return i.minX=Math.min(i.minX,e.minX),i.minY=Math.min(i.minY,e.minY),i.maxX=Math.max(i.maxX,e.maxX),i.maxY=Math.max(i.maxY,e.maxY),i}function w1(i,e){return i.minX-e.minX}function R1(i,e){return i.minY-e.minY}function Yu(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function rl(i){return i.maxX-i.minX+(i.maxY-i.minY)}function T1(i,e){return(Math.max(e.maxX,i.maxX)-Math.min(e.minX,i.minX))*(Math.max(e.maxY,i.maxY)-Math.min(e.minY,i.minY))}function x1(i,e){const n=Math.max(i.minX,e.minX),s=Math.max(i.minY,e.minY),o=Math.min(i.maxX,e.maxX),a=Math.min(i.maxY,e.maxY);return Math.max(0,o-n)*Math.max(0,a-s)}function Ku(i,e){return i.minX<=e.minX&&i.minY<=e.minY&&e.maxX<=i.maxX&&e.maxY<=i.maxY}function il(i,e){return e.minX<=i.maxX&&e.minY<=i.maxY&&e.maxX>=i.minX&&e.maxY>=i.minY}function ci(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Pg(i,e,n,s,o){const a=[e,n];for(;a.length;){if(n=a.pop(),e=a.pop(),n-e<=s)continue;const c=e+Math.ceil((n-e)/s/2)*s;Am(i,c,e,n,o),a.push(e,c,c,n)}}function Ag(i,e,n,s){return n!==void 0&&s!==void 0?[n/i,s/e]:n!==void 0?n/i:s!==void 0?s/e:1}class Gc extends Dl{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,s=e.rotation!==void 0?e.rotation:0,o=e.scale!==void 0?e.scale:1,a=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:s,scale:o,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:a,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const c=e.img!==void 0?e.img:null;let h=e.src;Oe(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||ht(c)),Oe(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Oe(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let f;if(e.src!==void 0?f=Te.IDLE:c!==void 0&&("complete"in c?c.complete?f=c.src?Te.LOADED:Te.IDLE:f=Te.LOADING:f=Te.LOADED),this.color_=e.color!==void 0?Ri(e.color):null,this.iconImage_=Dc(c,h,this.crossOrigin_,f,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let m,p;if(e.size)[m,p]=e.size;else{const y=this.getImage(1);if(y.width&&y.height)m=y.width,p=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=e;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const x=this.iconImage_.getSize();this.setScale(Ag(x[0],x[1],e.width,e.height))};this.listenImageChange(v);return}}m!==void 0&&this.setScale(Ag(m,p,e.width,e.height))}}clone(){let e,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Gc({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const o=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!o)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=o[0]),this.anchorYUnits_=="fraction"&&(e[1]*=o[1])}if(this.anchorOrigin_!="top-left"){if(!o)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+o[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+o[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),s=this.getScaleArray();return[e[0]-n[0]/s[0],e[1]+n[1]/s[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=s[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=s[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Te.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Te.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(ye.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(ye.CHANGE,e)}ready(){return this.iconImage_.ready()}}let Pr=0;const pt=1<<Pr++,Re=1<<Pr++,xt=1<<Pr++,tn=1<<Pr++,Mr=1<<Pr++,_s=1<<Pr++,sl=Math.pow(2,Pr)-1,Vc={[pt]:"boolean",[Re]:"number",[xt]:"string",[tn]:"color",[Mr]:"number[]",[_s]:"size"},C1=Object.keys(Vc).map(Number).sort(wl);function S1(i){return i in Vc}function ys(i){const e=[];for(const n of C1)vs(i,n)&&e.push(Vc[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function vs(i,e){return(i&e)===e}function bn(i,e){return i===e}class qe{constructor(e,n){if(!S1(e))throw new Error(`literal expressions must have a specific type, got ${ys(e)}`);this.type=e,this.value=n}}class I1{constructor(e,n,...s){this.type=e,this.operator=n,this.args=s}}function km(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function st(i,e,n){switch(typeof i){case"boolean":{if(bn(e,xt))return new qe(xt,i?"true":"false");if(!vs(e,pt))throw new Error(`got a boolean, but expected ${ys(e)}`);return new qe(pt,i)}case"number":{if(bn(e,_s))return new qe(_s,St(i));if(bn(e,pt))return new qe(pt,!!i);if(bn(e,xt))return new qe(xt,i.toString());if(!vs(e,Re))throw new Error(`got a number, but expected ${ys(e)}`);return new qe(Re,i)}case"string":{if(bn(e,tn))return new qe(tn,Pc(i));if(bn(e,pt))return new qe(pt,!!i);if(!vs(e,xt))throw new Error(`got a string, but expected ${ys(e)}`);return new qe(xt,i)}}if(!Array.isArray(i))throw new Error("expression must be an array or a primitive value");if(i.length===0)throw new Error("empty expression");if(typeof i[0]=="string")return U1(i,e,n);for(const s of i)if(typeof s!="number")throw new Error("expected an array of numbers");if(bn(e,_s)){if(i.length!==2)throw new Error(`expected an array of two values for a size, got ${i.length}`);return new qe(_s,i)}if(bn(e,tn)){if(i.length===3)return new qe(tn,[...i,1]);if(i.length===4)return new qe(tn,i);throw new Error(`expected an array of 3 or 4 values for a color, got ${i.length}`)}if(!vs(e,Mr))throw new Error(`got an array of numbers, but expected ${ys(e)}`);return new qe(Mr,i)}const F={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},L1={[F.Get]:ge(_e(1,1/0),kg),[F.Var]:ge(_e(1,1),M1),[F.Has]:ge(_e(1,1/0),kg),[F.Id]:ge(P1,si),[F.Concat]:ge(_e(2,1/0),Le(xt)),[F.GeometryType]:ge(A1,si),[F.LineMetric]:ge(si),[F.Resolution]:ge(si),[F.Zoom]:ge(si),[F.Time]:ge(si),[F.Any]:ge(_e(2,1/0),Le(pt)),[F.All]:ge(_e(2,1/0),Le(pt)),[F.Not]:ge(_e(1,1),Le(pt)),[F.Equal]:ge(_e(2,2),Le(sl)),[F.NotEqual]:ge(_e(2,2),Le(sl)),[F.GreaterThan]:ge(_e(2,2),Le(Re)),[F.GreaterThanOrEqualTo]:ge(_e(2,2),Le(Re)),[F.LessThan]:ge(_e(2,2),Le(Re)),[F.LessThanOrEqualTo]:ge(_e(2,2),Le(Re)),[F.Multiply]:ge(_e(2,1/0),Dg),[F.Coalesce]:ge(_e(2,1/0),Dg),[F.Divide]:ge(_e(2,2),Le(Re)),[F.Add]:ge(_e(2,1/0),Le(Re)),[F.Subtract]:ge(_e(2,2),Le(Re)),[F.Clamp]:ge(_e(3,3),Le(Re)),[F.Mod]:ge(_e(2,2),Le(Re)),[F.Pow]:ge(_e(2,2),Le(Re)),[F.Abs]:ge(_e(1,1),Le(Re)),[F.Floor]:ge(_e(1,1),Le(Re)),[F.Ceil]:ge(_e(1,1),Le(Re)),[F.Round]:ge(_e(1,1),Le(Re)),[F.Sin]:ge(_e(1,1),Le(Re)),[F.Cos]:ge(_e(1,1),Le(Re)),[F.Atan]:ge(_e(1,2),Le(Re)),[F.Sqrt]:ge(_e(1,1),Le(Re)),[F.Match]:ge(_e(4,1/0),Og,D1),[F.Between]:ge(_e(3,3),Le(Re)),[F.Interpolate]:ge(_e(6,1/0),Og,O1),[F.Case]:ge(_e(3,1/0),k1,N1),[F.In]:ge(_e(2,2),F1),[F.Number]:ge(_e(1,1/0),Le(sl)),[F.String]:ge(_e(1,1/0),Le(sl)),[F.Array]:ge(_e(1,1/0),Le(Re)),[F.Color]:ge(_e(1,4),Le(Re)),[F.Band]:ge(_e(1,3),Le(Re)),[F.Palette]:ge(_e(2,2),z1),[F.ToString]:ge(_e(1,1),Le(pt|Re|xt|tn))};function kg(i,e,n){const s=i.length-1,o=new Array(s);for(let a=0;a<s;++a){const c=i[a+1];switch(typeof c){case"number":{o[a]=new qe(Re,c);break}case"string":{o[a]=new qe(xt,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}a===0&&n.properties.add(String(c))}return o}function M1(i,e,n){const s=i[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new qe(xt,s)]}function P1(i,e,n){n.featureId=!0}function A1(i,e,n){n.geometryType=!0}function si(i,e,n){const s=i[0];if(i.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function _e(i,e){return function(n,s,o){const a=n[0],c=n.length-1;if(i===e){if(c!==i){const h=i===1?"":"s";throw new Error(`expected ${i} argument${h} for ${a}, got ${c}`)}}else if(c<i||c>e){const h=e===1/0?`${i} or more`:`${i} to ${e}`;throw new Error(`expected ${h} arguments for ${a}, got ${c}`)}}}function Dg(i,e,n){const s=i.length-1,o=new Array(s);for(let a=0;a<s;++a){const c=st(i[a+1],e,n);o[a]=c}return o}function Le(i){return function(e,n,s){const o=e.length-1,a=new Array(o);for(let c=0;c<o;++c){const h=st(e[c+1],i,s);a[c]=h}return a}}function k1(i,e,n){const s=i[0],o=i.length-1;if(o%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${o} instead`)}function Og(i,e,n){const s=i[0],o=i.length-1;if(o%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${o} instead`)}function D1(i,e,n){const s=i.length-1,o=xt|Re|pt,a=st(i[1],o,n),c=st(i[i.length-1],e,n),h=new Array(s-2);for(let f=0;f<s-2;f+=2){try{const m=st(i[f+2],a.type,n);h[f]=m}catch(m){throw new Error(`failed to parse argument ${f+1} of match expression: ${m.message}`)}try{const m=st(i[f+3],c.type,n);h[f+1]=m}catch(m){throw new Error(`failed to parse argument ${f+2} of match expression: ${m.message}`)}}return[a,...h,c]}function O1(i,e,n){const s=i[1];let o;switch(s[0]){case"linear":o=1;break;case"exponential":const f=s[1];if(typeof f!="number"||f<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(f)} instead`);o=f;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const a=new qe(Re,o);let c;try{c=st(i[2],Re,n)}catch(f){throw new Error(`failed to parse argument 1 in interpolate expression: ${f.message}`)}const h=new Array(i.length-3);for(let f=0;f<h.length;f+=2){try{const m=st(i[f+3],Re,n);h[f]=m}catch(m){throw new Error(`failed to parse argument ${f+2} for interpolate expression: ${m.message}`)}try{const m=st(i[f+4],e,n);h[f+1]=m}catch(m){throw new Error(`failed to parse argument ${f+3} for interpolate expression: ${m.message}`)}}return[a,c,...h]}function N1(i,e,n){const s=st(i[i.length-1],e,n),o=new Array(i.length-1);for(let a=0;a<o.length-1;a+=2){try{const c=st(i[a+1],pt,n);o[a]=c}catch(c){throw new Error(`failed to parse argument ${a} of case expression: ${c.message}`)}try{const c=st(i[a+2],s.type,n);o[a+1]=c}catch(c){throw new Error(`failed to parse argument ${a+1} of case expression: ${c.message}`)}}return o[o.length-1]=s,o}function F1(i,e,n){let s=i[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let o;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],o=xt}else o=Re;const a=new Array(s.length);for(let h=0;h<a.length;h++)try{const f=st(s[h],o,n);a[h]=f}catch(f){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${f.message}`)}return[st(i[1],o,n),...a]}function z1(i,e,n){let s;try{s=st(i[1],Re,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const o=i[2];if(!Array.isArray(o))throw new Error("the second argument of palette must be an array");const a=new Array(o.length);for(let c=0;c<a.length;c++){let h;try{h=st(o[c],tn,n)}catch(f){throw new Error(`failed to parse color at index ${c} in palette expression: ${f.message}`)}if(!(h instanceof qe))throw new Error(`the palette color at index ${c} must be a literal value`);a[c]=h}return[s,...a]}function ge(...i){return function(e,n,s){const o=e[0];let a;for(let c=0;c<i.length;c++){const h=i[c](e,n,s);if(c==i.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");a=h}}return new I1(n,o,...a)}}function U1(i,e,n){const s=i[0],o=L1[s];if(!o)throw new Error(`unknown operator: ${s}`);return o(i,e,n)}function Dm(i){if(!i)return"";const e=i.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Dm(i.getGeometries()[0]);default:return""}}function Om(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Mn(i,e,n){const s=st(i,e,n);return rn(s)}function rn(i,e){if(i instanceof qe){if(i.type===tn&&typeof i.value=="string"){const s=Pc(i.value);return function(){return s}}return function(){return i.value}}const n=i.operator;switch(n){case F.Number:case F.String:case F.Coalesce:return j1(i);case F.Get:case F.Var:case F.Has:return X1(i);case F.Id:return s=>s.featureId;case F.GeometryType:return s=>s.geometryType;case F.Concat:{const s=i.args.map(o=>rn(o));return o=>"".concat(...s.map(a=>a(o).toString()))}case F.Resolution:return s=>s.resolution;case F.Any:case F.All:case F.Between:case F.In:case F.Not:return V1(i);case F.Equal:case F.NotEqual:case F.LessThan:case F.LessThanOrEqualTo:case F.GreaterThan:case F.GreaterThanOrEqualTo:return G1(i);case F.Multiply:case F.Divide:case F.Add:case F.Subtract:case F.Clamp:case F.Mod:case F.Pow:case F.Abs:case F.Floor:case F.Ceil:case F.Round:case F.Sin:case F.Cos:case F.Atan:case F.Sqrt:return B1(i);case F.Case:return W1(i);case F.Match:return Y1(i);case F.Interpolate:return K1(i);case F.ToString:return Z1(i);default:throw new Error(`Unsupported operator ${n}`)}}function j1(i,e){const n=i.operator,s=i.args.length,o=new Array(s);for(let a=0;a<s;++a)o[a]=rn(i.args[a]);switch(n){case F.Coalesce:return a=>{for(let c=0;c<s;++c){const h=o[c](a);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case F.Number:case F.String:return a=>{for(let c=0;c<s;++c){const h=o[c](a);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function X1(i,e){const s=i.args[0].value;switch(i.operator){case F.Get:return o=>{const a=i.args;let c=o.properties[s];for(let h=1,f=a.length;h<f;++h){const p=a[h].value;c=c[p]}return c};case F.Var:return o=>o.variables[s];case F.Has:return o=>{const a=i.args;if(!(s in o.properties))return!1;let c=o.properties[s];for(let h=1,f=a.length;h<f;++h){const p=a[h].value;if(!c||!Object.hasOwn(c,p))return!1;c=c[p]}return!0};default:throw new Error(`Unsupported accessor operator ${i.operator}`)}}function G1(i,e){const n=i.operator,s=rn(i.args[0]),o=rn(i.args[1]);switch(n){case F.Equal:return a=>s(a)===o(a);case F.NotEqual:return a=>s(a)!==o(a);case F.LessThan:return a=>s(a)<o(a);case F.LessThanOrEqualTo:return a=>s(a)<=o(a);case F.GreaterThan:return a=>s(a)>o(a);case F.GreaterThanOrEqualTo:return a=>s(a)>=o(a);default:throw new Error(`Unsupported comparison operator ${n}`)}}function V1(i,e){const n=i.operator,s=i.args.length,o=new Array(s);for(let a=0;a<s;++a)o[a]=rn(i.args[a]);switch(n){case F.Any:return a=>{for(let c=0;c<s;++c)if(o[c](a))return!0;return!1};case F.All:return a=>{for(let c=0;c<s;++c)if(!o[c](a))return!1;return!0};case F.Between:return a=>{const c=o[0](a),h=o[1](a),f=o[2](a);return c>=h&&c<=f};case F.In:return a=>{const c=o[0](a);for(let h=1;h<s;++h)if(c===o[h](a))return!0;return!1};case F.Not:return a=>!o[0](a);default:throw new Error(`Unsupported logical operator ${n}`)}}function B1(i,e){const n=i.operator,s=i.args.length,o=new Array(s);for(let a=0;a<s;++a)o[a]=rn(i.args[a]);switch(n){case F.Multiply:return a=>{let c=1;for(let h=0;h<s;++h)c*=o[h](a);return c};case F.Divide:return a=>o[0](a)/o[1](a);case F.Add:return a=>{let c=0;for(let h=0;h<s;++h)c+=o[h](a);return c};case F.Subtract:return a=>o[0](a)-o[1](a);case F.Clamp:return a=>{const c=o[0](a),h=o[1](a);if(c<h)return h;const f=o[2](a);return c>f?f:c};case F.Mod:return a=>o[0](a)%o[1](a);case F.Pow:return a=>Math.pow(o[0](a),o[1](a));case F.Abs:return a=>Math.abs(o[0](a));case F.Floor:return a=>Math.floor(o[0](a));case F.Ceil:return a=>Math.ceil(o[0](a));case F.Round:return a=>Math.round(o[0](a));case F.Sin:return a=>Math.sin(o[0](a));case F.Cos:return a=>Math.cos(o[0](a));case F.Atan:return s===2?a=>Math.atan2(o[0](a),o[1](a)):a=>Math.atan(o[0](a));case F.Sqrt:return a=>Math.sqrt(o[0](a));default:throw new Error(`Unsupported numeric operator ${n}`)}}function W1(i,e){const n=i.args.length,s=new Array(n);for(let o=0;o<n;++o)s[o]=rn(i.args[o]);return o=>{for(let a=0;a<n-1;a+=2)if(s[a](o))return s[a+1](o);return s[n-1](o)}}function Y1(i,e){const n=i.args.length,s=new Array(n);for(let o=0;o<n;++o)s[o]=rn(i.args[o]);return o=>{const a=s[0](o);for(let c=1;c<n;c+=2)if(a===s[c](o))return s[c+1](o);return s[n-1](o)}}function K1(i,e){const n=i.args.length,s=new Array(n);for(let o=0;o<n;++o)s[o]=rn(i.args[o]);return o=>{const a=s[0](o),c=s[1](o);let h,f;for(let m=2;m<n;m+=2){const p=s[m](o);let y=s[m+1](o);const v=Array.isArray(y);if(v&&(y=Gy(y)),p>=c)return m===2?y:v?H1(a,c,h,f,p,y):Es(a,c,h,f,p,y);h=p,f=y}return f}}function Z1(i,e){const n=i.operator,s=i.args.length,o=new Array(s);for(let a=0;a<s;++a)o[a]=rn(i.args[a]);switch(n){case F.ToString:return a=>{const c=o[0](a);return i.args[0].type===tn?Ac(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Es(i,e,n,s,o,a){const c=o-n;if(c===0)return s;const h=e-n,f=i===1?h/c:(Math.pow(i,h)-1)/(Math.pow(i,c)-1);return s+f*(a-s)}function H1(i,e,n,s,o,a){if(o-n===0)return s;const h=yg(s),f=yg(a);let m=f[2]-h[2];m>180?m-=360:m<-180&&(m+=360);const p=[Es(i,e,n,h[0],o,f[0]),Es(i,e,n,h[1],o,f[1]),h[2]+Es(i,e,n,0,o,m),Es(i,e,n,s[3],o,a[3])];return wm(Vy(p))}function $1(i){return!0}function b1(i){const e=km(),n=q1(i,e),s=Om();return function(o,a){if(s.properties=o.getPropertiesInternal(),s.resolution=a,e.featureId){const c=o.getId();c!==void 0?s.featureId=c:s.featureId=null}return e.geometryType&&(s.geometryType=Dm(o.getGeometry())),n(s)}}function Ng(i){const e=km(),n=i.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=lc(i[c],e);const o=Om(),a=new Array(n);return function(c,h){if(o.properties=c.getPropertiesInternal(),o.resolution=h,e.featureId){const m=c.getId();m!==void 0?o.featureId=m:o.featureId=null}let f=0;for(let m=0;m<n;++m){const p=s[m](o);p&&(a[f]=p,f+=1)}return a.length=f,a}}function q1(i,e){const n=i.length,s=new Array(n);for(let o=0;o<n;++o){const a=i[o],c="filter"in a?Mn(a.filter,pt,e):$1;let h;if(Array.isArray(a.style)){const f=a.style.length;h=new Array(f);for(let m=0;m<f;++m)h[m]=lc(a.style[m],e)}else h=[lc(a.style,e)];s[o]={filter:c,styles:h}}return function(o){const a=[];let c=!1;for(let h=0;h<n;++h){const f=s[h].filter;if(f(o)&&!(i[h].else&&c)){c=!0;for(const m of s[h].styles){const p=m(o);p&&a.push(p)}}}return a}}function lc(i,e){const n=Ms(i,"",e),s=Ps(i,"",e),o=Q1(i,e),a=J1(i,e),c=Ct(i,"z-index",e);if(!n&&!s&&!o&&!a&&!$g(i))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(i));const h=new Lr;return function(f){let m=!0;if(n){const p=n(f);p&&(m=!1),h.setFill(p)}if(s){const p=s(f);p&&(m=!1),h.setStroke(p)}if(o){const p=o(f);p&&(m=!1),h.setText(p)}if(a){const p=a(f);p&&(m=!1),h.setImage(p)}return c&&h.setZIndex(c(f)),m?null:h}}function Ms(i,e,n){let s;if(e+"fill-pattern-src"in i)s=rv(i,e+"fill-",n);else{if(i[e+"fill-color"]==="none")return a=>null;s=Bc(i,e+"fill-color",n)}if(!s)return null;const o=new Fs;return function(a){const c=s(a);return c===Mc?null:(o.setColor(c),o)}}function Ps(i,e,n){const s=Ct(i,e+"stroke-width",n),o=Bc(i,e+"stroke-color",n);if(!s&&!o)return null;const a=Cn(i,e+"stroke-line-cap",n),c=Cn(i,e+"stroke-line-join",n),h=Nm(i,e+"stroke-line-dash",n),f=Ct(i,e+"stroke-line-dash-offset",n),m=Ct(i,e+"stroke-miter-limit",n),p=new kl;return function(y){if(o){const v=o(y);if(v===Mc)return null;p.setColor(v)}if(s&&p.setWidth(s(y)),a){const v=a(y);if(v!=="butt"&&v!=="round"&&v!=="square")throw new Error("Expected butt, round, or square line cap");p.setLineCap(v)}if(c){const v=c(y);if(v!=="bevel"&&v!=="round"&&v!=="miter")throw new Error("Expected bevel, round, or miter line join");p.setLineJoin(v)}return h&&p.setLineDash(h(y)),f&&p.setLineDashOffset(f(y)),m&&p.setMiterLimit(m(y)),p}}function Q1(i,e){const n="text-",s=Cn(i,n+"value",e);if(!s)return null;const o=Ms(i,n,e),a=Ms(i,n+"background-",e),c=Ps(i,n,e),h=Ps(i,n+"background-",e),f=Cn(i,n+"font",e),m=Ct(i,n+"max-angle",e),p=Ct(i,n+"offset-x",e),y=Ct(i,n+"offset-y",e),v=yi(i,n+"overflow",e),x=Cn(i,n+"placement",e),E=Ct(i,n+"repeat",e),S=Ul(i,n+"scale",e),L=yi(i,n+"rotate-with-view",e),N=Ct(i,n+"rotation",e),A=Cn(i,n+"align",e),Y=Cn(i,n+"justify",e),D=Cn(i,n+"baseline",e),k=yi(i,n+"keep-upright",e),K=Nm(i,n+"padding",e),J=jl(i,n+"declutter-mode"),X=new Nc({declutterMode:J});return function(Z){if(X.setText(s(Z)),o&&X.setFill(o(Z)),a&&X.setBackgroundFill(a(Z)),c&&X.setStroke(c(Z)),h&&X.setBackgroundStroke(h(Z)),f&&X.setFont(f(Z)),m&&X.setMaxAngle(m(Z)),p&&X.setOffsetX(p(Z)),y&&X.setOffsetY(y(Z)),v&&X.setOverflow(v(Z)),x){const B=x(Z);if(B!=="point"&&B!=="line")throw new Error("Expected point or line for text-placement");X.setPlacement(B)}if(E&&X.setRepeat(E(Z)),S&&X.setScale(S(Z)),L&&X.setRotateWithView(L(Z)),N&&X.setRotation(N(Z)),A){const B=A(Z);if(B!=="left"&&B!=="center"&&B!=="right"&&B!=="end"&&B!=="start")throw new Error("Expected left, right, center, start, or end for text-align");X.setTextAlign(B)}if(Y){const B=Y(Z);if(B!=="left"&&B!=="right"&&B!=="center")throw new Error("Expected left, right, or center for text-justify");X.setJustify(B)}if(D){const B=D(Z);if(B!=="bottom"&&B!=="top"&&B!=="middle"&&B!=="alphabetic"&&B!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");X.setTextBaseline(B)}return K&&X.setPadding(K(Z)),k&&X.setKeepUpright(k(Z)),X}}function J1(i,e){return"icon-src"in i?ev(i,e):"shape-points"in i?tv(i,e):"circle-radius"in i?nv(i,e):null}function ev(i,e){const n="icon-",s=n+"src",o=Fm(i[s],s),a=ml(i,n+"anchor",e),c=Ul(i,n+"scale",e),h=Ct(i,n+"opacity",e),f=ml(i,n+"displacement",e),m=Ct(i,n+"rotation",e),p=yi(i,n+"rotate-with-view",e),y=zg(i,n+"anchor-origin"),v=Ug(i,n+"anchor-x-units"),x=Ug(i,n+"anchor-y-units"),E=lv(i,n+"color"),S=sv(i,n+"cross-origin"),L=ov(i,n+"offset"),N=zg(i,n+"offset-origin"),A=pl(i,n+"width"),Y=pl(i,n+"height"),D=iv(i,n+"size"),k=jl(i,n+"declutter-mode"),K=new Gc({src:o,anchorOrigin:y,anchorXUnits:v,anchorYUnits:x,color:E,crossOrigin:S,offset:L,offsetOrigin:N,height:Y,width:A,size:D,declutterMode:k});return function(J){return h&&K.setOpacity(h(J)),f&&K.setDisplacement(f(J)),m&&K.setRotation(m(J)),p&&K.setRotateWithView(p(J)),c&&K.setScale(c(J)),a&&K.setAnchor(a(J)),K}}function tv(i,e){const n="shape-",s=n+"points",o=n+"radius",a=ac(i[s],s),c=ac(i[o],o),h=Ms(i,n,e),f=Ps(i,n,e),m=Ul(i,n+"scale",e),p=ml(i,n+"displacement",e),y=Ct(i,n+"rotation",e),v=yi(i,n+"rotate-with-view",e),x=pl(i,n+"radius2"),E=pl(i,n+"angle"),S=jl(i,n+"declutter-mode"),L=new Nl({points:a,radius:c,radius2:x,angle:E,declutterMode:S});return function(N){return h&&L.setFill(h(N)),f&&L.setStroke(f(N)),p&&L.setDisplacement(p(N)),y&&L.setRotation(y(N)),v&&L.setRotateWithView(v(N)),m&&L.setScale(m(N)),L}}function nv(i,e){const n="circle-",s=Ms(i,n,e),o=Ps(i,n,e),a=Ct(i,n+"radius",e),c=Ul(i,n+"scale",e),h=ml(i,n+"displacement",e),f=Ct(i,n+"rotation",e),m=yi(i,n+"rotate-with-view",e),p=jl(i,n+"declutter-mode"),y=new Fl({radius:5,declutterMode:p});return function(v){return a&&y.setRadius(a(v)),s&&y.setFill(s(v)),o&&y.setStroke(o(v)),h&&y.setDisplacement(h(v)),f&&y.setRotation(f(v)),m&&y.setRotateWithView(m(v)),c&&y.setScale(c(v)),y}}function Ct(i,e,n){if(!(e in i))return;const s=Mn(i[e],Re,n);return function(o){return ac(s(o),e)}}function Cn(i,e,n){if(!(e in i))return null;const s=Mn(i[e],xt,n);return function(o){return Fm(s(o),e)}}function rv(i,e,n){const s=Cn(i,e+"pattern-src",n),o=Fg(i,e+"pattern-offset",n),a=Fg(i,e+"pattern-size",n),c=Bc(i,e+"color",n);return function(h){return{src:s(h),offset:o&&o(h),size:a&&a(h),color:c&&c(h)}}}function yi(i,e,n){if(!(e in i))return null;const s=Mn(i[e],pt,n);return function(o){const a=s(o);if(typeof a!="boolean")throw new Error(`Expected a boolean for ${e}`);return a}}function Bc(i,e,n){if(!(e in i))return null;const s=Mn(i[e],tn,n);return function(o){return zm(s(o),e)}}function Nm(i,e,n){if(!(e in i))return null;const s=Mn(i[e],Mr,n);return function(o){return zs(s(o),e)}}function ml(i,e,n){if(!(e in i))return null;const s=Mn(i[e],Mr,n);return function(o){const a=zs(s(o),e);if(a.length!==2)throw new Error(`Expected two numbers for ${e}`);return a}}function Fg(i,e,n){if(!(e in i))return null;const s=Mn(i[e],Mr,n);return function(o){return Um(s(o),e)}}function Ul(i,e,n){if(!(e in i))return null;const s=Mn(i[e],Mr|Re,n);return function(o){return av(s(o),e)}}function pl(i,e){const n=i[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function iv(i,e){const n=i[e];if(n!==void 0){if(typeof n=="number")return St(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function sv(i,e){const n=i[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function zg(i,e){const n=i[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function Ug(i,e){const n=i[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function ov(i,e){const n=i[e];if(n!==void 0)return zs(n,e)}function jl(i,e){const n=i[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function lv(i,e){const n=i[e];if(n!==void 0)return zm(n,e)}function zs(i,e){if(!Array.isArray(i))throw new Error(`Expected an array for ${e}`);const n=i.length;for(let s=0;s<n;++s)if(typeof i[s]!="number")throw new Error(`Expected an array of numbers for ${e}`);return i}function Fm(i,e){if(typeof i!="string")throw new Error(`Expected a string for ${e}`);return i}function ac(i,e){if(typeof i!="number")throw new Error(`Expected a number for ${e}`);return i}function zm(i,e){if(typeof i=="string")return i;const n=zs(i,e),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function Um(i,e){const n=zs(i,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function av(i,e){return typeof i=="number"?i:Um(i,e)}const jg={RENDER_ORDER:"renderOrder"};class uv extends zl{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(jg.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const s=this.getDeclutter();s in e.declutter||(e.declutter[s]=new v1(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(jg.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?Lm:e;const n=cv(e);this.styleFunction_=e===null?void 0:i1(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function cv(i){if(i===void 0)return Lm;if(!i)return null;if(typeof i=="function"||i instanceof Lr)return i;if(!Array.isArray(i))return Ng([i]);if(i.length===0)return[];const e=i.length,n=i[0];if(n instanceof Lr){const o=new Array(e);for(let a=0;a<e;++a){const c=i[a];if(!(c instanceof Lr))throw new Error("Expected a list of style instances");o[a]=c}return o}if("style"in n){const o=new Array(e);for(let a=0;a<e;++a){const c=i[a];if(!("style"in c))throw new Error("Expected a list of rules with a style property");o[a]=c}return b1(o)}return Ng(i)}const hv=5;class dv extends As{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=hv}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Ie()}getData(e){return null}prepareFrame(e){return Ie()}renderFrame(e,n){return Ie()}forEachFeatureAtCoordinate(e,n,s,o,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===Te.LOADED||n.getState()===Te.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Te.LOADED&&n!=Te.ERROR&&e.addEventListener(ye.CHANGE,this.boundHandleImageChange_),n==Te.IDLE&&(e.load(),n=e.getState()),n==Te.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class jm extends rr{constructor(e,n,s,o){super(e),this.inversePixelTransform=n,this.frameState=s,this.context=o}}class fv{constructor(){jf(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(gl(),{get:(e,n)=>{if(typeof gl()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,s)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,s),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let s=0,o=n.length;s<o;++s){const a=n[s];if(typeof a=="function"){a(e);continue}const c=n[++s];if(typeof e[a]=="function")e[a](...c);else{if(typeof c=="function"){e[a]=c(e);continue}e[a]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}let hi=null;function gv(){hi=_t(1,1,void 0,{willReadFrequently:!0})}class mv extends dv{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=gi(),this.pixelTransform=gi(),this.inversePixelTransform=gi(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,s){hi||gv(),hi.clearRect(0,0,1,1);let o;try{hi.drawImage(e,n,s,1,1,0,0,1,1),o=hi.getImageData(0,0,1,1).data}catch{return hi=null,null}return o}getBackground(e){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(e.viewState.resolution)),s||void 0}useContainer(e,n,s){const o=this.getLayer().getClassName();let a,c;if(e&&e.className===o&&(!s||e&&e.style.backgroundColor&&Rl(Ri(e.style.backgroundColor),Ri(s)))){const h=e.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===n?(this.container=e,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=o;let h=a.style;h.position="absolute",h.width="100%",h.height="100%",c=_t();const f=c.canvas;a.appendChild(f),h=f.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=a,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(e,n,s){const o=In(s),a=Ll(s),c=Il(s),h=Sl(s);Dt(n.coordinateToPixelTransform,o),Dt(n.coordinateToPixelTransform,a),Dt(n.coordinateToPixelTransform,c),Dt(n.coordinateToPixelTransform,h);const f=this.inversePixelTransform;Dt(f,o),Dt(f,a),Dt(f,c),Dt(f,h),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(c[0]),Math.round(c[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.clip()}prepareContainer(e,n){const s=e.extent,o=e.viewState.resolution,a=e.viewState.rotation,c=e.pixelRatio,h=Math.round(De(s)/o*c),f=Math.round(dt(s)/o*c);Rs(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,a,-h/2,-f/2),bg(this.inversePixelTransform,this.pixelTransform);const m=p_(this.pixelTransform);if(this.useContainer(n,m,this.getBackground(e)),!this.containerReused){const p=this.context.canvas;p.width!=h||p.height!=f?(p.width=h,p.height=f):this.context.clearRect(0,0,h,f),m!==p.style.transform&&(p.style.transform=m)}}dispatchRenderEvent_(e,n,s){const o=this.getLayer();if(o.hasListener(e)){const a=new jm(e,this.inversePixelTransform,s,n);o.dispatchEvent(a)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(dn.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(dn.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new fv),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(dn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(dn.POSTRENDER,this.context,e))}getRenderTransform(e,n,s,o,a,c,h){const f=a/2,m=c/2,p=o/n,y=-p,v=-e[0]+h,x=-e[1];return Rs(this.tempTransform,f,m,p,y,-s,v,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class pv extends Ln{constructor(e){super(),this.projection=It(e.projection),this.attributions_=Xg(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,o){n.viewResolver=s,n.viewRejector=o})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Xg(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Xg(i){return i?typeof i=="function"?i:(Array.isArray(i)||(i=[i]),e=>i):null}const b={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Wc extends Cl{constructor(e,n,s){super(),s=s||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(ye.CHANGE)}release(){this.state===b.ERROR&&this.setState(b.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==b.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Ie()}getAlpha(e,n){if(!this.transition_)return 1;let s=this.transitionStarts_[e];if(!s)s=n,this.transitionStarts_[e]=s;else if(s===-1)return 1;const o=n-s+1e3/60;return o>=this.transition_?1:Pm(o/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class Xm extends Wc{constructor(e,n,s,o,a,c){super(e,n,c),this.crossOrigin_=o,this.src_=s,this.key=s,this.image_=new Image,o!==null&&(this.image_.crossOrigin=o),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(e){this.image_=e,this.state=b.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=b.ERROR,this.unlistenImage_(),this.image_=_v(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=b.LOADED:this.state=b.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==b.ERROR&&(this.state=b.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==b.IDLE&&(this.state=b.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Hy(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function _v(){const i=_t(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}class yv{constructor(e,n,s){this.decay_=e,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>e;)s-=3;const o=this.points_[n+2]-this.points_[s+2];if(o<1e3/60)return!1;const a=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,a),this.initialVelocity_=Math.sqrt(a*a+c*c)/o,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class vv extends El{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Ie()}calculateMatrices2D(e){const n=e.viewState,s=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;Rs(s,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),bg(o,s)}forEachFeatureAtCoordinate(e,n,s,o,a,c,h,f){let m;const p=n.viewState;function y(D,k,K,J){return a.call(c,k,D?K:null,J)}const v=p.projection,x=V_(e.slice(),v),E=[[0,0]];if(v.canWrapX()&&o){const D=v.getExtent(),k=De(D);E.push([-k,0],[k,0])}const S=n.layerStatesArray,L=S.length,N=[],A=[];for(let D=0;D<E.length;D++)for(let k=L-1;k>=0;--k){const K=S[k],J=K.layer;if(J.hasRenderer()&&Xc(K,p)&&h.call(f,J)){const X=J.getRenderer(),Z=J.getSource();if(X&&Z){const B=Z.getWrapX()?x:e,de=y.bind(null,K.managed);A[0]=B[0]+E[D][0],A[1]=B[1]+E[D][1],m=X.forEachFeatureAtCoordinate(A,n,s,de,N)}if(m)return m}}if(N.length===0)return;const Y=1/N.length;return N.forEach((D,k)=>D.distanceSq+=k*Y),N.sort((D,k)=>D.distanceSq-k.distanceSq),N.some(D=>m=D.callback(D.feature,D.layer,D.geometry)),m}hasFeatureAtCoordinate(e,n,s,o,a,c){return this.forEachFeatureAtCoordinate(e,n,s,o,al,this,a,c)!==void 0}getMap(){return this.map_}renderFrame(e){Ie()}scheduleExpireIconCache(e){Wt.canExpireCache()&&e.postRenderFunctions.push(Ev)}}function Ev(i,e){Wt.expire()}class wv extends vv{constructor(e){super(e),this.fontChangeListenerKey_=Pe(r1,ws.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Ol+" ol-layers";const s=e.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const s=this.getMap();if(s.hasListener(e)){const o=new jm(e,void 0,n);s.dispatchEvent(o)}}disposeInternal(){Ve(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(dn.PRECOMPOSE,e);const n=e.layerStatesArray.sort((h,f)=>h.zIndex-f.zIndex);n.some(h=>h.layer instanceof uv&&h.layer.getDeclutter())&&(e.declutter={});const o=e.viewState;this.children_.length=0;const a=[];let c=null;for(let h=0,f=n.length;h<f;++h){const m=n[h];e.layerIndex=h;const p=m.layer,y=p.getSourceState();if(!Xc(m,o)||y!="ready"&&y!="undefined"){p.unrender();continue}const v=p.render(e,c);v&&(v!==c&&(this.children_.push(v),c=v),a.push(m))}this.declutter(e,a),Zy(this.element_,this.children_),this.dispatchRenderEvent(dn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let s=n.length-1;s>=0;--s){const o=n[s],a=o.layer;a.getDeclutter()&&a.renderDeclutter(e,o)}n.forEach(s=>s.layer.renderDeferred(e))}}}class er extends rr{constructor(e,n){super(e),this.layer=n}}const Zu={LAYERS:"layers"};class Ci extends Mm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let s=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Zu.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Sn(s.slice(),{unique:!0}):Oe(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Sn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ve),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Pe(e,Bt.ADD,this.handleLayersAdd_,this),Pe(e,Bt.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Ve);xl(this.listenerKeys_);const n=e.getArray();for(let s=0,o=n.length;s<o;s++){const a=n[s];this.registerLayerListeners_(a),this.dispatchEvent(new er("addlayer",a))}this.changed()}registerLayerListeners_(e){const n=[Pe(e,ws.PROPERTYCHANGE,this.handleLayerChange_,this),Pe(e,ye.CHANGE,this.handleLayerChange_,this)];e instanceof Ci&&n.push(Pe(e,"addlayer",this.handleLayerGroupAdd_,this),Pe(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ht(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new er("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new er("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new er("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,s=ht(n);this.listenerKeys_[s].forEach(Ve),delete this.listenerKeys_[s],this.dispatchEvent(new er("removelayer",n)),this.changed()}getLayers(){return this.get(Zu.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const s=n.getArray();for(let o=0,a=s.length;o<a;++o)this.dispatchEvent(new er("removelayer",s[o]))}this.set(Zu.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const o=this.getLayerState();let a=o.zIndex;!e&&o.zIndex===void 0&&(a=0);for(let c=s,h=n.length;c<h;c++){const f=n[c];f.opacity*=o.opacity,f.visible=f.visible&&o.visible,f.maxResolution=Math.min(f.maxResolution,o.maxResolution),f.minResolution=Math.max(f.minResolution,o.minResolution),f.minZoom=Math.max(f.minZoom,o.minZoom),f.maxZoom=Math.min(f.maxZoom,o.maxZoom),o.extent!==void 0&&(f.extent!==void 0?f.extent=nn(f.extent,o.extent):f.extent=o.extent),f.zIndex===void 0&&(f.zIndex=a)}return n}getSourceState(){return"ready"}}class di extends rr{constructor(e,n,s){super(e),this.map=n,this.frameState=s!==void 0?s:null}}class Qn extends di{constructor(e,n,s,o,a,c){super(e,n,a),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=o!==void 0?o:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const We={SINGLECLICK:"singleclick",CLICK:ye.CLICK,DBLCLICK:ye.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},uc={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class Rv extends Cl{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=Pe(s,uc.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Pe(s,uc.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(ye.TOUCHMOVE,this.boundHandleTouchMove_,Sm?{passive:!1}:!1)}emulateClick_(e){let n=new Qn(We.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Qn(We.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new Qn(We.SINGLECLICK,this.map_,e);this.dispatchEvent(s)},250)}updateActivePointers_(e){const n=e,s=n.pointerId;if(n.type==We.POINTERUP||n.type==We.POINTERCANCEL){delete this.trackedTouches_[s];for(const o in this.trackedTouches_)if(this.trackedTouches_[o].target!==n.target){delete this.trackedTouches_[o];break}}else(n.type==We.POINTERDOWN||n.type==We.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new Qn(We.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ve),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new Qn(We.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Pe(s,We.POINTERMOVE,this.handlePointerMove_,this),Pe(s,We.POINTERUP,this.handlePointerUp_,this),Pe(this.element_,We.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Pe(this.element_.getRootNode(),We.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new Qn(We.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Qn(We.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ve(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ye.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ve(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ve),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Jn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},ct={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},_l=1/0;class Tv{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,xl(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,s=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const o=this.keyFunction_(s);return delete this.queuedElements_[o],s}enqueue(e){Oe(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=_l?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,s=this.priorities_,o=n.length,a=n[e],c=s[e],h=e;for(;e<o>>1;){const f=this.getLeftChildIndex_(e),m=this.getRightChildIndex_(e),p=m<o&&s[m]<s[f]?m:f;n[e]=n[p],s[e]=s[p],e=p}n[e]=a,s[e]=c,this.siftDown_(h,e)}siftDown_(e,n){const s=this.elements_,o=this.priorities_,a=s[n],c=o[n];for(;n>e;){const h=this.getParentIndex_(n);if(o[h]>c)s[n]=s[h],o[n]=o[h],n=h;else break}s[n]=a,o[n]=c}reprioritize(){const e=this.priorityFunction_,n=this.elements_,s=this.priorities_;let o=0;const a=n.length;let c,h,f;for(h=0;h<a;++h)c=n[h],f=e(c),f==_l?delete this.queuedElements_[this.keyFunction_(c)]:(s[o]=f,n[o++]=c);n.length=o,s.length=o,this.heapify_()}}class xv extends Tv{constructor(e,n){super(function(s){return e.apply(null,s)},function(s){return s[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(ye.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,s=n.getState();if(s===b.LOADED||s===b.ERROR||s===b.EMPTY){s!==b.ERROR&&n.removeEventListener(ye.CHANGE,this.boundHandleTileChange_);const o=n.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let s=0;for(;this.tilesLoading_<e&&s<n&&this.getCount()>0;){const o=this.dequeue()[0],a=o.getKey();o.getState()===b.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++s,o.load())}}}function Cv(i,e,n,s,o){if(!i||!(n in i.wantedTiles)||!i.wantedTiles[n][e.getKey()])return _l;const a=i.viewState.center,c=s[0]-a[0],h=s[1]-a[1];return 65536*Math.log(o)+Math.sqrt(c*c+h*h)/o}class Yc extends Ln{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let s=0,o=this.listenerKeys.length;s<o;++s)Ve(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=e,e){const s=this.target_??e.getOverlayContainerStopEvent();this.element&&s.appendChild(this.element),this.render!==ul&&this.listenerKeys.push(Pe(e,Jn.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Sv extends Yc{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",s=e.tipLabel!==void 0?e.tipLabel:"Attributions",o=e.expandClassName!==void 0?e.expandClassName:n+"-expand",a=e.collapseLabel!==void 0?e.collapseLabel:"",c=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=c):this.collapseLabel_=a;const h=e.label!==void 0?e.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=o):this.label_=h;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(ye.CLICK,this.handleClick_.bind(this),!1);const m=n+" "+Ol+" "+Oc+(this.collapsed_&&this.collapsible_?" "+Rg:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=m,p.appendChild(this.toggleButton_),p.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(o=>o.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(o=>s.add(o)):s.add(this.attributions_)),!this.overrideCollapsible_){const o=!n.some(a=>{var c;return((c=a.getSource())==null?void 0:c.getAttributionsCollapsible())===!1});this.setCollapsible(o)}return Array.from(s)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(o=>d_(()=>o))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!Rl(n,this.renderedAttributions_)){Ky(this.ulElement_);for(let o=0,a=n.length;o<a;++o){const c=document.createElement("li");c.innerHTML=n[o],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Rg),this.collapsed_?vg(this.collapseLabel_,this.label_):vg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Iv extends Yc{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",s=e.label!==void 0?e.label:"",o=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=o,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(o));const a=e.tipLabel?e.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=a,c.appendChild(this.label_),c.addEventListener(ye.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+Ol+" "+Oc,f=this.element;f.className=h,f.appendChild(c),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(tl)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:xi}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const o="rotate("+s+"rad)";if(this.autoHide_){const a=this.element.classList.contains(tl);!a&&s===0?this.element.classList.add(tl):a&&s!==0&&this.element.classList.remove(tl)}this.label_.style.transform=o}this.rotation_=s}}class Lv extends Yc{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",s=e.delta!==void 0?e.delta:1,o=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",a=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",c=e.zoomInLabel!==void 0?e.zoomInLabel:"+",h=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",f=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",m=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=o,p.setAttribute("type","button"),p.title=f,p.appendChild(typeof c=="string"?document.createTextNode(c):c),p.addEventListener(ye.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=a,y.setAttribute("type","button"),y.title=m,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(ye.CLICK,this.handleClick_.bind(this,-s),!1);const v=n+" "+Ol+" "+Oc,x=this.element;x.className=v,x.appendChild(p),x.appendChild(y),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const s=this.getMap().getView();if(!s)return;const o=s.getZoom();if(o!==void 0){const a=s.getConstrainedZoom(o+e);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:a,duration:this.duration_,easing:xi})):s.setZoom(a)}}}function Mv(i){i=i||{};const e=new Sn;return(i.zoom!==void 0?i.zoom:!0)&&e.push(new Lv(i.zoomOptions)),(i.rotate!==void 0?i.rotate:!0)&&e.push(new Iv(i.rotateOptions)),(i.attribution!==void 0?i.attribution:!0)&&e.push(new Sv(i.attributionOptions)),e}const Gg={ACTIVE:"active"};class Us extends Ln{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Gg.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Gg.ACTIVE,e)}setMap(e){this.map_=e}}function Pv(i,e,n){const s=i.getCenterInternal();if(s){const o=[s[0]+e[0],s[1]+e[1]];i.animateInternal({duration:n!==void 0?n:250,easing:f1,center:i.getConstrainedCenter(o)})}}function Kc(i,e,n,s){const o=i.getZoom();if(o===void 0)return;const a=i.getConstrainedZoom(o+e),c=i.getResolutionForZoom(a);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:xi})}class Av extends Us{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==We.DBLCLICK){const s=e.originalEvent,o=e.map,a=e.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=o.getView();Kc(h,c,a,this.duration_),s.preventDefault(),n=!0}return!n}}class js extends Us{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==We.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==We.POINTERUP){const s=this.handleUpEvent(e);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(e.type==We.POINTERDOWN){const s=this.handleDownEvent(e);this.handlingDownUpSequence=s,n=this.stopDown(s)}else e.type==We.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Zc(i){const e=i.length;let n=0,s=0;for(let o=0;o<e;o++)n+=i[o].clientX,s+=i[o].clientY;return{clientX:n/e,clientY:s/e}}function cc(i){const e=arguments;return function(n){let s=!0;for(let o=0,a=e.length;o<a&&(s=s&&e[o](n),!!s);++o);return s}}const kv=function(i){const e=i.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Dv=function(i){const e=i.map.getTargetElement(),n=e.getRootNode(),s=i.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):e.contains(s)},Gm=function(i){const e=i.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?Dv(i):!0},Ov=al,Vm=function(i){const e=i.originalEvent;return e.button==0&&!(Yy&&Rm&&e.ctrlKey)},Bm=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Nv=function(i){const e=i.originalEvent;return Rm?e.metaKey:e.ctrlKey},Fv=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Wm=function(i){const e=i.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Hu=function(i){const e=i.originalEvent;return Oe(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},zv=function(i){const e=i.originalEvent;return Oe(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class Uv extends js{constructor(e){super({stopDown:Tl}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:cc(Bm,zv);this.condition_=e.onFocusOnly?cc(Gm,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,o=n.getEventPixel(Zc(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){const a=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],h=e.map.getView();G_(a,h.getResolution()),Ec(a,h.getRotation()),h.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=s.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),f=n.getCoordinateFromPixelInternal([h[0]-o*Math.cos(a),h[1]-o*Math.sin(a)]);s.animateInternal({center:s.getConstrainedCenter(f),duration:500,easing:xi})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const s=e.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class jv extends js{constructor(e){e=e||{},super({stopDown:Tl}),this.condition_=e.condition?e.condition:kv,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Hu(e))return;const n=e.map,s=n.getView();if(s.getConstraints().rotation===jc)return;const o=n.getSize(),a=e.pixel,c=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(e){return Hu(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Hu(e)&&Vm(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Xv extends El{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,s="px",o=this.element_.style;o.left=Math.min(e[0],n[0])+s,o.top=Math.min(e[1],n[1])+s,o.width=Math.abs(n[0]-e[0])+s,o.height=Math.abs(n[1]-e[1])+s}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,o=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new Is([o])}getGeometry(){return this.geometry_}}const oi={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class gs extends rr{constructor(e,n,s){super(e),this.coordinate=n,this.mapBrowserEvent=s}}class Gv extends js{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Xv(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Vm,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,s){const o=s[0]-n[0],a=s[1]-n[1];return o*o+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new gs(oi.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new gs(n?oi.BOXEND:oi.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new gs(oi.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new gs(oi.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new gs(oi.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class Vv extends Gv{constructor(e){e=e||{};const n=e.condition?e.condition:Fv;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const s=this.getMap().getView();let o=this.getGeometry();if(this.out_){const a=s.rotatedExtentForGeometry(o),c=s.getResolutionForExtentInternal(a),h=s.getResolution()/c;o=o.clone(),o.scale(h*h)}s.fitInternal(o,{duration:this.duration_,easing:xi})}}const xr={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Bv extends Us{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Bm(n)&&Wm(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==ye.KEYDOWN){const s=e.originalEvent,o=s.key;if(this.condition_(e)&&(o==xr.DOWN||o==xr.LEFT||o==xr.RIGHT||o==xr.UP)){const c=e.map.getView(),h=c.getResolution()*this.pixelDelta_;let f=0,m=0;o==xr.DOWN?m=-h:o==xr.LEFT?f=-h:o==xr.RIGHT?f=h:m=h;const p=[f,m];Ec(p,c.getRotation()),Pv(c,p,this.duration_),s.preventDefault(),n=!0}}return!n}}class Wv extends Us{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!Nv(n)&&Wm(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==ye.KEYDOWN||e.type==ye.KEYPRESS){const s=e.originalEvent,o=s.key;if(this.condition_(e)&&(o==="+"||o==="-")){const a=e.map,c=o==="+"?this.delta_:-this.delta_,h=a.getView();Kc(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}class Yv extends Us{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Ov;this.condition_=e.onFocusOnly?cc(Gm,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==ye.WHEEL)return!0;const s=e.map,o=e.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let a;if(e.type==ye.WHEEL&&(a=o.deltaY,By&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Tm),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=a;const f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),f),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let s=-He(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),Kc(n,s,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class Kv extends js{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Tl),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const s=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-s.clientY,o.clientX-s.clientX);if(this.lastAngle_!==void 0){const f=a-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=f}this.lastAngle_=a;const c=e.map,h=c.getView();h.getConstraints().rotation!==jc&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Zc(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class Zv extends js{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Tl),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const s=this.targetPointers[0],o=this.targetPointers[1],a=s.clientX-o.clientX,c=s.clientY-o.clientY,h=Math.sqrt(a*a+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const f=e.map,m=f.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(Zc(this.targetPointers))),f.render(),m.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const s=e.map.getView(),o=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,o),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Hv(i){i=i||{};const e=new Sn,n=new yv(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0)&&e.push(new jv),(i.doubleClickZoom!==void 0?i.doubleClickZoom:!0)&&e.push(new Av({delta:i.zoomDelta,duration:i.zoomDuration})),(i.dragPan!==void 0?i.dragPan:!0)&&e.push(new Uv({onFocusOnly:i.onFocusOnly,kinetic:n})),(i.pinchRotate!==void 0?i.pinchRotate:!0)&&e.push(new Kv),(i.pinchZoom!==void 0?i.pinchZoom:!0)&&e.push(new Zv({duration:i.zoomDuration})),(i.keyboard!==void 0?i.keyboard:!0)&&(e.push(new Bv),e.push(new Wv({delta:i.zoomDelta,duration:i.zoomDuration}))),(i.mouseWheelZoom!==void 0?i.mouseWheelZoom:!0)&&e.push(new Yv({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(i.shiftDragZoom!==void 0?i.shiftDragZoom:!0)&&e.push(new Vv({duration:i.zoomDuration})),e}function Ym(i){if(i instanceof zl){i.setMapInternal(null);return}i instanceof Ci&&i.getLayers().forEach(Ym)}function Km(i,e){if(i instanceof zl){i.setMapInternal(e);return}if(i instanceof Ci){const n=i.getLayers().getArray();for(let s=0,o=n.length;s<o;++s)Km(n[s],e)}}let $v=class extends Ln{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=bv(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Tm,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=gi(),this.pixelToCoordinateTransform_=gi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Mv(),this.interactions=n.interactions||Hv({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new xv(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ct.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(ct.VIEW,this.handleViewChanged_),this.addChangeListener(ct.SIZE,this.handleSizeChanged_),this.addChangeListener(ct.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;e.view&&!(e.view instanceof hn)&&e.view.then(function(o){s.setView(new hn(o))}),this.controls.addEventListener(Bt.ADD,o=>{o.element.setMap(this)}),this.controls.addEventListener(Bt.REMOVE,o=>{o.element.setMap(null)}),this.interactions.addEventListener(Bt.ADD,o=>{o.element.setMap(this)}),this.interactions.addEventListener(Bt.REMOVE,o=>{o.element.setMap(null)}),this.overlays_.addEventListener(Bt.ADD,o=>{this.addOverlayInternal_(o.element)}),this.overlays_.addEventListener(Bt.REMOVE,o=>{const a=o.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],o.element.setMap(null)}),this.controls.forEach(o=>{o.setMap(this)}),this.interactions.forEach(o=>{o.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Km(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,s){if(!this.frameState_||!this.renderer_)return;const o=this.getCoordinateFromPixelInternal(e);s=s!==void 0?s:{};const a=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:al,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,h,n,null,c,null)}getFeaturesAtPixel(e,n){const s=[];return this.forEachFeatureAtPixel(e,function(o){s.push(o)},n),s}getAllLayers(){const e=[];function n(s){s.forEach(function(o){o instanceof Ci?n(o.getLayers()):e.push(o)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const o=n.layerFilter!==void 0?n.layerFilter:al,a=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,a,c,o,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const s=this.viewport_.getBoundingClientRect(),o=this.getSize(),a=s.width/o[0],c=s.height/o[1],h="changedTouches"in e?e.changedTouches[0]:e;return[(h.clientX-s.left)/a,(h.clientY-s.top)/c]}getTarget(){return this.get(ct.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return oc(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Dt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ct.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Sn){n.setLayers(e);return}const s=n.getLayers();s.clear(),s.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=e.length;n<s;++n){const o=e[n];if(!o.visible)continue;const a=o.layer.getRenderer();if(a&&!a.ready)return!0;const c=o.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(e){const n=xn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Dt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ct.SIZE)}getView(){return this.get(ct.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,s,o){return Cv(this.frameState_,e,n,s,o)}handleBrowserEvent(e,n){n=n||e.type;const s=new Qn(n,this,e);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,s=n.type;if(s===uc.POINTERDOWN||s===ye.WHEEL||s===ye.KEYDOWN){const o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,c=n.target,h=a instanceof ShadowRoot?a.host===c?a.host.ownerDocument:a:a===o?o.documentElement:a;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const o=this.getInteractions().getArray().slice();for(let a=o.length-1;a>=0;a--){const c=o[a];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let o=this.maxTilesLoading_,a=o;if(e){const c=e.viewHints;if(c[Vt.ANIMATING]||c[Vt.INTERACTING]){const h=Date.now()-e.time>8;o=h?0:8,a=h?0:2}}n.getTilesLoading()<o&&(n.reprioritize(),n.loadMoreTiles(o,a))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(dn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(dn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new di(Jn.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new di(Jn.LOADSTART,this,e))));const s=this.postRenderFunctions_;if(e)for(let o=0,a=s.length;o<a;++o)s[o](this,e);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,o=this.targetChangeHandlerKeys_.length;s<o;++s)Ve(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ye.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ye.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new wv(this)),this.mapBrowserEventHandler_=new Rv(this,this.moveTolerance_);for(const a in We)this.mapBrowserEventHandler_.addEventListener(We[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ye.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ye.WHEEL,this.boundHandleBrowserEvent_,Sm?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const a=n.getRootNode();s=a instanceof ShadowRoot?a.host:n}this.targetChangeHandlerKeys_=[Pe(s,ye.KEYDOWN,this.handleBrowserEvent,this),Pe(s,ye.KEYPRESS,this.handleBrowserEvent,this)];const o=n.getRootNode();o instanceof ShadowRoot&&this.resizeObserver_.observe(o.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ve(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ve(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Pe(e,ws.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Pe(e,ye.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ve),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new er("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Pe(e,ws.PROPERTYCHANGE,this.render,this),Pe(e,ye.CHANGE,this.render,this),Pe(e,"addlayer",this.handleLayerAdd_,this),Pe(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=e.length;n<s;++n){const o=e[n].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Ym(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),s=this.getView(),o=this.frameState_;let a=null;if(n!==void 0&&Eg(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:tc(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:ht(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const f=isNaN(h.nextRotation)?h.rotation:h.nextRotation;a.nextExtent=tc(h.nextCenter,h.nextResolution,f,n)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),o&&(!this.previousExtent_||!Os(this.previousExtent_)&&!ec(a.extent,this.previousExtent_))&&(this.dispatchEvent(new di(Jn.MOVESTART,this,o)),this.previousExtent_=ks(this.previousExtent_)),this.previousExtent_&&!a.viewHints[Vt.ANIMATING]&&!a.viewHints[Vt.INTERACTING]&&!ec(a.extent,this.previousExtent_)&&(this.dispatchEvent(new di(Jn.MOVEEND,this,a)),y_(a.extent,this.previousExtent_))),this.dispatchEvent(new di(Jn.POSTRENDER,this,a)),this.renderComplete_=(this.hasListener(Jn.LOADSTART)||this.hasListener(Jn.LOADEND)||this.hasListener(dn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new er("removelayer",n)),this.set(ct.LAYERGROUP,e)}setSize(e){this.set(ct.SIZE,e)}setTarget(e){this.set(ct.TARGET,e)}setView(e){if(!e||e instanceof hn){this.set(ct.VIEW,e);return}this.set(ct.VIEW,new hn);const n=this;e.then(function(s){n.setView(new hn(s))})}updateSize(){const e=this.getTargetElement();let n;if(e){const o=getComputedStyle(e),a=e.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),c=e.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(a)&&!isNaN(c)&&(n=[Math.max(0,a),Math.max(0,c)],!Eg(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&um("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!Rl(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function bv(i){let e=null;i.keyboardEventTarget!==void 0&&(e=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const n={},s=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new Ci({layers:i.layers});n[ct.LAYERGROUP]=s,n[ct.TARGET]=i.target,n[ct.VIEW]=i.view instanceof hn?i.view:new hn;let o;i.controls!==void 0&&(Array.isArray(i.controls)?o=new Sn(i.controls.slice()):(Oe(typeof i.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),o=i.controls));let a;i.interactions!==void 0&&(Array.isArray(i.interactions)?a=new Sn(i.interactions.slice()):(Oe(typeof i.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),a=i.interactions));let c;return i.overlays!==void 0?Array.isArray(i.overlays)?c=new Sn(i.overlays.slice()):(Oe(typeof i.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=i.overlays):c=new Sn,{controls:o,interactions:a,keyboardEventTarget:e,overlays:c,values:n}}class qv{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof El&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const s=this.entries_[e];return Oe(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(e){const n=this.entries_[e];return Oe(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)e[n++]=s.key_;return e}getValues(){const e=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)e[n++]=s.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Oe(!(e in this.entries_),"Tried to set a value for a key that is used already");const s={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[e]=s,++this.count_}setSize(e){this.highWaterMark=e}}function yl(i,e,n,s){return s!==void 0?(s[0]=i,s[1]=e,s[2]=n,s):[i,e,n]}function Qv(i,e,n){return i+"/"+e+"/"+n}function Jv(i){return eE(i[0],i[1],i[2])}function eE(i,e,n){return(e<<i)+n}function tE(i,e){const n=i[0],s=i[1],o=i[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const a=e.getFullTileRange(n);return a?a.containsXY(s,o):!0}class Hc{constructor(e,n,s,o){this.minX=e,this.maxX=n,this.minY=s,this.maxY=o}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function li(i,e,n,s,o){return o!==void 0?(o.minX=i,o.maxX=e,o.minY=n,o.maxY=s,o):new Hc(i,e,n,s)}const ol={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class nE extends zl{constructor(e){e=e||{};const n=Object.assign({},e),s=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(ol.PRELOAD)}setPreload(e){this.set(ol.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ol.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ol.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}function vl(i){return i instanceof Image||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageBitmap?i:null}function rE(i){return i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Float32Array||i instanceof DataView?i:null}const iE=new Error("disposed");let ai=null;function sE(i){ai||(ai=_t(i.width,i.height,void 0,{willReadFrequently:!0}));const e=ai.canvas,n=i.width;e.width!==n&&(e.width=n);const s=i.height;return e.height!==s&&(e.height=s),ai.clearRect(0,0,n,s),ai.drawImage(i,0,0),ai.getImageData(0,0,n,s).data}const oE=[256,256];class hc extends Wc{constructor(e){const n=b.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=vl(this.data_);return e?[e.width,e.height]:oE}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==b.IDLE&&this.state!==b.ERROR)return;this.state=b.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=b.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=b.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(iE),this.controller_=null),super.disposeInternal()}}const Zm=.5,lE=10,Vg=.25;class Hm{constructor(e,n,s,o,a,c,h){this.sourceProj_=e,this.targetProj_=n;let f={};const m=h?cy(Y=>Dt(h,Al(Y,this.targetProj_,this.sourceProj_))):Cs(this.targetProj_,this.sourceProj_);this.transformInv_=function(Y){const D=Y[0]+"/"+Y[1];return f[D]||(f[D]=m(Y)),f[D]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&De(o)>=De(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?De(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?De(this.targetProj_.getExtent()):null;const p=In(s),y=Ll(s),v=Il(s),x=Sl(s),E=this.transformInv_(p),S=this.transformInv_(y),L=this.transformInv_(v),N=this.transformInv_(x),A=lE+(c?Math.max(0,Math.ceil(Math.log2(Ts(s)/(c*c*256*256)))):0);if(this.addQuad_(p,y,v,x,E,S,L,N,A),this.wrapsXInSource_){let Y=1/0;this.triangles_.forEach(function(D,k,K){Y=Math.min(Y,D.source[0][0],D.source[1][0],D.source[2][0])}),this.triangles_.forEach(D=>{if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-Y>this.sourceWorldWidth_/2){const k=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];k[0][0]-Y>this.sourceWorldWidth_/2&&(k[0][0]-=this.sourceWorldWidth_),k[1][0]-Y>this.sourceWorldWidth_/2&&(k[1][0]-=this.sourceWorldWidth_),k[2][0]-Y>this.sourceWorldWidth_/2&&(k[2][0]-=this.sourceWorldWidth_);const K=Math.min(k[0][0],k[1][0],k[2][0]);Math.max(k[0][0],k[1][0],k[2][0])-K<this.sourceWorldWidth_/2&&(D.source=k)}})}f={}}addTriangle_(e,n,s,o,a,c){this.triangles_.push({source:[o,a,c],target:[e,n,s]})}addQuad_(e,n,s,o,a,c,h,f,m){const p=Qf([a,c,h,f]),y=this.sourceWorldWidth_?De(p)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&y>.5&&y<1;let E=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const L=Qf([e,n,s,o]);E=De(L)/this.targetWorldWidth_>Vg||E}!x&&this.sourceProj_.isGlobal()&&y&&(E=y>Vg||E)}if(!E&&this.maxSourceExtent_&&isFinite(p[0])&&isFinite(p[1])&&isFinite(p[2])&&isFinite(p[3])&&!Ds(p,this.maxSourceExtent_))return;let S=0;if(!E&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(f[0])||!isFinite(f[1]))){if(m>0)E=!0;else if(S=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),S!=1&&S!=2&&S!=4&&S!=8)return}if(m>0){if(!E){const L=[(e[0]+s[0])/2,(e[1]+s[1])/2],N=this.transformInv_(L);let A;x?A=(_i(a[0],v)+_i(h[0],v))/2-_i(N[0],v):A=(a[0]+h[0])/2-N[0];const Y=(a[1]+h[1])/2-N[1];E=A*A+Y*Y>this.errorThresholdSquared_}if(E){if(Math.abs(e[0]-s[0])<=Math.abs(e[1]-s[1])){const L=[(n[0]+s[0])/2,(n[1]+s[1])/2],N=this.transformInv_(L),A=[(o[0]+e[0])/2,(o[1]+e[1])/2],Y=this.transformInv_(A);this.addQuad_(e,n,L,A,a,c,N,Y,m-1),this.addQuad_(A,L,s,o,Y,N,h,f,m-1)}else{const L=[(e[0]+n[0])/2,(e[1]+n[1])/2],N=this.transformInv_(L),A=[(s[0]+o[0])/2,(s[1]+o[1])/2],Y=this.transformInv_(A);this.addQuad_(e,L,A,o,a,N,Y,f,m-1),this.addQuad_(L,n,s,A,N,c,h,Y,m-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}S&11||this.addTriangle_(e,s,o,a,h,f),S&14||this.addTriangle_(e,s,n,a,h,c),S&&(S&13||this.addTriangle_(n,o,e,c,f,a),S&7||this.addTriangle_(n,o,s,c,f,h))}calculateSourceExtent(){const e=ir();return this.triangles_.forEach(function(n,s,o){const a=n.source;ll(e,a[0]),ll(e,a[1]),ll(e,a[2])}),e}getTriangles(){return this.triangles_}}let $u;const vi=[];function Bg(i,e,n,s,o){i.beginPath(),i.moveTo(0,0),i.lineTo(e,n),i.lineTo(s,o),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,s)+1,Math.max(n,o)),i.restore()}function bu(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function aE(){if($u===void 0){const i=_t(6,6,vi);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",Bg(i,4,5,4,0),Bg(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;$u=bu(e,0)||bu(e,4)||bu(e,8),kc(i),vi.push(i.canvas)}return $u}function Wg(i,e,n,s){const o=Al(n,e,i);let a=ug(e,s,n);const c=e.getMetersPerUnit();c!==void 0&&(a*=c);const h=i.getMetersPerUnit();h!==void 0&&(a/=h);const f=i.getExtent();if(!f||_c(f,o)){const m=ug(i,a,o)/a;isFinite(m)&&m>0&&(a/=m)}return a}function $m(i,e,n,s){const o=Ei(n);let a=Wg(i,e,o,s);return(!isFinite(a)||a<=0)&&tm(n,function(c){return a=Wg(i,e,c,s),isFinite(a)&&a>0}),a}function uE(i,e,n,s,o,a,c,h,f,m,p,y,v,x){const E=_t(Math.round(n*i),Math.round(n*e),vi);if(y||(E.imageSmoothingEnabled=!1),f.length===0)return E.canvas;E.scale(n,n);function S(k){return Math.round(k*n)/n}E.globalCompositeOperation="lighter";const L=ir();f.forEach(function(k,K,J){Jg(L,k.extent)});let N;const A=n/s,Y=(y?1:1+Math.pow(2,-24))/A;{if(N=_t(Math.round(De(L)*A),Math.round(dt(L)*A),vi),y||(N.imageSmoothingEnabled=!1),o&&x){const k=(o[0]-L[0])*A,K=-(o[3]-L[3])*A,J=De(o)*A,X=dt(o)*A;N.rect(k,K,J,X),N.clip()}f.forEach(function(k,K,J){if(k.image.width>0&&k.image.height>0){if(k.clipExtent){N.save();const se=(k.clipExtent[0]-L[0])*A,ue=-(k.clipExtent[3]-L[3])*A,pe=De(k.clipExtent)*A,re=dt(k.clipExtent)*A;N.rect(y?se:Math.round(se),y?ue:Math.round(ue),y?pe:Math.round(se+pe)-Math.round(se),y?re:Math.round(ue+re)-Math.round(ue)),N.clip()}const X=(k.extent[0]-L[0])*A,Z=-(k.extent[3]-L[3])*A,B=De(k.extent)*A,de=dt(k.extent)*A;N.drawImage(k.image,m,m,k.image.width-2*m,k.image.height-2*m,y?X:Math.round(X),y?Z:Math.round(Z),y?B:Math.round(X+B)-Math.round(X),y?de:Math.round(Z+de)-Math.round(Z)),k.clipExtent&&N.restore()}})}const D=In(c);return h.getTriangles().forEach(function(k,K,J){const X=k.source,Z=k.target;let B=X[0][0],de=X[0][1],se=X[1][0],ue=X[1][1],pe=X[2][0],re=X[2][1];const Ee=S((Z[0][0]-D[0])/a),ee=S(-(Z[0][1]-D[1])/a),V=S((Z[1][0]-D[0])/a),H=S(-(Z[1][1]-D[1])/a),z=S((Z[2][0]-D[0])/a),T=S(-(Z[2][1]-D[1])/a),O=B,q=de;B=0,de=0,se-=O,ue-=q,pe-=O,re-=q;const oe=[[se,ue,0,0,V-Ee],[pe,re,0,0,z-Ee],[0,0,se,ue,H-ee],[0,0,pe,re,T-ee]],le=U_(oe);if(!le)return;if(E.save(),E.beginPath(),aE()||!y){E.moveTo(V,H);const me=4,ve=Ee-V,xe=ee-H;for(let Fe=0;Fe<me;Fe++)E.lineTo(V+S((Fe+1)*ve/me),H+S(Fe*xe/(me-1))),Fe!=me-1&&E.lineTo(V+S((Fe+1)*ve/me),H+S((Fe+1)*xe/(me-1)));E.lineTo(z,T)}else E.moveTo(V,H),E.lineTo(Ee,ee),E.lineTo(z,T);E.clip(),E.transform(le[0],le[2],le[1],le[3],Ee,ee),E.translate(L[0]-O,L[3]-q);let ae;if(N)ae=N.canvas,E.scale(Y,-Y);else{const me=f[0],ve=me.extent;ae=me.image,E.scale(De(ve)/ae.width,-dt(ve)/ae.height)}E.drawImage(ae,0,0),E.restore()}),N&&(kc(N),vi.push(N.canvas)),p&&(E.save(),E.globalCompositeOperation="source-over",E.strokeStyle="black",E.lineWidth=1,h.getTriangles().forEach(function(k,K,J){const X=k.target,Z=(X[0][0]-D[0])/a,B=-(X[0][1]-D[1])/a,de=(X[1][0]-D[0])/a,se=-(X[1][1]-D[1])/a,ue=(X[2][0]-D[0])/a,pe=-(X[2][1]-D[1])/a;E.beginPath(),E.moveTo(de,se),E.lineTo(Z,B),E.lineTo(ue,pe),E.closePath(),E.stroke()}),E.restore()),E.canvas}function Xl(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function dc(i,e,n,s,o,a,c){c=c??Xl();const h=1/(i-e),f=1/(n-s),m=1/(o-a);return c[0]=-2*h,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*f,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*m,c[11]=0,c[12]=(i+e)*h,c[13]=(s+n)*f,c[14]=(a+o)*m,c[15]=1,c}function Yg(i,e,n,s,o){return o=o??Xl(),o[0]=i[0]*e,o[1]=i[1]*e,o[2]=i[2]*e,o[3]=i[3]*e,o[4]=i[4]*n,o[5]=i[5]*n,o[6]=i[6]*n,o[7]=i[7]*n,o[8]=i[8]*s,o[9]=i[9]*s,o[10]=i[10]*s,o[11]=i[11]*s,o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15],o}function cE(i,e,n,s,o){o=o??Xl();let a,c,h,f,m,p,y,v,x,E,S,L;return i===o?(o[12]=i[0]*e+i[4]*n+i[8]*s+i[12],o[13]=i[1]*e+i[5]*n+i[9]*s+i[13],o[14]=i[2]*e+i[6]*n+i[10]*s+i[14],o[15]=i[3]*e+i[7]*n+i[11]*s+i[15]):(a=i[0],c=i[1],h=i[2],f=i[3],m=i[4],p=i[5],y=i[6],v=i[7],x=i[8],E=i[9],S=i[10],L=i[11],o[0]=a,o[1]=c,o[2]=h,o[3]=f,o[4]=m,o[5]=p,o[6]=y,o[7]=v,o[8]=x,o[9]=E,o[10]=S,o[11]=L,o[12]=a*e+m*n+x*s+i[12],o[13]=c*e+p*n+E*s+i[13],o[14]=h*e+y*n+S*s+i[14],o[15]=f*e+v*n+L*s+i[15]),o}function hE(i,e,n,s){return s=s??Xl(),s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=i,s[13]=e,s[14]=n,s[15]=1,s}const dE=`
  attribute vec4 a_position;
  attribute vec4 a_texcoord;

  uniform mat4 u_matrix;
  uniform mat4 u_textureMatrix;

  varying vec2 v_texcoord;

  void main() {
    gl_Position = u_matrix * a_position;
    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;
    v_texcoord = texcoord;
  }
`,fE=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (
      v_texcoord.x < 0.0 ||
      v_texcoord.y < 0.0 ||
      v_texcoord.x > 1.0 ||
      v_texcoord.y > 1.0
    ) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;class gE{constructor(e){this.gl_=e,this.program_=fc(e,fE,dE),this.positionLocation=e.getAttribLocation(this.program_,"a_position"),this.texcoordLocation=e.getAttribLocation(this.program_,"a_texcoord"),this.matrixLocation=e.getUniformLocation(this.program_,"u_matrix"),this.textureMatrixLocation=e.getUniformLocation(this.program_,"u_textureMatrix"),this.textureLocation=e.getUniformLocation(this.program_,"u_texture"),this.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),this.positions=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.positions),e.STATIC_DRAW),this.texcoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texcoordBuffer),this.texcoords=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.texcoords),e.STATIC_DRAW)}drawImage(e,n,s,o,a,c,h,f,m,p,y,v,x){const E=this.gl_;f===void 0&&(f=o),m===void 0&&(m=a),c===void 0&&(c=n),h===void 0&&(h=s),p===void 0&&(p=c),y===void 0&&(y=h),v===void 0&&(v=E.canvas.width),x===void 0&&(x=E.canvas.height),E.bindTexture(E.TEXTURE_2D,e),E.useProgram(this.program_),E.bindBuffer(E.ARRAY_BUFFER,this.positionBuffer),E.enableVertexAttribArray(this.positionLocation),E.vertexAttribPointer(this.positionLocation,2,E.FLOAT,!1,0,0),E.bindBuffer(E.ARRAY_BUFFER,this.texcoordBuffer),E.enableVertexAttribArray(this.texcoordLocation),E.vertexAttribPointer(this.texcoordLocation,2,E.FLOAT,!1,0,0);let S=dc(0,v,0,x,-1,1);S=cE(S,f,m,0),S=Yg(S,p,y,1),E.uniformMatrix4fv(this.matrixLocation,!1,S);let L=hE(o/n,a/s,0);L=Yg(L,c/n,h/s,1),E.uniformMatrix4fv(this.textureMatrixLocation,!1,L),E.uniform1i(this.textureLocation,0),E.drawArrays(E.TRIANGLES,0,this.positions.length/2)}}function Kg(i,e,n){const s=i.createShader(e);if(s===null)throw new Error("Shader compilation failed");if(i.shaderSource(s,n),i.compileShader(s),!i.getShaderParameter(s,i.COMPILE_STATUS)){const o=i.getShaderInfoLog(s);throw o===null?new Error("Shader info log creation failed"):new Error(o)}return s}function fc(i,e,n){const s=i.createProgram(),o=Kg(i,i.VERTEX_SHADER,n),a=Kg(i,i.FRAGMENT_SHADER,e);if(s===null)throw new Error("Program creation failed");if(i.attachShader(s,o),i.attachShader(s,a),i.linkProgram(s),!i.getProgramParameter(s,i.LINK_STATUS))throw i.getProgramInfoLog(s)===null?new Error("Program info log creation failed"):new Error;return s}const mE=`
  attribute vec4 a_position;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
  }
`,pE=`
  precision mediump float;

  uniform vec4 u_val;
  void main() {
     gl_FragColor = u_val;
  }
`,_E=`
  attribute vec4 a_position;
  attribute vec2 a_texcoord;

  varying vec2 v_texcoord;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
     v_texcoord = a_texcoord;
  }
`,yE=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;function vE(i,e,n,s){let o;return n&&n.length?o=n.shift():xm?o=new OffscreenCanvas(i||300,e||300):o=document.createElement("canvas"),i&&(o.width=i),e&&(o.height=e),o.getContext("webgl",s)}function EE(i){const e=i.canvas;e.width=1,e.height=1,i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT)}const Zg=[];function wE(i,e,n,s,o,a,c,h,f,m,p,y,v,x){const E=Math.round(s*e),S=Math.round(s*n);i.canvas.width=E,i.canvas.height=S;let L,N;if(N=i.createTexture(),i.bindTexture(i.TEXTURE_2D,N),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),v?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST)),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,E,S,0,i.RGBA,p,null),L=i.createFramebuffer(),i.bindFramebuffer(i.FRAMEBUFFER,L),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,N,0),L===null)throw new Error("Could not create framebuffer");if(N===null)throw new Error("Could not create texture");if(f.length===0)return{width:E,height:S,framebuffer:L,texture:N};const A=ir();f.forEach(function(B,de,se){Jg(A,B.extent)});let Y,D,k;const K=1/o;{if(Y=i.createTexture(),N===null)throw new Error("Could not create texture");D=Math.round(De(A)*K),k=Math.round(dt(A)*K);const B=i.getParameter(i.MAX_TEXTURE_SIZE),de=Math.max(D,k),se=de>B?B/de:1,ue=Math.round(D*se),pe=Math.round(k*se);i.bindTexture(i.TEXTURE_2D,Y),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),v?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST)),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,ue,pe,0,i.RGBA,p,null);const re=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,re),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Y,0);const Ee=new gE(i);f.forEach(function(ee,V,H){const z=(ee.extent[0]-A[0])*K*se,T=-(ee.extent[3]-A[3])*K*se,O=De(ee.extent)*K*se,q=dt(ee.extent)*K*se;if(i.bindFramebuffer(i.FRAMEBUFFER,re),i.viewport(0,0,ue,pe),ee.clipExtent){const oe=(ee.clipExtent[0]-A[0])*K*se,le=-(ee.clipExtent[3]-A[3])*K*se,ae=De(ee.clipExtent)*K*se,me=dt(ee.clipExtent)*K*se;i.enable(i.SCISSOR_TEST),i.scissor(v?oe:Math.round(oe),v?le:Math.round(le),v?ae:Math.round(oe+ae)-Math.round(oe),v?me:Math.round(le+me)-Math.round(le))}Ee.drawImage(ee.texture,ee.width,ee.height,m,m,ee.width-2*m,ee.height-2*m,v?z:Math.round(z),v?T:Math.round(T),v?O:Math.round(z+O)-Math.round(z),v?q:Math.round(T+q)-Math.round(T),ue,pe),i.disable(i.SCISSOR_TEST)}),i.deleteFramebuffer(re)}const J=In(c),X=In(A),Z=B=>{const de=(B[0][0]-J[0])/a*s,se=-(B[0][1]-J[1])/a*s,ue=(B[1][0]-J[0])/a*s,pe=-(B[1][1]-J[1])/a*s,re=(B[2][0]-J[0])/a*s,Ee=-(B[2][1]-J[1])/a*s;return{u1:ue,v1:pe,u0:de,v0:se,u2:re,v2:Ee}};i.bindFramebuffer(i.FRAMEBUFFER,L),i.viewport(0,0,E,S);{const B=[],de=[],se=fc(i,yE,_E);i.useProgram(se);const ue=i.getUniformLocation(se,"u_texture");i.bindTexture(i.TEXTURE_2D,Y),i.uniform1i(ue,0),h.getTriangles().forEach(function(z,T,O){const q=z.source,oe=z.target,{u1:le,v1:ae,u0:me,v0:ve,u2:xe,v2:Fe}=Z(oe),Ot=(q[0][0]-X[0])/o/D,sr=-(q[0][1]-X[1])/o/k,gn=(q[1][0]-X[0])/o/D,or=-(q[1][1]-X[1])/o/k,lr=(q[2][0]-X[0])/o/D,Ar=-(q[2][1]-X[1])/o/k;B.push(le,ae,me,ve,xe,Fe),de.push(gn,or,Ot,sr,lr,Ar)});const pe=dc(0,E,S,0,-1,1),re=i.getUniformLocation(se,"u_matrix");i.uniformMatrix4fv(re,!1,pe);const Ee=i.getAttribLocation(se,"a_position"),ee=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,ee),i.bufferData(i.ARRAY_BUFFER,new Float32Array(B),i.STATIC_DRAW),i.vertexAttribPointer(Ee,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(Ee);const V=i.getAttribLocation(se,"a_texcoord"),H=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,H),i.bufferData(i.ARRAY_BUFFER,new Float32Array(de),i.STATIC_DRAW),i.vertexAttribPointer(V,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(V),i.drawArrays(i.TRIANGLES,0,B.length/2)}if(y){const B=fc(i,pE,mE);i.useProgram(B);const de=dc(0,E,S,0,-1,1),se=i.getUniformLocation(B,"u_matrix");i.uniformMatrix4fv(se,!1,de);const ue=Array.isArray(y)?y:[0,0,0,255],pe=i.getUniformLocation(B,"u_val");i.uniform4fv(pe,ue);const re=i.getAttribLocation(B,"a_position"),Ee=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,Ee),i.vertexAttribPointer(re,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(re);const ee=h.getTriangles().reduce(function(V,H){const z=H.target,{u1:T,v1:O,u0:q,v0:oe,u2:le,v2:ae}=Z(z);return V.concat([T,O,q,oe,q,oe,le,ae,le,ae,T,O])},[]);i.bufferData(i.ARRAY_BUFFER,new Float32Array(ee),i.STATIC_DRAW),i.drawArrays(i.LINES,0,ee.length/2)}return{width:E,height:S,framebuffer:L,texture:N}}class RE extends hc{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.renderEdges_=e.renderEdges!==void 0?e.renderEdges:!1,this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,s=n.getExtent(),o=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?o?nn(s,o):s:o;const a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),c=this.targetTileGrid_.getExtent();let h=this.sourceTileGrid_.getExtent();const f=c?nn(a,c):a;if(Ts(f)===0){this.state=b.EMPTY;return}s&&(h?h=nn(h,s):h=s);const m=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),p=e.targetProj,y=$m(n,p,f,m);if(!isFinite(y)||y<=0){this.state=b.EMPTY;return}const v=e.errorThreshold!==void 0?e.errorThreshold:Zm;if(this.triangulation_=new Hm(n,p,f,h,y*v,m,e.transformMatrix),this.triangulation_.getTriangles().length===0){this.state=b.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(y);let x=this.triangulation_.calculateSourceExtent();if(h&&(n.canWrapX()?(x[1]=He(x[1],h[1],h[3]),x[3]=He(x[3],h[1],h[3])):x=nn(x,h)),!Ts(x))this.state=b.EMPTY;else{let E=0,S=0;n.canWrapX()&&(E=De(s),S=Math.floor((x[0]-s[0])/E)),nm(x.slice(),n,!0).forEach(N=>{const A=this.sourceTileGrid_.getTileRangeForExtentAndZ(N,this.sourceZ_),Y=e.getTileFunction;for(let D=A.minX;D<=A.maxX;D++)for(let k=A.minY;k<=A.maxY;k++){const K=Y(this.sourceZ_,D,k,this.pixelRatio_);if(K){const J=S*E;this.sourceTiles_.push({tile:K,offset:J})}}++S}),this.sourceTiles_.length===0&&(this.state=b.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(D=>{var T;const k=D.tile;if(!k||k.getState()!==b.LOADED)return;const K=k.getSize(),J=this.gutter_;let X;const Z=rE(k.getData());Z?X=Z:(n=!0,X=sE(vl(k.getData())));const B=[K[0]+2*J,K[1]+2*J],de=X instanceof Float32Array,se=B[0]*B[1],ue=de?Float32Array:Uint8ClampedArray,pe=new ue(X.buffer),re=ue.BYTES_PER_ELEMENT,Ee=re*pe.length/se,ee=pe.byteLength/B[1],V=Math.floor(ee/re/B[0]),H=this.sourceTileGrid_.getTileCoordExtent(k.tileCoord);H[0]+=D.offset,H[2]+=D.offset;const z=(T=this.clipExtent_)==null?void 0:T.slice();z&&(z[0]+=D.offset,z[2]+=D.offset),e.push({extent:H,clipExtent:z,data:pe,dataType:ue,bytesPerPixel:Ee,pixelSize:B,bandCount:V})}),this.sourceTiles_.length=0,e.length===0){this.state=b.ERROR,this.changed();return}const s=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(s),a=typeof o=="number"?o:o[0],c=typeof o=="number"?o:o[1],h=a*this.pixelRatio_,f=c*this.pixelRatio_,m=this.targetTileGrid_.getResolution(s),p=this.sourceTileGrid_.getResolution(this.sourceZ_),y=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),v=e[0].bandCount,x=new e[0].dataType(v*h*f),E=vE(h,f,Zg,{premultipliedAlpha:!1,antialias:!1});let S;const L=E.RGBA;let N;e[0].dataType==Float32Array?(N=E.FLOAT,E.getExtension("WEBGL_color_buffer_float"),E.getExtension("OES_texture_float"),E.getExtension("EXT_float_blend"),S=E.getExtension("OES_texture_float_linear")!==null&&this.interpolate):(N=E.UNSIGNED_BYTE,S=this.interpolate);const A=4,Y=Math.ceil(v/A);for(let D=Y-1;D>=0;--D){const k=[];for(let ue=0,pe=e.length;ue<pe;++ue){const re=e[ue],Ee=re.pixelSize,ee=Ee[0],V=Ee[1],H=new re.dataType(A*ee*V),z=re.data;let T=D*A;for(let q=0,oe=H.length;q<oe;q+=A)H[q]=z[T],H[q+1]=z[T+1],H[q+2]=z[T+2],H[q+3]=z[T+3],T+=v;const O=E.createTexture();E.bindTexture(E.TEXTURE_2D,O),S?(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.LINEAR)):(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST)),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texImage2D(E.TEXTURE_2D,0,L,ee,V,0,L,N,H),k.push({extent:re.extent,clipExtent:re.clipExtent,texture:O,width:ee,height:V})}const{framebuffer:K,width:J,height:X}=wE(E,a,c,this.pixelRatio_,p,m,y,this.triangulation_,k,this.gutter_,N,this.renderEdges_,S),Z=J,B=X*A,de=new e[0].dataType(Z*B);E.bindFramebuffer(E.FRAMEBUFFER,K),E.readPixels(0,0,J,X,E.RGBA,N,de);let se=D*A;for(let ue=0,pe=de.length;ue<pe;ue+=A){const re=(Z-1-(ue/B|0))*B+ue%B;x[se]=de[re],x[se+1]=de[re+1],x[se+2]=de[re+2],x[se+3]=de[re+3],se+=v}}if(EE(E),Zg.push(E.canvas),n){const D=_t(a,c),k=new ImageData(x,a);D.putImageData(k,0,0),this.reprojData_=D.canvas}else this.reprojData_=x;this.reprojSize_=[Math.round(h),Math.round(f)],this.state=b.LOADED,this.changed()}load(){if(this.state!==b.IDLE&&this.state!==b.ERROR)return;this.state=b.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s!==b.IDLE&&s!==b.LOADING)return;e++;const o=Pe(n,ye.CHANGE,()=>{const a=n.getState();(a==b.LOADED||a==b.ERROR||a==b.EMPTY)&&(Ve(o),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(o)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==b.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ve),this.sourcesListenerKeys_=null}}class gc extends Wc{constructor(e,n,s,o,a,c,h,f,m,p,y,v){super(a,b.IDLE,v),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=o,this.wrappedTileCoord_=c||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const x=o.getTileCoordExtent(this.wrappedTileCoord_),E=this.targetTileGrid_.getExtent();let S=this.sourceTileGrid_.getExtent();const L=E?nn(x,E):x;if(Ts(L)===0){this.state=b.EMPTY;return}const N=e.getExtent();N&&(S?S=nn(S,N):S=N);const A=o.getResolution(this.wrappedTileCoord_[0]),Y=$m(e,s,L,A);if(!isFinite(Y)||Y<=0){this.state=b.EMPTY;return}const D=p!==void 0?p:Zm;if(this.triangulation_=new Hm(e,s,L,S,Y*D,A),this.triangulation_.getTriangles().length===0){this.state=b.EMPTY;return}this.sourceZ_=n.getZForResolution(Y);let k=this.triangulation_.calculateSourceExtent();if(S&&(e.canWrapX()?(k[1]=He(k[1],S[1],S[3]),k[3]=He(k[3],S[1],S[3])):k=nn(k,S)),!Ts(k))this.state=b.EMPTY;else{let K=0,J=0;e.canWrapX()&&(K=De(N),J=Math.floor((k[0]-N[0])/K)),nm(k.slice(),e,!0).forEach(Z=>{const B=n.getTileRangeForExtentAndZ(Z,this.sourceZ_);for(let de=B.minX;de<=B.maxX;de++)for(let se=B.minY;se<=B.maxY;se++){const ue=m(this.sourceZ_,de,se,h);if(ue){const pe=J*K;this.sourceTiles_.push({tile:ue,offset:pe})}}++J}),this.sourceTiles_.length===0&&(this.state=b.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var o;const s=n.tile;if(s&&s.getState()==b.LOADED){const a=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);a[0]+=n.offset,a[2]+=n.offset;const c=(o=this.clipExtent_)==null?void 0:o.slice();c&&(c[0]+=n.offset,c[2]+=n.offset),e.push({extent:a,clipExtent:c,image:s.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=b.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),o=typeof s=="number"?s:s[0],a=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=uE(o,a,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=b.LOADED}this.changed()}load(){if(this.state==b.IDLE){this.state=b.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==b.IDLE||s==b.LOADING){e++;const o=Pe(n,ye.CHANGE,a=>{const c=n.getState();(c==b.LOADED||c==b.ERROR||c==b.EMPTY)&&(Ve(o),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(o)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,o){n.getState()==b.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ve),this.sourcesListenerKeys_=null}release(){this.canvas_&&(kc(this.canvas_.getContext("2d")),vi.push(this.canvas_),this.canvas_=null),super.release()}}function qu(i,e,n,s){return`${i},${Qv(e,n,s)}`}function Qu(i,e,n){if(!(n in i))return i[n]=new Set([e]),!0;const s=i[n],o=s.has(e);return o||s.add(e),!o}function TE(i,e,n){const s=i[n];return s?s.delete(e):!1}function Hg(i,e){const n=i.layerStatesArray[i.layerIndex];n.extent&&(e=nn(e,Sr(n.extent,i.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const o=s.getTileGridForProjection(i.viewState.projection).getExtent();o&&(e=nn(e,o))}return e}class xE extends mv{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=ir(),this.tempTileRange_=new Hc(0,0,0,0),this.tempTileCoord_=yl(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new qv(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,s,o){const a=this.tileCache_,h=this.getLayer().getSource(),f=qu(h.getKey(),e,n,s);let m;if(a.containsKey(f))m=a.get(f);else{if(m=h.getTile(e,n,s,o.pixelRatio,o.viewState.projection),!m)return null;a.set(f,m)}return m}getTile(e,n,s,o){const a=this.getOrCreateTile(e,n,s,o);return a||null}getData(e){const n=this.frameState;if(!n)return null;const s=this.getLayer(),o=Dt(n.pixelToCoordinateTransform,e.slice()),a=s.getExtent();if(a&&!_c(a,o))return null;const c=n.viewState,h=s.getRenderSource(),f=h.getTileGridForProjection(c.projection),m=h.getTilePixelRatio(n.pixelRatio);for(let p=f.getZForResolution(c.resolution);p>=f.getMinZoom();--p){const y=f.getTileCoordForCoordAndZ(o,p),v=this.getTile(p,y[1],y[2],n);if(!v||v.getState()!==b.LOADED)continue;const x=f.getOrigin(p),E=St(f.getTileSize(p)),S=f.getResolution(p);let L;if(v instanceof Xm||v instanceof gc)L=v.getImage();else if(v instanceof hc){if(L=vl(v.getData()),!L)continue}else continue;const N=Math.floor(m*((o[0]-x[0])/S-y[1]*E[0])),A=Math.floor(m*((x[1]-o[1])/S-y[2]*E[1])),Y=Math.round(m*h.getGutterForProjection(c.projection));return this.getImageData(L,N+Y,A+Y)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==s&&(this.renderedRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=s,!0}enqueueTiles(e,n,s,o,a){const c=e.viewState,h=this.getLayer(),f=h.getRenderSource(),m=f.getTileGridForProjection(c.projection),p=ht(f);p in e.wantedTiles||(e.wantedTiles[p]={});const y=e.wantedTiles[p],v=h.getMapInternal(),x=Math.max(s-a,m.getMinZoom(),m.getZForResolution(Math.min(h.getMaxResolution(),v?v.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):m.getResolution(0)),f.zDirection));for(let E=s;E>=x;--E){const S=m.getTileRangeForExtentAndZ(n,E,this.tempTileRange_),L=m.getResolution(E);for(let N=S.minX;N<=S.maxX;++N)for(let A=S.minY;A<=S.maxY;++A){const Y=this.getTile(E,N,A,e);if(!Y||!Qu(o,Y,E))continue;const k=Y.getKey();if(y[k]=!0,Y.getState()===b.IDLE&&!e.tileQueue.isKeyQueued(k)){const K=yl(E,N,A,this.tempTileCoord_);e.tileQueue.enqueue([Y,p,m.getTileCoordCenter(K),L])}}}}findStaleTile_(e,n){const s=this.tileCache_,o=e[0],a=e[1],c=e[2],h=this.getStaleKeys();for(let f=0;f<h.length;++f){const m=qu(h[f],o,a,c);if(s.containsKey(m)){const p=s.get(m);if(p.getState()===b.LOADED)return p.endTransition(ht(this)),Qu(n,p,o),!0}}return!1}findAltTiles_(e,n,s,o){const a=e.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!a)return!1;let c=!0;const h=this.tileCache_,m=this.getLayer().getRenderSource().getKey();for(let p=a.minX;p<=a.maxX;++p)for(let y=a.minY;y<=a.maxY;++y){const v=qu(m,s,p,y);let x=!1;if(h.containsKey(v)){const E=h.get(v);E.getState()===b.LOADED&&(Qu(o,E,s),x=!0)}x||(c=!1)}return c}renderFrame(e,n){let s=!0;this.renderComplete=!0;const o=e.layerStatesArray[e.layerIndex],a=e.viewState,c=a.projection,h=a.resolution,f=a.center,m=e.pixelRatio,p=this.getLayer(),y=p.getSource(),v=y.getRevision(),x=y.getTileGridForProjection(c),E=x.getZForResolution(h,y.zDirection),S=x.getResolution(E),L=y.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==L&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=L):this.renderedSourceKey_=L;let N=e.extent;const A=y.getTilePixelRatio(m);this.prepareContainer(e,n);const Y=this.context.canvas.width,D=this.context.canvas.height,k=o.extent&&Sr(o.extent,c);k&&(N=nn(N,Sr(o.extent,c)));const K=S*Y/2/A,J=S*D/2/A,X=[f[0]-K,f[1]-J,f[0]+K,f[1]+J],Z={};this.renderedTiles.length=0;const B=p.getPreload();if(e.nextExtent){const z=x.getZForResolution(a.nextResolution,y.zDirection),T=Hg(e,e.nextExtent);this.enqueueTiles(e,T,z,Z,B)}const de=Hg(e,N);if(this.enqueueTiles(e,de,E,Z,0),B>0&&setTimeout(()=>{this.enqueueTiles(e,de,E-1,Z,B-1)},0),!(E in Z))return this.container;const se=ht(this),ue=e.time;for(const z of Z[E]){const T=z.getState();if((z instanceof gc||z instanceof RE)&&T===b.EMPTY)continue;const O=z.tileCoord;if(T===b.LOADED&&z.getAlpha(se,ue)===1){z.endTransition(se);continue}if(T!==b.IDLE&&(s=!1),T!==b.ERROR&&(this.renderComplete=!1),this.findStaleTile_(O,Z)){TE(Z,z,E),e.animate=!0;continue}if(this.findAltTiles_(x,O,E+1,Z))continue;const le=x.getMinZoom();for(let ae=E-1;ae>=le&&!this.findAltTiles_(x,O,ae,Z);--ae);}const pe=S/h*m/A,re=this.getRenderContext(e);Rs(this.tempTransform,Y/2,D/2,pe,pe,0,-Y/2,-D/2),o.extent&&this.clipUnrotated(re,e,k),y.getInterpolate()||(re.imageSmoothingEnabled=!1),this.preRender(re,e);const Ee=Object.keys(Z).map(Number);Ee.sort(wl);let ee;const V=[],H=[];for(let z=Ee.length-1;z>=0;--z){const T=Ee[z],O=y.getTilePixelSize(T,m,c),oe=x.getResolution(T)/S,le=O[0]*oe*pe,ae=O[1]*oe*pe,me=x.getTileCoordForCoordAndZ(In(X),T),ve=x.getTileCoordExtent(me),xe=Dt(this.tempTransform,[A*(ve[0]-X[0])/S,A*(X[3]-ve[3])/S]),Fe=A*y.getGutterForProjection(c);for(const Ot of Z[T]){if(Ot.getState()!==b.LOADED)continue;const sr=Ot.tileCoord,gn=me[1]-sr[1],or=Math.round(xe[0]-(gn-1)*le),lr=me[2]-sr[2],Ar=Math.round(xe[1]-(lr-1)*ae),Nt=Math.round(xe[0]-gn*le),Kt=Math.round(xe[1]-lr*ae),Pn=or-Nt,sn=Ar-Kt,mn=Ee.length===1;let ar=!1;ee=[Nt,Kt,Nt+Pn,Kt,Nt+Pn,Kt+sn,Nt,Kt+sn];for(let ur=0,Xs=V.length;ur<Xs;++ur)if(!mn&&T<H[ur]){const ft=V[ur];Ds([Nt,Kt,Nt+Pn,Kt+sn],[ft[0],ft[3],ft[4],ft[7]])&&(ar||(re.save(),ar=!0),re.beginPath(),re.moveTo(ee[0],ee[1]),re.lineTo(ee[2],ee[3]),re.lineTo(ee[4],ee[5]),re.lineTo(ee[6],ee[7]),re.moveTo(ft[6],ft[7]),re.lineTo(ft[4],ft[5]),re.lineTo(ft[2],ft[3]),re.lineTo(ft[0],ft[1]),re.clip())}V.push(ee),H.push(T),this.drawTile(Ot,e,Nt,Kt,Pn,sn,Fe,mn),ar&&re.restore(),this.renderedTiles.unshift(Ot),this.updateUsedTiles(e.usedTiles,y,Ot)}}if(this.renderedRevision=v,this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!ec(this.renderedExtent_,X),this.renderedExtent_=X,this.renderedPixelRatio=m,this.postRender(this.context,e),o.extent&&re.restore(),re.imageSmoothingEnabled=!0,this.renderComplete){const z=(T,O)=>{const q=ht(y),oe=O.wantedTiles[q],le=oe?Object.keys(oe).length:0;this.updateCacheSize(le),this.tileCache_.expireCache()};e.postRenderFunctions.push(z)}return!this.renderComplete&&!s&&(e.animate=!0),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,s,o,a,c,h,f){let m;if(e instanceof hc){if(m=vl(e.getData()),!m)throw new Error("Rendering array data is not yet supported")}else m=this.getTileImage(e);if(!m)return;const p=this.getRenderContext(n),y=ht(this),v=n.layerStatesArray[n.layerIndex],x=v.opacity*(f?e.getAlpha(y,n.time):1),E=x!==p.globalAlpha;E&&(p.save(),p.globalAlpha=x),p.drawImage(m,h,h,m.width-2*h,m.height-2*h,s,o,a,c),E&&p.restore(),x!==v.opacity?n.animate=!0:f&&e.endTransition(y)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,s){const o=ht(n);o in e||(e[o]={}),e[o][s.getKey()]=!0}}class CE extends nE{constructor(e){super(e)}createRenderer(){return new xE(this,{cacheSize:this.getCacheSize()})}}const Ju={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},ui=[0,0,0],qn=5;class bm{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Oe(c_(this.resolutions_,(o,a)=>a-o),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let o=0,a=this.resolutions_.length-1;o<a;++o)if(!n)n=this.resolutions_[o]/this.resolutions_[o+1];else if(this.resolutions_[o]/this.resolutions_[o+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Oe(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=e.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=In(s)),Oe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Oe(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Fc,Oe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((o,a)=>{const c=new Hc(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,a);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(e,n,s){const o=this.getTileRangeForExtentAndZ(e,n);for(let a=o.minX,c=o.maxX;a<=c;++a)for(let h=o.minY,f=o.maxY;h<=f;++h)s([n,a,h])}forEachTileCoordParentTileRange(e,n,s,o){let a,c,h,f=null,m=e[0]-1;for(this.zoomFactor_===2?(c=e[1],h=e[2]):f=this.getTileCoordExtent(e,o);m>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),a=li(c,c,h,h,s)):a=this.getTileRangeForExtentAndZ(f,m,s),n(m,a))return!0;--m}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,s){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const a=e[1]*2,c=e[2]*2;return li(a,a+1,c,c+1,n)}const o=this.getTileCoordExtent(e,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const o=e[0],a=e[1],c=e[2];if(n===o)return li(a,c,a,c,s);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,n-o),m=Math.floor(a*f),p=Math.floor(c*f);if(n<o)return li(m,m,p,p,s);const y=Math.floor(f*(a+1))-1,v=Math.floor(f*(c+1))-1;return li(m,y,p,v,s)}const h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(e,n,s){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,ui);const o=ui[1],a=ui[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,ui);const c=ui[1],h=ui[2];return li(o,c,a,h,s)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),s=this.getResolution(e[0]),o=St(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*o[0]*s,n[1]-(e[2]+.5)*o[1]*s]}getTileCoordExtent(e,n){const s=this.getOrigin(e[0]),o=this.getResolution(e[0]),a=St(this.getTileSize(e[0]),this.tmpSize_),c=s[0]+e[1]*a[0]*o,h=s[1]-(e[2]+1)*a[1]*o,f=c+a[0]*o,m=h+a[1]*o;return Ti(c,h,f,m,n)}getTileCoordForCoordAndResolution(e,n,s){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,s)}getTileCoordForXYAndResolution_(e,n,s,o,a){const c=this.getZForResolution(s),h=s/this.getResolution(c),f=this.getOrigin(c),m=St(this.getTileSize(c),this.tmpSize_);let p=h*(e-f[0])/s/m[0],y=h*(f[1]-n)/s/m[1];return o?(p=el(p,qn)-1,y=el(y,qn)-1):(p=Jo(p,qn),y=Jo(y,qn)),yl(c,p,y,a)}getTileCoordForXYAndZ_(e,n,s,o,a){const c=this.getOrigin(s),h=this.getResolution(s),f=St(this.getTileSize(s),this.tmpSize_);let m=(e-c[0])/h/f[0],p=(c[1]-n)/h/f[1];return o?(m=el(m,qn)-1,p=el(p,qn)-1):(m=Jo(m,qn),p=Jo(p,qn)),yl(s,m,p,a)}getTileCoordForCoordAndZ(e,n,s){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,s)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const s=pc(this.resolutions_,e,n||0);return He(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return ym(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,s=new Array(n);for(let o=this.minZoom;o<n;++o)s[o]=this.getTileRangeForExtentAndZ(e,o);this.fullTileRanges_=s}}function qm(i){let e=i.getDefaultTileGrid();return e||(e=ME(i),i.setDefaultTileGrid(e)),e}function SE(i,e,n){const s=e[0],o=i.getTileCoordCenter(e),a=$c(n);if(!_c(a,o)){const c=De(a),h=Math.ceil((a[0]-o[0])/c);return o[0]+=c*h,i.getTileCoordForCoordAndZ(o,s)}return e}function IE(i,e,n,s){s=s!==void 0?s:"top-left";const o=Qm(i,e,n);return new bm({extent:i,origin:T_(i,s),resolutions:o,tileSize:n})}function LE(i){const e=i||{},n=e.extent||It("EPSG:3857").getExtent(),s={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Qm(n,e.maxZoom,e.tileSize,e.maxResolution)};return new bm(s)}function Qm(i,e,n,s){e=e!==void 0?e:o1,n=St(n!==void 0?n:Fc);const o=dt(i),a=De(i);s=s>0?s:Math.max(a/n[0],o/n[1]);const c=e+1,h=new Array(c);for(let f=0;f<c;++f)h[f]=s/Math.pow(2,f);return h}function ME(i,e,n,s){const o=$c(i);return IE(o,e,n,s)}function $c(i){i=It(i);let e=i.getExtent();if(!e){const n=180*yc.degrees/i.getMetersPerUnit();e=Ti(-n,-n,n,n)}return e}class PE extends pv{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&St(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||ht(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,s,o,a){return Ie()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:qm(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,s){const o=this.getTileGridForProjection(s),a=this.getTilePixelRatio(n),c=St(o.getTileSize(e),this.tmpSize);return a==1?c:Qy(c,a,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){const s=n!==void 0?n:this.getProjection(),o=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(e=SE(o,e,s)),tE(e,o)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class AE extends rr{constructor(e,n){super(e),this.tile=n}}const kE=/\{z\}/g,DE=/\{x\}/g,OE=/\{y\}/g,NE=/\{-y\}/g;function FE(i,e,n,s,o){return i.replace(kE,e.toString()).replace(DE,n.toString()).replace(OE,s.toString()).replace(NE,function(){if(o===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(o-s).toString()})}function zE(i){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(i);if(n){const s=n[1].charCodeAt(0),o=n[2].charCodeAt(0);let a;for(a=s;a<=o;++a)e.push(i.replace(n[0],String.fromCharCode(a)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(i),n){const s=parseInt(n[2],10);for(let o=parseInt(n[1],10);o<=s;o++)e.push(i.replace(n[0],o.toString()));return e}return e.push(i),e}function UE(i,e){return function(n,s,o){if(!n)return;let a;const c=n[0];if(e){const h=e.getFullTileRange(c);h&&(a=h.getHeight()-1)}return FE(i,c,n[1],n[2],a)}}function jE(i,e){const n=i.length,s=new Array(n);for(let o=0;o<n;++o)s[o]=UE(i[o],e);return XE(s)}function XE(i){return i.length===1?i[0]:function(e,n,s){if(!e)return;const o=Jv(e),a=_i(o,i.length);return i[a](e,n,s)}}class bc extends PE{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===bc.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,s=ht(n),o=n.getState();let a;o==b.LOADING?(this.tileLoadingKeys_[s]=!0,a=Ju.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],a=o==b.ERROR?Ju.TILELOADERROR:o==b.LOADED?Ju.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new AE(a,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=zE(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(jE(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,s){}}class GE extends bc{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:VE,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Xm,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Fu(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Fu(n,e)))return this.tileGrid;const s=ht(e);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=qm(e)),this.tileGridForProjection[s]}createTile_(e,n,s,o,a,c){const h=[e,n,s],f=this.getTileCoordForTileUrlFunction(h,a),m=f?this.tileUrlFunction(f,o,a):void 0,p=new this.tileClass(h,m!==void 0?b.IDLE:b.EMPTY,m!==void 0?m:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=c,p.addEventListener(ye.CHANGE,this.handleTileChange.bind(this)),p}getTile(e,n,s,o,a){const c=this.getProjection();if(!c||!a||Fu(c,a))return this.getTileInternal(e,n,s,o,c||a);const h=[e,n,s],f=this.getKey(),m=this.getTileGridForProjection(c),p=this.getTileGridForProjection(a),y=this.getTileCoordForTileUrlFunction(h,a),v=new gc(c,m,a,p,h,y,this.getTilePixelRatio(o),this.getGutter(),(x,E,S,L)=>this.getTileInternal(x,E,S,L,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return v.key=f,v}getTileInternal(e,n,s,o,a){const c=this.getKey();return this.createTile_(e,n,s,o,a,c)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const s=It(e);if(s){const o=ht(s);o in this.tileGridForProjection||(this.tileGridForProjection[o]=n)}}}function VE(i,e){i.getImage().src=e}class BE extends GE{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",s=e.tileGrid!==void 0?e.tileGrid:LE({extent:$c(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const WE='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class YE extends BE{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[WE];const s=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",o=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:s,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:o,wrapX:e.wrapX,zDirection:e.zDirection})}}const KE="5d0b38825ba9e80dee5e6947e69e6ef4";function Jm(i,e){const s=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${i}&units=metric&appid=${KE}`;return fetch(s)}function ZE(i){return kt.useEffect(()=>{const e=new CE({preload:1/0,source:new YE}),n=new $v({target:"map",layers:[e],view:new hn({center:[0,0],zoom:0})});return n.addEventListener("click",async function(s){await Jm(s.coordinate[0],s.coordinate[1]).then(o=>o.json()).then(o=>{let a=o;i.onNewInfo(a)})}),()=>n.setTarget(null)},[]),Me.jsx("div",{style:{height:"99vh",width:"100%"},id:"map",className:"map-container"})}function HE(){fy(),window.onload=i;async function i(){Jm(-.135278,51.510357).then(X=>X.json()).then(X=>{J(X)})}const[e,n]=kt.useState(),[s,o]=kt.useState("sunny"),[a,c]=kt.useState(0),[h,f]=kt.useState("London"),[m,p]=kt.useState(3),[y,v]=kt.useState(5),[x,E]=kt.useState(92),[S,L]=kt.useState(4),[N,A]=kt.useState(30),[Y,D]=kt.useState("02d"),[k,K]=kt.useState(10);async function J(X){c(Math.floor(X.main.temp)),f(X.name),o(X.weather[0].description),p(X.wind.speed),E(X.main.humidity),X.wind.gust?v(X.wind.gust):v(X.wind.speed);let Z=new Date(X.dt*1e3);L(Z.getHours()+Z.getTimezoneOffset()/60+X.timezone/3600);let B=Z.getMinutes();B<10&&(B="0"+B),A(B),D(X.weather[0].icon),K(Math.floor(X.main.feels_like))}return Me.jsxs(Me.Fragment,{children:[Me.jsx(l_,{city:h,time:S.toString()+":"+N.toString(),icon:a_[Y],weather:s,temp:a+"C",realFeel:k+"C",wind:m+"m/s",gusts:y+"m/s",humidity:x+"%"}),Me.jsx(ZE,{info:e,setter:n,onNewInfo:J})]})}o_.createRoot(document.getElementById("root")).render(Me.jsx(kt.StrictMode,{children:Me.jsx(HE,{})}));
